{"config":{"lang":["hu"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Sk\u00e1l\u00e1zhat\u00f3 szoftverek","text":"<p>Jegyzetek, gyakorlati anyagok \u00e9s h\u00e1zi feladatok a Sk\u00e1l\u00e1zhat\u00f3 szoftverek c. t\u00e1rgyhoz.</p> <p>Jav\u00edt\u00e1s az anyagban</p> <p>A t\u00e1rgy hallgat\u00f3inak a jegyzet anyag\u00e1ban t\u00f6rt\u00e9n\u0151 jav\u00edt\u00e1s\u00e9rt, kieg\u00e9sz\u00edt\u00e9s\u00e9rt plusz pontot adunk! Ha hib\u00e1t tal\u00e1lsz a jegyzet b\u00e1rmely r\u00e9sz\u00e9ben, vagy kieg\u00e9sz\u00edten\u00e9d azt, nyiss egy pull request-et! A repository linkj\u00e9t a jobb fels\u0151 sarokban tal\u00e1lod.</p> <p>Felhaszn\u00e1l\u00e1si felt\u00e9telek</p> <p>Az itt tal\u00e1lhat\u00f3 oktat\u00e1si seg\u00e9danyagok a BMEVIAUMB11 t\u00e1rgy hallgat\u00f3inak k\u00e9sz\u00fcltek. Az anyagok oly m\u00f3d\u00fa felhaszn\u00e1l\u00e1sa, amely a t\u00e1rgy oktat\u00e1s\u00e1hoz nem szorosan kapcsol\u00f3dik, csak a szerz\u0151(k) \u00e9s a forr\u00e1s megjel\u00f6l\u00e9s\u00e9vel t\u00f6rt\u00e9nhet.</p> <p>Az anyagok a t\u00e1rgy keret\u00e9ben oktatott kontextusban \u00e9rtelmezhet\u0151ek. Az anyagok\u00e9rt egy\u00e9b felhaszn\u00e1l\u00e1s eset\u00e9n a szerz\u0151(k) felel\u0151ss\u00e9get nem v\u00e1llalnak.</p>"},{"location":"homework/mslearning/","title":"NHF pontok\u00e9rt elsz\u00e1molhat\u00f3 Azure tananyagok","text":"<p>M\u00e9g nincs v\u00e9gleges\u00edtve 2024. \u0151szi f\u00e9l\u00e9vre</p> <p>Kiz\u00e1r\u00f3lag az al\u00e1bb meghat\u00e1rozott Azure tananyagok elsaj\u00e1t\u00edt\u00e1s\u00e1\u00e9rt NHF pontok szerezhet\u0151k.</p>"},{"location":"homework/mslearning/#tananyagok","title":"Tananyagok","text":"<p>A Microsoft Learn oldalon tal\u00e1ltok gyakorlatmodulokat, amik k\u00e9pz\u00e9si tervekbe vannak \u00f6sszefogva. Az al\u00e1bbi sz\u0171r\u00e9s \u00e1ltal kijel\u00f6lt k\u00e9pz\u00e9si tervek sz\u00e1m\u00edtanak be: sz\u0171r\u00e9s.</p> <p>Azaz a tall\u00f3z\u00f3 oldalon azok j\u00f6nnek sz\u00f3ba, melyek</p> <ul> <li>k\u00e9pz\u00e9si terv t\u00edpus\u00faak (Type: Learning Path) \u00e9s</li> <li>az al\u00e1bbi Azure szolg\u00e1ltat\u00e1sokra (Products sz\u0171r\u0151) vonatkoznak</li> <li>Azure Container Apps</li> <li>Azure Container Instances</li> <li>Azure Container Registry</li> <li>Azure Functions</li> <li>Azure Kubernetes Service (AKS)</li> </ul> <p>Szint\u00e9n elfogadjuk az al\u00e1bbi min\u0151s\u00edt\u00e9ses oldalakon a felk\u00e9sz\u00fcl\u00e9si anyagok k\u00f6z\u00f6tt list\u00e1zott k\u00e9pz\u00e9si terveket:</p> <ul> <li>Microsoft Certified: Azure Fundamentals</li> <li>Microsoft Certified: Azure Developer Associate</li> <li>Microsoft Certified: Azure Administrator Associate</li> <li>Microsoft Certified: DevOps Engineer Expert</li> </ul> <p>Nem sz\u00e1m\u00edtanak be a f\u00e9l\u00e9vk\u00f6zi h\u00e1zikban el\u0151\u00edrt Microsoft Learn modulok k\u00e9pz\u00e9si tervei.</p> <p>Tip</p> <p>Sz\u00e1mos k\u00e9pz\u00e9si terv el\u00e9rhet\u0151 magyarul is.</p> <p>Warning</p> <p>Az \u00f6sszes elv\u00e9gzett k\u00e9pz\u00e9si tervet ugyanazon egyetemi M365 (@edu.bme.hu) account-otokkal bel\u00e9pve v\u00e9gezz\u00e9tek el</p> <p>Warning</p> <p>A r\u00e9szben elv\u00e9gzett k\u00e9pz\u00e9si tervek, illetve olyan modulok, ahol a tartalmaz\u00f3 k\u00e9pz\u00e9si terv nincs elv\u00e9gezve - nem elfogadhat\u00f3k</p>"},{"location":"homework/mslearning/#vedes","title":"V\u00e9d\u00e9s","text":"<p>A HF v\u00e9d\u00e9s keret\u00e9ben az egyetemi M365 account-otokkal (@edu.bme.hu) bel\u00e9pve a MS Learn oldalra igazolnotok kell a k\u00e9pz\u00e9si tervek elv\u00e9gz\u00e9s\u00e9t. Ezen t\u00falmen\u0151en sz\u00far\u00f3pr\u00f3baszer\u0171en belek\u00e9rdezhet\u00fcnk az elm\u00e9leti r\u00e9szbe (l\u00e1sd a modulok v\u00e9g\u00e9n a tud\u00e1spr\u00f3ba, feleletv\u00e1laszt\u00f3s teszt r\u00e9szeket)</p> <p>Warning</p> <p>Ha valamelyik k\u00e9pz\u00e9si terv b\u00e1rmely modulj\u00e1n\u00e1l a v\u00e9d\u00e9s nem siker\u00fcl, a teljes k\u00e9pz\u00e9si terv idej\u00e9b\u0151l semmit sem lehet besz\u00e1m\u00edtani.</p>"},{"location":"homework/mslearning/#pontszamitas","title":"Pontsz\u00e1m\u00edt\u00e1s","text":"<p>Besz\u00e1m\u00edtott id\u0151 megv\u00e9dett k\u00e9pz\u00e9si tervenk\u00e9nt: a k\u00e9pz\u00e9si terv c\u00edme alatt l\u00e1that\u00f3 id\u0151tartam. Az \u00f6sszegzett perceket a CSV \u00d6sszesen sor\u00e1b\u00f3l felfel\u00e9 kerek\u00edtj\u00fck a k\u00f6vetkez\u0151 eg\u00e9sz \u00f3r\u00e1ra.</p> <p>Id\u0151tartam \u00e1tsz\u00e1m\u00edt\u00e1sa pontokra: 1 \u00f3ra = 1 pont. Maximum 24 pont (\u00f3ra).</p>"},{"location":"homework/mslearning/#a-szabalyrendszer-valtozasa","title":"A szab\u00e1lyrendszer v\u00e1ltoz\u00e1sa","text":"<p>V\u00e9gleges\u00edt\u00e9s ut\u00e1n is fenntartjuk a jogot</p> <ul> <li>az elv\u00e9gezhet\u0151 tananyagok halmaz\u00e1nak b\u0151v\u00edt\u00e9s\u00e9re</li> <li>a pontsz\u00e1m\u00edt\u00e1si hat\u00e1rok kedvez\u0151bb\u00e9 t\u00e9tel\u00e9re</li> <li>pontos\u00edt\u00e1sra, helyes\u00edr\u00e1si hib\u00e1k jav\u00edt\u00e1s\u00e1ra</li> <li>egy\u00e9b v\u00e1ltoztat\u00e1sra egyetemi szab\u00e1lyok v\u00e1ltoz\u00e1sa miatt (pl. j\u00e1rv\u00e1nyhelyzet miatt)</li> </ul> <p>Ezen v\u00e1ltoztat\u00e1sokat hallgat\u00f3k is kezdem\u00e9nyezhetik pull request k\u00fcld\u00e9s\u00e9vel. A v\u00e1ltoz\u00e1sokat a github history-ban k\u00f6vethetitek.</p>"},{"location":"homework/pontrendszer/","title":"Pontrendszer","text":"<p>M\u00e9g nincs v\u00e9gleges\u00edtve 2024. \u0151szi f\u00e9l\u00e9vre</p> <p>A h\u00e1zi feladat otthon, \u00f6n\u00e1ll\u00f3an elk\u00e9sz\u00edtend\u0151 mikroszolg\u00e1ltat\u00e1sok architekt\u00far\u00e1ra \u00e9p\u00fcl\u0151 \u00e9s kont\u00e9nertechnol\u00f3gi\u00e1t haszn\u00e1l\u00f3 szoftverrendszer elk\u00e9sz\u00edt\u00e9se \u00e9s m\u0171k\u00f6d\u0151k\u00e9pes \u00e1llapotban val\u00f3 bemutat\u00e1sa.</p>"},{"location":"homework/pontrendszer/#minimum-elvarasok","title":"Minimum elv\u00e1r\u00e1sok","text":"<ul> <li>a rendszer kifel\u00e9 egy j\u00f3l k\u00f6r\u00fclhat\u00e1rolhat\u00f3 funkci\u00f3halmazzal rendelkez\u0151 (pl. k\u00f6nyvt\u00e1ri nyilv\u00e1ntart\u00e1s) egys\u00e9ges szolg\u00e1ltat\u00e1st (backend) val\u00f3s\u00edt meg,</li> <li>de bel\u00fcl t\u00f6bb r\u00e9szre (mikroszolg\u00e1ltat\u00e1s) van darabolva. A mikroszolg\u00e1ltat\u00e1sok k\u00fcl\u00f6n-k\u00fcl\u00f6n API-val rendelkeznek, mely h\u00e1l\u00f3zaton kereszt\u00fcl (pl. m\u00e1s mikroszolg\u00e1ltat\u00e1sokb\u00f3l) h\u00edvhat\u00f3.</li> <li> <p>a szolg\u00e1ltat\u00e1s minden r\u00e9sze valamely orkesztr\u00e1ci\u00f3s vagy serverless platformon fut. V\u00e1laszthat\u00f3 platformok: </p> <ul> <li>saj\u00e1t g\u00e9pen fut\u00f3 (on-premise) Kubernetes (K8S)</li> <li>saj\u00e1t g\u00e9pen fut\u00f3 (on-premise) docker compose</li> <li>Azure Kubernetes Services (AKS)</li> <li>Azure Functions</li> <li>Azure Container Apps (ACA)</li> </ul> </li> <li> <p>felhaszn\u00e1l\u00f3i fel\u00fclet (kliens) k\u00e9sz\u00edt\u00e9se nem elv\u00e1r\u00e1s, de en\u00e9lk\u00fcl is tudni kell demonstr\u00e1lni a m\u0171k\u00f6d\u00e9st, p\u00e9ld\u00e1ul Postman klienssel h\u00edvva a REST API-t. Az esetleges fel\u00fcletet, klienst nem \u00e9rt\u00e9kelj\u00fck, pontozzuk</p> </li> <li>A minimum elv\u00e1r\u00e1sokat teljes\u00edt\u0151 rendszer 24 pontot \u00e9r</li> </ul> <p>Tip</p> <p>K\u00fcls\u0151 (pl. Microsoft-os) dem\u00f3k, mintaalkalmaz\u00e1sok (elemei) felhaszn\u00e1lhat\u00f3k, de ezt k\u00fcl\u00f6n jelezni kell bemutat\u00e1skor. A nem jelzett, de \u00e1tvett r\u00e9szletek pl\u00e1giumnak sz\u00e1m\u00edtanak. A dem\u00f3kb\u00f3l \u00f6sszef\u00e9rcelt egym\u00e1shoz nem kapcsol\u00f3d\u00f3 funkci\u00f3kupacokat nem d\u00edjazzuk.</p> <p>Tip</p> <p>Az \u00f3rai dem\u00f3kban vagy mintaalkalmaz\u00e1sban megval\u00f3s\u00edtott funkci\u00f3k \u00e1tv\u00e9tel\u00e9\u00e9rt pont nem adhat\u00f3, de azok tov\u00e1bb \u00e1tdolgozhat\u00f3ak saj\u00e1t implement\u00e1ci\u00f3nak.</p>"},{"location":"homework/pontrendszer/#kotelezo-leadandok","title":"K\u00f6telez\u0151 leadand\u00f3k","text":"<p>A h\u00e1zi feladatot a moodle-ben publik\u00e1lt GitHub Classroom megh\u00edv\u00f3val gener\u00e1lt repository-ban sz\u00fcks\u00e9ges beadni a kis h\u00e1zi feladatokhoz hasonl\u00f3an. Viszont ezt sz\u00f3ban is meg kell v\u00e9deni a laborvezet\u0151n\u00e9l el\u0151re egyeztetett id\u0151pontban a vizsgaid\u0151szakban.</p> <p>A beadott repository strukt\u00far\u00e1ja:</p> <ul> <li><code>src</code> mappa: forr\u00e1sk\u00f3d (saj\u00e1t)</li> <li><code>architecture.png</code>: \"dokument\u00e1ci\u00f3\" lead\u00e1sa a h\u00e1zi feladattal egy\u00fctt, min egy darab architekt\u00fara \u00e1br\u00e1b\u00f3l (p\u00e9lda) \u00e1ll. Az \u00e1br\u00e1n l\u00e1tszanak a mikroszolg\u00e1ltat\u00e1sok \u00e9s a k\u00f6zt\u00fck l\u00e9v\u0151 kapcsolatok.<ul> <li>Ha t\u00f6bb platformra is elk\u00e9sz\u00fcl a h\u00e1zi, akkor annyi architekt\u00fara \u00e1br\u00e1t kell k\u00e9sze\u00edteni.</li> </ul> </li> <li> <p><code>points.csv</code>: CSV a megszerzend\u0151 jogc\u00edmekr\u0151l \u00e9s a pontsz\u00e1mukr\u00f3l \u00e9s azok szumm\u00e1ja. El\u00e9g a jogc\u00edmek r\u00f6vid\u00edtett neve. P\u00e9lda:</p> <pre><code>MIN;24\nIaC;10\n...\nSum;82\n</code></pre> </li> <li> <p><code>azure-learn.csv</code>: Opcion\u00e1lis: Ha Azure tananyagot dolgozt\u00e1l fel, CSV az elv\u00e9gzett k\u00e9pz\u00e9si tervekr\u0151l \u00e9s a hosszukr\u00f3l percben. A v\u00e9g\u00e9n k\u00fcl\u00f6n sorban \u00f6sszegezd a perceket. P\u00e9lda:</p> <pre><code>Microsoft Azure Fundamentals: Describe Azure architecture and services;205\nAZ-400: Development for enterprise DevOps;405\n\u00d6sszesen;610\n</code></pre> </li> </ul>"},{"location":"homework/pontrendszer/#platformvalasztas-vs-azure-koltsegek","title":"Platformv\u00e1laszt\u00e1s vs. Azure k\u00f6lts\u00e9gek","text":"<p>A t\u00e1rgy \u00e1ltal oktatott, prefer\u00e1lt architekt\u00far\u00e1k felh\u0151s k\u00f6lts\u00e9gei tipikusan magasabbak, mint amire a hallgat\u00f3i Azure el\u0151fizet\u00e9s kreditsz\u00e1m\u00e1t (100$ / 1 \u00e9v) m\u00e9retezt\u00e9k. A k\u00f6lts\u00e9geket lehet ugyan kontroll\u00e1lni, de ez folyamatos odafigyel\u00e9st ig\u00e9nyel. Nem akartuk elvenni a lehet\u0151s\u00e9get \u00e9s a motiv\u00e1ci\u00f3t a felh\u0151s szolg\u00e1ltat\u00e1sok kipr\u00f3b\u00e1l\u00e1s\u00e1t\u00f3l, de a felh\u0151s alapplatformok v\u00e1laszt\u00e1s\u00e1t a nagyh\u00e1zi keret\u00e9ben (k\u00fcl\u00f6n\u00f6sen AKS) alapestben nem aj\u00e1nljuk!</p> <p>Ha m\u00e9gis ezeket v\u00e1lasztan\u00e1d, n\u00e9h\u00e1ny tipp:</p> <ul> <li>\u00c9rdemes olyan platformokat v\u00e1lasztani, ahol k\u00f6nny\u0171 el\u00e9rni a 0 terhel\u00e9s = kb. 0 k\u00f6lts\u00e9g \u00e1llapotot. Az AKS-sel ezt neh\u00e9z, ACA \u00e9s Azure Functions eset\u00e9ben k\u00f6nnyebb</li> <li>Figyeld a k\u00f6lts\u00e9geket, de vedd figyelembe, hogy az elsz\u00e1mol\u00e1s laggolhat (k\u00e9s\u0151bb jelentkeznek a k\u00f6lts\u00e9gek)</li> <li>Legnagyobb k\u00f6lts\u00e9g okoz\u00f3k: adatb\u00e1zisok, fut\u00f3 virtu\u00e1lis g\u00e9pek \u00e9s node pool-ok, nagy mennyis\u00e9g\u0171 adat mozgat\u00e1sa r\u00e9gi\u00f3k k\u00f6z\u00f6tt</li> <li>Pr\u00f3b\u00e1ld egyszer\u0171s\u00edteni a felh\u0151s r\u00e9szt, k\u00e9t f\u00fcggetlen telep\u00edt\u00e9s eset\u00e9n nem kell, hogy minden nem-\u00fczleti funkci\u00f3 (pl. authentik\u00e1ci\u00f3) ugyanolyan komplex legyen a k\u00e9t telep\u00edt\u00e9sben (l\u00e1sd a pontrendszerben a k\u00e9t-f\u00fcggetlen-platformos jogc\u00edmet)</li> </ul> <p>Aj\u00e1nlott viszont</p> <ul> <li>saj\u00e1t g\u00e9pen fut\u00f3 (on-premise) K8S architekt\u00fara kieg\u00e9sz\u00edt\u00e9se egy-egy Azure szolg\u00e1ltat\u00e1ssal, pl. kont\u00e9nerek let\u00f6lt\u00e9se Azure Container Registry-b\u0151l</li> <li>IaC eszk\u00f6z\u00f6kkel (pl. terraform) egy-egy parancssori paranccsal lebontani, majd sz\u00fcks\u00e9g eset\u00e9n vissza\u00e9p\u00edteni az architekt\u00fara k\u00f6lts\u00e9ges r\u00e9szeit</li> </ul> <p>FAGYVESZ\u00c9LY!</p> <p>Ha a hallgat\u00f3i el\u0151fizet\u00e9sen a kredit elfogy, az el\u0151fizet\u00e9s befagyaszt\u00e1sra ker\u00fcl. Vannak er\u0151forr\u00e1st\u00edpusok, melyekn\u00e9l a le\u00e1ll\u00edt\u00e1s cs\u00f6kkenti vagy megsz\u00fcnteti a k\u00f6lts\u00e9get (pl. virtu\u00e1lis g\u00e9p), ugyanakkor vannak, melyeket nem lehet k\u00f6lts\u00e9gspr\u00f3l\u00e1s miatt \"kikapcsolni\" (tipikusan a t\u00e1rol\u00e1st v\u00e9gz\u0151 er\u0151forr\u00e1sok, adatb\u00e1zisok). A kredit elfogy\u00e1sa megakad\u00e1lyozhatja az Azure-os pontok megszerz\u00e9s\u00e9t!</p>"},{"location":"homework/pontrendszer/#azure-tananyagok-elvegzesenek-kotsegei","title":"Azure tananyagok elv\u00e9gz\u00e9s\u00e9nek k\u00f6ts\u00e9gei","text":"<p>Warning</p> <p>Vannak olyan k\u00e9pz\u00e9si tervek, amik saj\u00e1t el\u0151fizet\u00e9sen elv\u00e9gzend\u0151, kreditbe ker\u00fcl\u0151 m\u0171veleteket \u00edrnak el\u0151. Ezek is cs\u00f6kkentik a m\u00e1s Azure-os pontok megszerz\u00e9s\u00e9re ford\u00edthat\u00f3 keretet, \u00edgy \u00e9rdemes az emiatt l\u00e9trehozott er\u0151forr\u00e1sokat a lehet\u0151 leghamarabb t\u00f6r\u00f6lni.</p> <p>Microsoft Learn Sandbox</p> <p>Vannak olyan k\u00e9pz\u00e9si tervek, ahol lehet\u0151s\u00e9g van Microsoft Learn Sandbox haszn\u00e1lat\u00e1ra (pl. ebben a modulban - ez egy olyan Azure k\u00f6rnyezet, amihez nem kell el\u0151fizet\u00e9s. A Microsoft Learn Sandbox-r\u00f3l b\u0151vebben itt.</p>"},{"location":"homework/pontrendszer/#pontrendszer_1","title":"Pontrendszer","text":"<p>Az elk\u00e9sz\u00edtett rendszer egyes k\u00e9pess\u00e9geire az al\u00e1bbiak szerint pontok kaphat\u00f3ak. A v\u00e9gs\u0151 jegy az \u00f6sszpontsz\u00e1mb\u00f3l ad\u00f3dik.</p> Jegy Pont 5 80-100 4 67-79 3 54-66 2 40-53 1 0-39 <p>Tov\u00e1bbi szab\u00e1lyok:</p> <ul> <li>ahol egy pontsz\u00e1m van felt\u00fcntetve, ott r\u00e9szpontsz\u00e1m alapesetben nem kaphat\u00f3. T\u00f3l-ig-es megad\u00e1sn\u00e1l, ahol alesetekre van bontva a jogc\u00edm, ott az alesetekre r\u00e9szpontsz\u00e1m nem kaphat\u00f3. Ahol csak maximum van felt\u00fcntetve, ott r\u00e9szpontsz\u00e1m kaphat\u00f3. </li> <li>egy jogc\u00edmen csak egyszer szerezhet\u0151 pont, kiv\u00e9ve ahol ezt k\u00fcl\u00f6n jelezz\u00fck</li> </ul>"},{"location":"homework/pontrendszer/#altalanos-es-cross-technologia","title":"\u00c1ltal\u00e1nos \u00e9s cross-technol\u00f3gia","text":"<ul> <li> <p>{PLAT2} A szolg\u00e1ltat\u00e1s k\u00e9t k\u00fcl\u00f6nf\u00e9le orkesztr\u00e1ci\u00f3s/platformon fut, egym\u00e1st\u00f3l f\u00fcggetlen\u00fcl, teh\u00e1t a teljes szolg\u00e1ltat\u00e1s k\u00e9t egym\u00e1st\u00f3l f\u00fcggetlen telep\u00edt\u00e9ssel rendelkezik (pl. on-premise K8S \u00e9s AKS). Nem kell, hogy minden nem-\u00fczleti funkci\u00f3 (pl. authentik\u00e1ci\u00f3) ugyanolyan komplex legyen a k\u00e9t telep\u00edt\u00e9sben, csak az \u00fczleti funkci\u00f3k k\u00e9pess\u00e9gei egyezzenek. Legal\u00e1bb az egyik platformnak Azure-ban kell futnia: 20 pont</p> </li> <li> <p>{IaC} IaC (terraform, Bicep - ez Azure-only!, stb.) eszk\u00f6zzel legal\u00e1bb az \u00fczleti funkci\u00f3kat futtat\u00f3 architekt\u00farar\u00e9sz (K8S / AKS / Azure Function App platform) fel\u00e9p\u00edt\u00e9se \u00e9s lebont\u00e1sa. A vissza\u00e9p\u00edt\u00e9s v\u00e9g\u00e9n az alkalmaz\u00e1snak m\u0171k\u00f6dnie kell, nem el\u00e9g p\u00e9ld\u00e1ul egy \u00fcres AKS-t vissza\u00e9p\u00edteni. V\u00e9d\u00e9sen nem kell dem\u00f3zni (sok\u00e1ig tartana), de platformonk\u00e9nt egy fel\u00e9p\u00edt\u00e9sr\u0151l \u00e9s egy lebont\u00e1sr\u00f3l egy-egy kimeneti napl\u00f3t be kell tudni mutatni. 7-10 pont</p> <ul> <li>egyik platform telep\u00edt\u00e9s (pl. Azure-os) fel\u00e9p\u00edt\u00e9se-lebont\u00e1sa 7 pont</li> <li>mindk\u00e9t platform fel\u00e9p\u00edt\u00e9se-lebont\u00e1sa 10 pont</li> </ul> </li> <li> <p>{LANG2} T\u00f6bb implement\u00e1ci\u00f3s nyelv haszn\u00e1lata. A backend szolg\u00e1ltat\u00e1sok legal\u00e1bb k\u00e9t k\u00fcl\u00f6nb\u00f6z\u0151 programoz\u00e1si nyelven k\u00e9sz\u00fcltek. (A frontend ebbe nem sz\u00e1m\u00edt bele!): 5 pont</p> </li> <li> <p>{GRPC} gRPC alap\u00fa kommunik\u00e1ci\u00f3 haszn\u00e1lata legal\u00e1bb egy mikroszolg\u00e1ltat\u00e1s eset\u00e9ben: 7 pont</p> </li> <li> <p>{NOERR} Hibat\u0171r\u00e9st n\u00f6vel\u0151 kommunik\u00e1ci\u00f3s mint\u00e1k alkalmaz\u00e1sa k\u00fcls\u0151 komponensek seg\u00edts\u00e9g\u00e9vel (pl. Polly, Resilience4j, Tenacity). Saj\u00e1t minta implement\u00e1ci\u00f3\u00e9rt nem j\u00e1r pont. Ha az API gateway val\u00f3s\u00edtja meg, szint\u00e9n nem j\u00e1r pont. X pont</p> </li> <li> <p>{APIGW} Saj\u00e1t telep\u00edt\u00e9s\u0171 API gateway haszn\u00e1lata. Csak az itt felsorolt implement\u00e1ci\u00f3k sz\u00e1m\u00edtanak: X-Y pont</p> <ul> <li>Traefik haszn\u00e1lata \u00fatvonalv\u00e1laszt\u00e1sra: X pont</li> <li>M\u00e1s, saj\u00e1t telep\u00edt\u00e9s\u0171 API gateway haszn\u00e1lata: Z pont</li> </ul> </li> <li> <p>{APIGW+AUTH} A szolg\u00e1ltat\u00e1s authentik\u00e1ci\u00f3j\u00e1nak kiszervez\u00e9se API gateway-be  (csak az itt felsorolt API gateway implement\u00e1ci\u00f3k sz\u00e1m\u00edtanak) forward authentik\u00e1ci\u00f3 haszn\u00e1lat\u00e1val: 7-12 pont</p> <ul> <li>OAuth proxy haszn\u00e1lat\u00e1val valamilyen elterjedt, k\u00fcls\u0151 vagy saj\u00e1t telep\u00edt\u00e9s\u0171 OAuth IDP (pl. KeyCloak, Entra) fel\u00e9 tov\u00e1bb\u00edtva: 12 pont</li> <li>Egy\u00e9b egyszer\u0171 saj\u00e1t dummy authentik\u00e1ci\u00f3s szolg\u00e1ltat\u00e1s fel\u00e9 tov\u00e1bb\u00edtva: 7 pont</li> </ul> </li> <li> <p>{MSGCOMM} \u00dczenetsor alap\u00fa kommunik\u00e1ci\u00f3 mikroszolg\u00e1ltat\u00e1sok k\u00f6z\u00f6tt saj\u00e1t telep\u00edt\u00e9s\u0171 (pl. RabbitMQ kont\u00e9ner) \u00fczenetsor, \u00fczenetkezel\u0151 (messaging) szolg\u00e1ltat\u00e1ssal</p> </li> <li> <p>{CACHE} Saj\u00e1t telep\u00edt\u00e9s\u0171 (pl. Redis kont\u00e9ner) haszn\u00e1lata kifejezetten cache-el\u00e9sre legal\u00e1bb egy m\u0171velet eset\u00e9n: X pont</p> </li> <li> <p>{HELM} A szolg\u00e1ltat\u00e1s kubernetes-en bel\u00fcl fut\u00f3 r\u00e9sze Helm chart-on kereszt\u00fcl telep\u00edthet\u0151. Sz\u00fcks\u00e9ges demonstr\u00e1lni a rendszer friss\u00edt\u00e9s\u00e9t a chart seg\u00edts\u00e9g\u00e9vel: X pont</p> </li> <li> <p>{ACRBUILD} Legal\u00e1bb egy saj\u00e1t kont\u00e9ner build-el\u00e9se Azure Container Registry-ben: X-Y pont</p> <ul> <li>ad-hoc build saj\u00e1t g\u00e9pr\u0151l felt\u00f6lt\u00f6tt context alapj\u00e1n: X pont</li> <li>build valamilyen triggerre (pl. commit egy adott git \u00e1gra): Y pont</li> </ul> </li> <li> <p>{K8SJOB} Kubernetes Job objektum haszn\u00e1lata, lefuttat\u00e1sa v\u00e9d\u00e9skor: X pont</p> </li> <li> <p>{K8SCRONJOB} Kubernetes CronJob objektum haszn\u00e1lata, kor\u00e1bbi lefut\u00e1s demonstr\u00e1l\u00e1sa v\u00e9d\u00e9skor: X pont</p> </li> <li> <p>{K8SCMAP} Kubernetes ConfigMap objektum haszn\u00e1lata valamely konfigur\u00e1ci\u00f3s be\u00e1ll\u00edt\u00e1s t\u00e1rol\u00e1s\u00e1ra: X pont</p> </li> <li> <p>{K8SSECRET} Kubernetes Secret objektum haszn\u00e1lata titok t\u00e1rol\u00e1s\u00e1ra: X-Y pont</p> <ul> <li>titok k\u00f6zvetlen felt\u00f6lt\u00e9se Secret objektumba: X pont</li> <li>titkok lek\u00e9pez\u00e9se saj\u00e1t Azure Key Vault-b\u00f3l Akv2k8s-re \u00e9p\u00edtve: Y pont</li> </ul> </li> <li> <p>{OT} OpenTelemetry alkalmaz\u00e1sa k\u00fcl\u00f6nf\u00e9le c\u00e9lokra: napl\u00f3z\u00e1sra, metrik\u00e1k monitoroz\u00e1sra, elosztott nyomk\u00f6vet\u00e9sre. Open Telemetry Collector komponens \u00e9s valamilyen aggreg\u00e1tor fel\u00fclet haszn\u00e1lata k\u00f6telez\u0151 (pl. Jaeger, Grafana, Azure Monitor), amin v\u00e9d\u00e9skor a napl\u00f3kat, metrik\u00e1kat, elosztott nyomk\u00f6vet\u00e9st be kell tudni mutatni: X-Z pont</p> <ul> <li>egyfajta c\u00e9lra X pont </li> <li>k\u00e9tfajta c\u00e9lra Y pont</li> <li>mindh\u00e1rom c\u00e9lra Z pont</li> <li>export\u00e1l\u00e1s Azure Monitor-ba W pont</li> </ul> </li> <li> <p>{HSC} Horizont\u00e1lis sk\u00e1l\u00e1z\u00e1s podok szintj\u00e9n. V\u00e9d\u00e9sen a (vissza)sk\u00e1l\u00e1z\u00e1st demonstr\u00e1lni kell X-Y pont</p> <ul> <li>Horizontal Pod AutoScaler alap\u00fa: X pont </li> <li>KEDA alap\u00fa, valamilyen adat, esem\u00e9ny alapj\u00e1n: Y pont</li> </ul> </li> <li> <p>{K8SNS} T\u00f6bb p\u00e9ld\u00e1ny (verzi\u00f3) telep\u00edt\u00e9se ugyanabba a k\u00f6rnyezetbe K8S namespace-ek vagy Azure Function deployemnet slot-ok haszn\u00e1lat\u00e1val. Azure Container Apps platform eset\u00e9n k\u00fcl\u00f6n Container Apps p\u00e9ld\u00e1ny haszn\u00e1lhat\u00f3: X pont</p> </li> <li> <p>{CICD} CI/CD folyamat implement\u00e1l\u00e1sa valamely elterjedt DevOps eszk\u00f6zre \u00e9p\u00edtve (GitHub Actions, Azure DevOps). Git push-ra a backend \u00faj verzi\u00f3ja elk\u00e9sz\u00fcl \u00e9s kitelep\u00fcl: X-Y pont</p> <ul> <li>egy platformra telep\u00edt: X pont </li> <li>k\u00e9t platformra telep\u00edt Y pont</li> </ul> </li> <li> <p>{SAGA} Saga minta implement\u00e1l\u00e1sa legal\u00e1bb egy folyamat eset\u00e9n X pont</p> </li> <li> <p>{CHAOS} Chaos engineering eszk\u00f6z alkalmaz\u00e1sa (pl. chaos mesh). V\u00e9d\u00e9sen szeml\u00e9ltet\u00e9s k\u00e1osz teszt futtat\u00e1ssal: X pont</p> </li> <li> <p>Event Sourcing, CQRS?</p> </li> <li> <p>K\u00f6rnyezetkezel\u00e9s?</p> </li> </ul>"},{"location":"homework/pontrendszer/#on-premise-futo-rendszerekhez","title":"On-premise fut\u00f3 rendszerekhez","text":"<ul> <li> <p>{OPDB2} Legal\u00e1bb k\u00e9tfajta on-premise adatb\u00e1zis haszn\u00e1lata. K\u00e9t elt\u00e9r\u0151 technol\u00f3gi\u00e1j\u00fa adatb\u00e1zis haszn\u00e1lata perzisztenci\u00e1ra. Mem\u00f3ria adatb\u00e1zis, cache adatb\u00e1zis (Redis) nem sz\u00e1m\u00edt be: X pont</p> </li> <li> <p>{OPACR} Kont\u00e9nerek vagy helm chart(ok) let\u00f6lt\u00e9se on-premise klaszterbe saj\u00e1t Azure Container Registry-b\u0151l: X-Y pont</p> <ul> <li>anonim el\u00e9r\u00e9ssel: X pont</li> <li>image pull secret-tel: Y pont</li> </ul> </li> <li> <p>{OPARC} On-premise Kubernetes bek\u00f6t\u00e9se Azure Arc-ba: X-Y pont</p> <ul> <li>A szolg\u00e1ltat\u00e1s on-premise Azure Function engine-en fut (preview!) +Y pont</li> </ul> </li> <li> <p>{OPSTR} Tart\u00f3s t\u00e1r, pl. lok\u00e1lis mappa csatol\u00e1sa klaszterbe. X pont</p> </li> </ul>"},{"location":"homework/pontrendszer/#azure-alapon-futo-rendszerekhez","title":"Azure alapon fut\u00f3 rendszerekhez","text":"<ul> <li>{AZDB2} Legal\u00e1bb k\u00e9tfajta Azure-os adatb\u00e1zisplatform haszn\u00e1lata (Azure SQL, Azure Database for PostgreSQL - Flexible Server, CosmosDB). K\u00e9t elt\u00e9r\u0151 technol\u00f3gi\u00e1j\u00fa adatb\u00e1zis haszn\u00e1lata perzisztenci\u00e1ra. Mem\u00f3ria adatb\u00e1zis, cache adatb\u00e1zis (Azure Redis) nem sz\u00e1m\u00edt be, egy\u00e9b NoSQL igen: 10 pont</li> </ul> <p>Tip</p> <p>30 napig ingyenes (t\u00f6bbsz\u00f6r is aktiv\u00e1lhat\u00f3!) Cosmos DB</p> <ul> <li> <p>{AZRED} Azure Redis szolg\u00e1ltat\u00e1s haszn\u00e1lata kifejezetten cache-el\u00e9sre saj\u00e1t telep\u00edt\u00e9s\u0171 cache helyett, legal\u00e1bb egy m\u0171velet eset\u00e9n: 5 pont</p> </li> <li> <p>{AZING} Valamely hivatalosan t\u00e1mogatott AKS ingress opci\u00f3 haszn\u00e1lata saj\u00e1t telep\u00edt\u00e9s\u0171 ingress / api gateway helyett: 7 pont</p> </li> <li> <p>{AZAPIMGW} Azure API Management haszn\u00e1lata gateway-k\u00e9nt. A kliensr\u0151l j\u00f6v\u0151 k\u00e9r\u00e9s el\u0151bb az API Management gateway-be fut be, ami az Azure-os klaszterben fut\u00f3 ingress vagy Azure Function-\u00f6k fel\u00e9 tov\u00e1bb\u00edt: 7 pont</p> </li> <li> <p>{AZAPIMAUTH} Authentik\u00e1ci\u00f3 kiszervez\u00e9se Azure API Management szolg\u00e1ltat\u00e1sba (p\u00e9lda): 8 pont</p> </li> <li> <p>{AZACR} Kont\u00e9nerek vagy helm chart(ok) let\u00f6lt\u00e9se Azure-beli klaszterbe vagy Azure Function-be saj\u00e1t Azure Container Registry-b\u0151l: 3-7 pont</p> <ul> <li>ACR admin felhaszn\u00e1l\u00f3 nev\u00e9ben: 3 pont</li> <li>managed identity alap\u00fa hozz\u00e1f\u00e9r\u00e9ssel: 7 pont</li> </ul> </li> <li> <p>{AZKVAU} Titkok lek\u00e9r\u00e9se saj\u00e1t Azure Key Vault-b\u00f3l managed identity alap\u00fa hozz\u00e1f\u00e9r\u00e9ssel: 7 pont</p> </li> <li> <p>{AZMSG} A mikroszolg\u00e1ltat\u00e1sok k\u00f6z\u00f6tti kommunik\u00e1ci\u00f3 kiszervez\u00e9se valamely Azure \u00fczenetkezel\u0151 szolg\u00e1ltat\u00e1sba (pl. Service Bus) managed identity alap\u00fa hozz\u00e1f\u00e9r\u00e9ssel: X pont</p> </li> <li> <p>{AZACA} Azure Container Apps sk\u00e1l\u00e1z\u00e1sa szab\u00e1ly alapj\u00e1n: X pont</p> </li> <li> <p>{AZMP} Metrik\u00e1k bek\u00f6t\u00e9se Azure Managed Prometheus-ba: X pont</p> </li> <li> <p>{AZAILOG} Napl\u00f3k bek\u00f6t\u00e9se Azure Application Insights-ba: X pont</p> </li> <li> <p>{AZTEL} K\u00fcl\u00f6nf\u00e9le telemetri\u00e1k - napl\u00f3k, metrik\u00e1k, elosztott nyomk\u00f6vet\u00e9s bek\u00f6t\u00e9se Azure Managed Grafana-ba vagy Azure Monitor (Application Insights-ba). V\u00e9d\u00e9sen szeml\u00e9ltet\u00e9s a telemetri\u00e1nak megfelel\u0151 vizualiz\u00e1ci\u00f3kon, vagy napl\u00f3k eset\u00e9n lek\u00e9rdez\u00e9sken, kereszt\u00fcl: X-Z pont</p> <ul> <li>Egyf\u00e9le telemetria: X pont</li> <li>K\u00e9tf\u00e9le telemetria: Y pont</li> <li>H\u00e1romf\u00e9le telemetria: Z pont</li> </ul> </li> <li> <p>{AZCS} Azure Chaos Studio haszn\u00e1lata k\u00e1osz teszt futtat\u00e1s\u00e1ra: 7 pont</p> </li> <li> <p>{AZSTR} Tart\u00f3s t\u00e1r, p\u00e9ld\u00e1ul Azure Disk, Azure Files csatol\u00e1sa AKS, ACA klaszterbe vagy Azure Function-be: 5 pont</p> </li> <li> <p>{AZFDF} Durable Functions haszn\u00e1lata mikroszolg\u00e1ltat\u00e1sok orkesztr\u00e1ci\u00f3j\u00e1ra Azure Functions platformon: 5 pont</p> </li> </ul>"},{"location":"homework/pontrendszer/#egyeb","title":"Egy\u00e9b","text":"<ul> <li>{BASE} A minimum elv\u00e1r\u00e1sokat teljes\u00edt\u0151 rendszer: 24 pont</li> <li>{ALLHF} Minden f\u00e9l\u00e9vk\u00f6zi h\u00e1zi feladat (6 db.) teljes\u00edt\u00e9se. Nem ar\u00e1nyos\u00edthat\u00f3 - csak akkor adhat\u00f3, ha minden h\u00e1zi teljes\u00edtett: 6 pont<ul> <li>NEM sz\u00fcks\u00e9ges a CSV-ben szerepeltetni, moodle-ben automatikusan sz\u00e1m\u00edtott pont</li> </ul> </li> <li>{MSLEARN} Azure tananyagok elsaj\u00e1t\u00edt\u00e1sa, kiz\u00e1r\u00f3lag a k\u00fcl\u00f6n le\u00edrt k\u00f6vetelm\u00e9nyek szerint: max. 24 pont</li> <li>{CONTRIB} Visszacsatol\u00e1s. A v\u00e9gleges\u00edtett pontrendszer vagy tananyag jav\u00edt\u00e1sa, b\u0151v\u00edt\u00e9se, m\u00f3dos\u00edt\u00e1sa pull request-tel. Helyes\u00edr\u00e1si hiba is lehet, de az oktat\u00f3k d\u00f6ntenek, hogy pontot \u00e9r-e a m\u00f3dos\u00edt\u00e1s. T\u00f6bbsz\u00f6r is megszerezhet\u0151. 0-2 pont, \u00f6sszesen max. 6 pont.<ul> <li>NEM sz\u00fcks\u00e9ges a CSV-ben szerepeltetni, moodle-ben kezelend\u0151 pont az oktat\u00f3k \u00e1ltal</li> </ul> </li> </ul>"},{"location":"homework/pontrendszer/#ponthatarok","title":"Ponthat\u00e1rok","text":""},{"location":"homework/pontrendszer/#a-szabalyrendszer-valtozasa","title":"A szab\u00e1lyrendszer v\u00e1ltoz\u00e1sa","text":"<p>V\u00e9gleges\u00edt\u00e9s ut\u00e1n is fenntartjuk a jogot</p> <ul> <li>a pontszerz\u00e9si jogc\u00edmek halmaz\u00e1nak b\u0151v\u00edt\u00e9s\u00e9re</li> <li>a pontsz\u00e1mok n\u00f6vel\u00e9s\u00e9re \u00e9s egy\u00e9b hallgat\u00f3knak el\u0151ny\u00f6s v\u00e1ltoztat\u00e1sokra</li> <li>pontos\u00edt\u00e1sra, helyes\u00edr\u00e1si hib\u00e1k jav\u00edt\u00e1s\u00e1ra</li> <li>egy\u00e9b v\u00e1ltoztat\u00e1sra egyetemi szab\u00e1lyok v\u00e1ltoz\u00e1sa miatt (pl. j\u00e1rv\u00e1nyhelyzet miatt)</li> </ul> <p>A pontrendszer, v\u00e9gleges\u00edt\u00e9s ut\u00e1n is, \u00e1ltalatok is m\u00f3dos\u00edthat\u00f3/b\u0151v\u00edthet\u0151. Ezt pull request form\u00e1j\u00e1ban egy megfelel\u0151 indokl\u00e1ssal ny\u00fajthatj\u00e1tok be, de a PR beny\u00fajt\u00e1sa nem jelenti annak az automatikus elfogad\u00e1s\u00e1t, arr\u00f3l minden esetben a t\u00e1rgy oktat\u00f3i d\u00f6ntenek.</p> <p>A v\u00e1ltoz\u00e1sokat a github history-ban k\u00f6vethetitek.</p>"},{"location":"homework/01-docker/","title":"01 - Kont\u00e9neriz\u00e1ci\u00f3","text":""},{"location":"homework/01-docker/#cel","title":"C\u00e9l","text":"<p>A labor c\u00e9lja megismerni a Docker kont\u00e9nerek haszn\u00e1lat\u00e1nak alapjait \u00e9s a leggyakrabban haszn\u00e1lt Docker CLI parancsokat.</p>"},{"location":"homework/01-docker/#elokovetelmenyek","title":"El\u0151k\u00f6vetelm\u00e9nyek","text":"<ul> <li>A h\u00e1zi le\u00edr\u00e1sban Windows platformot haszn\u00e1lunk, azonban a feladatok Linuxon \u00e9s Mac-en is megoldhat\u00f3ak (a k\u00f6nyvt\u00e1r el\u00e9r\u00e9si \u00fatvonalakat megfelel\u0151en \u00e1t\u00edrva).</li> <li>Docker Hub login</li> <li> <p>Docker Desktop</p> <ul> <li>https://www.docker.com/products/docker-desktop/</li> </ul> <p>Warning</p> <p>M\u00e1s ki\u00e9p\u00edt\u00e9sek, telep\u00edt\u00e9si form\u00e1k is el\u00e9rhet\u0151ek (pl. Docker Engine), de a Docker Desktop tartalmaz minden eszk\u00f6zt, amire sz\u00fcks\u00e9g\u00fcnk lehet. P\u00e9ld\u00e1ul <code>docker init</code> csak a Docker Desktop-ban van.</p> </li> <li> <p>Az opcion\u00e1lis feladathoz .NET 8 SDK. Ha van fent friss Visual Studio, akkor \u00e1ltal\u00e1ban nem kell k\u00fcl\u00f6n feltenni. Tesztelheted \u00edgy</p> </li> <li>Microsoft Visual Studio Code<ul> <li>Javasolt: Docker extension</li> </ul> </li> <li>Alap Linux parancsok ismerete. \u00c9rdemes \u00e1tn\u00e9zni pl.:<ul> <li>http://bmeaut.github.io/snippets/snippets/0700_LinuxBev/</li> <li>https://maker.pro/linux/tutorial/basic-linux-commands-for-beginners</li> <li>https://www.pcsuggest.com/basic-linux-commands/</li> </ul> </li> </ul>"},{"location":"homework/01-docker/#elokeszulet","title":"El\u0151k\u00e9sz\u00fclet","text":"<p>A feladatok megold\u00e1sa sor\u00e1n ne felejtsd el k\u00f6vetni a feladat bead\u00e1s folyamat\u00e1t GitHub.</p>"},{"location":"homework/01-docker/#git-repository-letrehozasa-es-letoltese","title":"Git repository l\u00e9trehoz\u00e1sa \u00e9s let\u00f6lt\u00e9se","text":"<ol> <li>Moodle-ben keresd meg a laborhoz tartoz\u00f3 megh\u00edv\u00f3 URL-j\u00e9t \u00e9s annak seg\u00edts\u00e9g\u00e9vel hozd l\u00e9tre a saj\u00e1t repository-dat.</li> <li>V\u00e1rd meg, m\u00edg elk\u00e9sz\u00fcl a repository, majd checkout-old ki.</li> <li>Hozz l\u00e9tre egy \u00faj \u00e1gat <code>megoldas</code> n\u00e9ven, \u00e9s ezen az \u00e1gon dolgozz.</li> <li>A <code>neptun.txt</code> f\u00e1jlba \u00edrd bele a Neptun k\u00f3dodat. A f\u00e1jlban semmi m\u00e1s ne szerepeljen, csak egyetlen sorban a Neptun k\u00f3d 6 karaktere.</li> </ol> <p>NEPTUN</p> <p> A p\u00e9ld\u00e1kban a <code>neptun</code> helyett a saj\u00e1t neptunk\u00f3dunkat helyettes\u00edts\u00fck be. Ha neptun-k\u00e9nt l\u00e1tod, akkor kisbet\u0171vel \u00edrd; ha NEPTUN-k\u00e9nt, akkor nagybet\u0171vel </p>"},{"location":"homework/01-docker/#0-feladat","title":"0. Feladat","text":""},{"location":"homework/01-docker/#docker-hello-world","title":"Docker hello world","text":"<p>Tesztelj\u00fck a Docker telep\u00edt\u00e9s\u00fcnket a <code>hello-world</code> image futtat\u00e1s\u00e1val.</p> <p>Nyissunk egy konzolt, \u00e9s adjuk ki a k\u00f6vetkez\u0151 parancsokat. Ezzel ellen\u0151rizhetj\u00fck, hogy a docker CLI el\u00e9rhet\u0151-e.</p> <pre><code>docker --version\n</code></pre> <p>Futtassunk egy egyszer\u0171 el\u0151re elk\u00e9sz\u00edtett kont\u00e9nert, ami ki\u00edr egy p\u00e9lda sz\u00f6veget a konzolra. Fontos, hogy a telep\u00edtett Docker Desktop fusson a h\u00e1tt\u00e9rben!</p> <pre><code>docker run hello-world\n</code></pre> <ul> <li>hello-word az image neve: https://hub.docker.com/_/hello-world</li> <li>Image let\u00f6lt\u0151dik, elindul, lefut a benne le\u00edrt program.</li> </ul>"},{"location":"homework/01-docker/#kontener-futtatasa-interaktiv-modon","title":"Kont\u00e9ner futtat\u00e1sa interakt\u00edv m\u00f3don","text":"<ul> <li> <p>Futtassunk egy nat\u00far <code>ubuntu</code> kont\u00e9nert interakt\u00edv m\u00f3don (<code>-it</code> kapcsol\u00f3val), \u00edgy a fut\u00f3 kont\u00e9nerben egy shell-en kereszt\u00fcl tudunk tetsz\u0151leges parancsokat futtatni.</p> <pre><code>docker run -it ubuntu\n</code></pre> </li> <li> <p>N\u00e9zz\u00fck meg a f\u00e1jlrendszert:</p> <pre><code>ls\n</code></pre> </li> <li> <p>L\u00e9pj\u00fcnk ki az interakt\u00edv shell-b\u0151l:</p> <pre><code>exit\n</code></pre> <p>Kont\u00e9ner termin\u00e1lt, mert a bash folyamat meg\u00e1llt az <code>exit</code> hat\u00e1s\u00e1ra. Kont\u00e9ner addig fut, am\u00edg a benne lev\u0151 alkalmaz\u00e1s (folyamat) fut. Le\u00e1llt kont\u00e9ner nem t\u00f6rl\u0151dik automatikusan, tartalma nem veszik el.</p> </li> <li> <p>List\u00e1zzuk ki a kont\u00e9nereinket:</p> <pre><code>docker ps -a\n</code></pre> <p>N\u00e9zz\u00fck meg a parancs eredm\u00e9ny\u00e9t. Keress\u00fck meg a kont\u00e9nerek id-j\u00e1t.</p> </li> <li> <p>T\u00e1vol\u00edtsuk el a k\u00e9t kont\u00e9nert, amit mi ind\u00edtottunk:</p> <pre><code>docker rm &lt;id1|name&gt; &lt;id2|name&gt;\n</code></pre> <p>Tip</p> <p>ID helyett a kont\u00e9ner nev\u00e9t is megadhatjuk. Az automatikusan gener\u00e1lt nevek helyett pedig a <code>run</code> parancs <code>--name</code> kapcsol\u00f3j\u00e1val adhatunk nevet a kont\u00e9nernek.</p> </li> </ul> Gyakoribb Docker parancsok <ul> <li>Adjuk ki a <code>docker</code> parancsot a help-hez.</li> <li>Adminisztrat\u00edv parancsok: mivel mit, pl. <code>docker image ls</code></li> <li>Kezel\u0151 parancsok: parancs argumentumok, pl. <code>docker rmi &lt;id&gt;</code></li> <li>Gyakran haszn\u00e1ltak:</li> <li>Kont\u00e9nerek kezel\u00e9se<ul> <li><code>docker container ls [-all]</code> vagy <code>docker ps [-a]</code></li> <li><code>docker run [opci\u00f3k] &lt;image&gt;</code></li> <li><code>docker stop &lt;id&gt;</code></li> <li><code>docker rm &lt;id&gt;</code></li> </ul> </li> <li>Image-ek kezel\u00e9se<ul> <li><code>docker pull &lt;image&gt;</code></li> <li><code>docker image ls</code> vagy <code>docker images</code></li> <li><code>docker rmi &lt;image&gt;</code></li> <li><code>docker tag &lt;id&gt; &lt;tag&gt;</code></li> </ul> </li> <li>Konkr\u00e9t parancshoz seg\u00edts\u00e9g: <code>docker &lt;parancs&gt; --help</code></li> <li>Minden kont\u00e9ner (fut\u00f3k is!) elt\u00e1vol\u00edt\u00e1sa: <code>docker rm -f $(docker ps -aq)</code></li> </ul> <p>GUI vs CLI</p> <p>A Dockerhez m\u00e1r nagyon sok hasznos GUI-val rendelkez\u0151 eszk\u00f6z l\u00e9tezik, amik nagyban megk\u00f6nny\u00edtik a fejleszt\u0151k \u00e9let\u00e9t. A labor viszont els\u0151sorban konzolos haszn\u00e1latra f\u00f3kusz\u00e1l, mert az a leguniverz\u00e1lisabb \u00e9s a GUI-s eszk\u00f6z\u00f6k is val\u00f3j\u00e1ban az itt el\u00e9rhet\u0151 funkci\u00f3kra \u00e9p\u00edtenek. A labor elv\u00e9gz\u00e9se sor\u00e1n ha k\u00e9nyelmesebb nyugodtan haszn\u00e1ld a sz\u00e1modra k\u00e9nyelmesebb eszk\u00f6zt.</p> <ul> <li>Docker Desktop fel\u00fclete</li> <li>VS Code Docker extension</li> <li>Visual Studio Container Tools ablak</li> </ul>"},{"location":"homework/01-docker/#1-feladat","title":"1. Feladat","text":""},{"location":"homework/01-docker/#11-volume-csatolasa-bind-mount","title":"1.1 Volume csatol\u00e1sa (bind mount)","text":"<p>Gyakran szeretn\u00e9nk a host g\u00e9pr\u0151l el\u00e9rni a kont\u00e9nerben l\u00e9v\u0151 f\u00e1jlokat, vagy \u00e9ppen a kont\u00e9nerben l\u00e9v\u0151 f\u00e1jlokat szeretn\u00e9nk a host g\u00e9pen t\u00e1rolni. Erre megold\u00e1s a volume csatol\u00e1s, amikor a host g\u00e9p egy k\u00f6nyvt\u00e1r\u00e1t csatoljuk a kont\u00e9nerbe.</p> <ul> <li> <p>Hozzunk l\u00e9tre egy munkak\u00f6nyvt\u00e1rat tetsz\u0151leges helyen a neptun k\u00f3dunkkal, p\u00e9ld\u00e1ul <code>c:\\work\\neptun</code> (windows) <code>~/work/neptun</code> (linux)</p> </li> <li> <p>Ind\u00edtsunk el egy kont\u00e9nert \u00fagy, hogy ezt a k\u00f6nyvt\u00e1rat felcsatoljuk a <code>-v</code> kapcsol\u00f3val:</p> Windows<pre><code>docker run -it --rm -v c:\\work\\neptun:/neptun ubuntu\n</code></pre> Linux<pre><code>docker run -it --rm -v ~/work/neptun:/neptun ubuntu\n</code></pre> <p>Szintaktika: helyi teljes el\u00e9r\u00e9si \u00fatvonal kett\u0151spont kont\u00e9neren bel\u00fcli teljes el\u00e9r\u00e9si \u00fatvonal</p> </li> <li> <p>Kont\u00e9neren bel\u00fcl list\u00e1zzuk ki a k\u00f6nyvt\u00e1rat:</p> <pre><code>ls\n</code></pre> <p>L\u00e1tjuk a <code>/neptun</code> k\u00f6nyvt\u00e1rat</p> </li> <li> <p>\u00cdrjunk bele: </p> <pre><code>echo \"hello NEPTUN\" &gt; /neptun/hello.txt\n</code></pre> </li> <li> <p>\u00edrjuk ki a tartalm\u00e1t: </p> <pre><code>cat /neptun/hello.txt\n</code></pre> </li> <li> <p>L\u00e9pj\u00fcnk ki a kont\u00e9nerb\u0151l:</p> <pre><code>exit\n</code></pre> </li> <li> <p>N\u00e9zz\u00fck meg a munkak\u00f6nyvt\u00e1runkat.</p> </li> </ul> <p><code>--rm</code></p> <p>A <code>docker run</code> <code>--rm</code> opci\u00f3ja t\u00f6rli a kont\u00e9nert le\u00e1ll\u00e1s ut\u00e1n; pl. tesztel\u00e9shez hasznos, mint most.</p> <p>BEADAND\u00d3</p> <p>K\u00e9sz\u00edts egy k\u00e9perny\u0151k\u00e9pet (f1.1.png) \u00e9s commitold azt be a h\u00e1zi feladat rep\u00f3 gy\u00f6ker\u00e9be, amin a fenti Volume csatol\u00e1s feladatok parancsainak eredm\u00e9nyei l\u00e1that\u00f3ak.</p>"},{"location":"homework/01-docker/#12-port-mappeles","title":"1.2 Port mappel\u00e9s","text":"<p>Docker kont\u00e9nerek eset\u00e9ben gyakran webalkalmaz\u00e1sokat futtatunk, amiket a host g\u00e9pr\u0151l szeretn\u00e9nk el\u00e9rni. Ezt a port mappel\u00e9ssel \u00e9rhetj\u00fck el, ahol a host g\u00e9p egy portj\u00e1t mappelj\u00fck a kont\u00e9ner egy portj\u00e1ra.</p> <ul> <li> <p>Ind\u00edtsunk el egy nginx webszervert tartalmaz\u00f3 kont\u00e9nert:</p> <pre><code>docker run -d -p 8085:80 nginx\n</code></pre> <ul> <li><code>-d</code> (detach): h\u00e1tt\u00e9rben fut, a konzolt \"visszakapjuk\", amint elindult a kont\u00e9ner, \u00e9s ki\u00edrja az image id-t</li> <li><code>-p</code> (port): helyi port kett\u0151spont kont\u00e9neren bel\u00fcli port</li> </ul> </li> <li> <p>Nyissuk meg b\u00f6ng\u00e9sz\u0151ben a c\u00edmet a neptun k\u00f3dunkkal: http://localhost:8085/index.html?student=NEPTUN</p> </li> <li> <p>N\u00e9zz\u00fck meg a kont\u00e9ner logjait:</p> <pre><code>docker logs &lt;id|name&gt;\n</code></pre> </li> <li> <p>\u00c1ll\u00edtsuk le a kont\u00e9nert:</p> <pre><code>docker stop &lt;id|name&gt;\n</code></pre> </li> </ul> <p>BEADAND\u00d3</p> <p>K\u00e9sz\u00edts egy k\u00e9perny\u0151k\u00e9pet (f1.2.png) \u00e9s commitold azt be a h\u00e1zi feladat rep\u00f3 gy\u00f6ker\u00e9be, amin a fenti webc\u00edm megnyit\u00e1s\u00e1nak a logjai l\u00e1tsz\u00f3dnak. Emeld ki a k\u00e9pen a relev\u00e1ns logbejegyz\u00e9st (pl.: karik\u00e1zd be vagy s\u00e1rga kiemelev\u0151lvel sz\u00ednezd.)</p>"},{"location":"homework/01-docker/#13-muveletvegzes-futo-kontenerben","title":"1.3 M\u0171veletv\u00e9gz\u00e9s fut\u00f3 kont\u00e9nerben","text":"<p>Gyakran m\u00e1r egy fut\u00f3 kont\u00e9nerben szeretn\u00e9nk m\u0171veleteket v\u00e9gezni, pl. f\u00e1jlokat n\u00e9zni, m\u00f3dos\u00edtani, stb. Ehhez a <code>docker exec</code> \u00e9s <code>docker cp</code> parancsot haszn\u00e1ljuk most.</p> <ul> <li> <p>Ind\u00edtsunk el egy nginx webszervert:</p> <pre><code>docker run -d -p 8085:80 nginx\n</code></pre> <p>Jegyezz\u00fck meg a ki\u00edrt kont\u00e9ner id-t, al\u00e1bb haszn\u00e1lni fogjuk. (A ki\u00edrt karakterl\u00e1nc els\u0151 12 karaktere jel\u00f6li az ID-t.)</p> </li> <li> <p>Futtassunk le egy parancsot a kont\u00e9nerben:</p> <pre><code>docker exec &lt;id|name&gt; ls /\n</code></pre> <p>A parancs kilist\u00e1zta a kont\u00e9ner f\u00e1jlrendszer\u00e9nek gy\u00f6ker\u00e9t.</p> </li> <li> <p>K\u00e9rhet\u00fcnk egy shell-t is a kont\u00e9nerbe ily m\u00f3don:</p> <pre><code>docker exec -it &lt;id|name&gt; /bin/bash\n</code></pre> <ul> <li>Az <code>-it</code> opci\u00f3 az interaktivit\u00e1sra utal, azaz a konzolunkat \"hozz\u00e1k\u00f6ti\" a kont\u00e9nerben fut\u00f3 shellhez.</li> <li>Tipikusan vagy <code>/bin/bash</code> vagy <code>/bin/sh</code> a Linux kont\u00e9nerekben a shell. Ut\u00f3bbi az alpine alap\u00fa kont\u00e9nerekben gyakori.</li> <li>Ebben az interakt\u00edv shell-ben b\u00e1rmit csin\u00e1lhatunk, bel\u00e9phet\u00fcnk k\u00f6nyvt\u00e1rakba, megn\u00e9zhet\u00fcnk f\u00e1jlokat, stb. Arra viszont \u00fcgyelj\u00fcnk, hogy az \u00edgy v\u00e9gzett m\u00f3dos\u00edt\u00e1saink elvesznek, amikor a kont\u00e9ner t\u00f6rl\u00e9sre ker\u00fcl!</li> </ul> </li> <li> <p>P\u00e9ld\u00e1ul n\u00e9zz\u00fck meg az nginx konfigur\u00e1ci\u00f3j\u00e1t:</p> <pre><code>cat /etc/nginx/conf.d/default.conf\n</code></pre> </li> <li> <p>M\u00f3dos\u00edtsuk az <code>index.html</code>-t a k\u00f6vetkez\u0151 m\u00f3don:</p> <pre><code>echo \"hello NEPTUN from nginx\" &gt; /usr/share/nginx/html/index.html\n</code></pre> </li> <li> <p>Nyissuk meg b\u00f6ng\u00e9sz\u0151ben ezt a c\u00edmet: http://localhost:8085/index.html \u00e9s ellen\u0151rizz\u00fck, hogy a m\u00f3dos\u00edtott tartalom l\u00e1tszik-e.</p> </li> <li> <p>L\u00e9pj\u00fcnk ki az <code>exit</code> utas\u00edt\u00e1ssal. Ez csak a \"m\u00e1sodik\" shellt \u00e1ll\u00edtja le, a kont\u00e9ner m\u00e9g fut, mert az eredeti ind\u00edt\u00e1si pont is m\u00e9g fut.</p> </li> <li> <p>Ha sz\u00fcks\u00e9g\u00fcnk van egy f\u00e1jlra, akkor azt kim\u00e1solhatjuk a fut\u00f3 kont\u00e9nerb\u0151l:</p> Windows<pre><code>docker cp &lt;id|name&gt;:/etc/nginx/conf.d/default.conf c:\\work\\neptun\\nginx.conf\n</code></pre> Linux<pre><code>docker cp &lt;id|name&gt;:/etc/nginx/conf.d/default.conf ~/work/neptun/nginx.conf\n</code></pre> <ul> <li>Szintaktik\u00e1ja: <code>docker cp &lt;id|name&gt;:&lt;/full/path&gt; &lt;c\u00e9l/hely&gt;</code></li> <li>A m\u00e1sol\u00e1s az ellenkez\u0151 ir\u00e1nyba is m\u0171k\u00f6dik, helyi g\u00e9pr\u0151l a kont\u00e9nerbe.</li> </ul> </li> <li> <p>\u00c1ll\u00edtsuk le \u00e9s t\u00f6r\u00f6lj\u00fck a kont\u00e9nert.</p> <pre><code>docker stop &lt;id|name&gt;\ndocker rm &lt;id|name&gt;\n</code></pre> </li> </ul> <p>BEADAND\u00d3</p> <p>K\u00e9sz\u00edts egy k\u00e9perny\u0151k\u00e9pet (f1.3.png) \u00e9s commitold azt be a h\u00e1zi feladat rep\u00f3 gy\u00f6ker\u00e9be, amin a fenti weboldal l\u00e1tszik a b\u00f6ng\u00e9sz\u0151ben.</p>"},{"location":"homework/01-docker/#2-feladat","title":"2. Feladat","text":""},{"location":"homework/01-docker/#21-image-keszitese-parancssorbol","title":"2.1 Image k\u00e9sz\u00edt\u00e9se parancssorb\u00f3l","text":"Docker registry <p>Kor\u00e1bban haszn\u00e1lt parancs: <code>docker run ubuntu</code> Az ubuntu az image neve. Ez egy \u00fan. registry-b\u0151l j\u00f6n, anal\u00f3g m\u00e1s csomagkezel\u0151kh\u00f6z pl.: NPM, NuGet stb. Az alap\u00e9rtelmezett registry a https://hub.docker.com, ahol tipikusan open-source szoftverek image-ei \u00e9s az \u00e1ltalunk is haszn\u00e1lt alap image-ek tal\u00e1lhat\u00f3ak. L\u00e9teznek term\u00e9szetesen tov\u00e1bbiak is (Azure, Google, stb.).</p> <p>Az image neve val\u00f3j\u00e1ban nem <code>ubuntu</code>, hanem <code>index.docker.io/ubuntu:latest</code></p> <ul> <li><code>index.docker.io</code> registry szerver el\u00e9r\u00e9si \u00fatvonala</li> <li><code>ubuntu</code> image neve (lehet t\u00f6bbszint\u0171 is)</li> <li><code>:latest</code> tag neve</li> </ul> <p>Jogosults\u00e1g szempontb\u00f3l k\u00e9t fajta registry l\u00e9tezhet: publikus (pl. Docker Hub) \u00e9s priv\u00e1t. Priv\u00e1t registry eset\u00e9n <code>docker login &lt;url&gt;</code> \u00e9s <code>docker logout &lt;url&gt;</code> sz\u00fcks\u00e9ges az authentik\u00e1ci\u00f3hoz.</p> <p>Let\u00f6lt\u00e9s a registry-b\u0151l: <code>docker pull mcr.microsoft.com/dotnet/aspnet:8.0</code></p> <p>Ugyan a run parancs is let\u00f6lti, de csak akkor, ha m\u00e9g nem l\u00e9tezik. Nem ellen\u0151rzi viszont, hogy nincs-e \u00fajabb image verzi\u00f3 publik\u00e1lva. A pull mindig frisset szed le.</p> <p>K\u00e9sz\u00edt\u00fcnk egy saj\u00e1t image-et, ami egy m\u00f3dos\u00edtott <code>nginx</code> image-et fog tartalmazni a saj\u00e1t tartalmunkkal. Ehhez az el\u0151z\u0151 feladatban l\u00e9v\u0151 l\u00e9p\u00e9seket kell ism\u00e9t elv\u00e9gezned, de most ne l\u00e9pj ki a kont\u00e9nerb\u0151l, hanem a kont\u00e9ner \u00e1llapot\u00e1t mentsd egy \u00faj image-be, ami az nginx-re \u00e9p\u00edt, \u00e9s egy \u00faj image layer-t tartalmaz a saj\u00e1t tartalmunkkal.</p> <ol> <li> <p>Az el\u0151z\u0151 feladat alapj\u00e1n futtass egy nginx kont\u00e9nert, amiben m\u00f3dos\u00edtod az <code>index.html</code> tartalm\u00e1t.</p> </li> <li> <p>K\u00e9sz\u00edts egy pillanatment\u00e9st a kont\u00e9ner jelenlegi \u00e1llapot\u00e1r\u00f3l:</p> <pre><code>docker commit &lt;id|name&gt;\n</code></pre> </li> <li> <p>\u00c1ll\u00edtsd le a h\u00e1tt\u00e9rben fut\u00f3 kont\u00e9nert:</p> <pre><code>docker stop &lt;id|name&gt;\n</code></pre> </li> <li> <p>Az el\u0151bbi parancs k\u00e9sz\u00edtett egy image-et, aminek ki\u00edrta a hash-\u00e9t. Ellen\u0151rizd, hogy t\u00e9nyleg l\u00e9tezik-e ez az image:</p> <pre><code>docker images\n</code></pre> </li> <li> <p>Taggeld meg az image-et:</p> <pre><code>docker tag &lt;imageid&gt; nginx-neptun\n</code></pre> <p>Warning</p> <p>Itt m\u00e1r az image id-ja kell az images list\u00e1b\u00f3l!</p> </li> <li> <p>Ind\u00edts el egy \u00faj kont\u00e9nert az el\u0151bb l\u00e9trehozott saj\u00e1t image-b\u0151l:</p> <pre><code>docker run -it --rm -p 8086:80 nginx-neptun\n</code></pre> <p>Warning</p> <p>A portsz\u00e1m sz\u00e1nd\u00e9kosan m\u00e1s, hogy biztosan legy\u00fcnk benne, nem a kor\u00e1bban fut\u00f3hoz csatlakozunk - ha m\u00e9gsem \u00e1ll\u00edtottuk volna azt le.</p> </li> <li> <p>Nyisd meg b\u00f6ng\u00e9sz\u0151b\u0151l a http://localhost:8086 c\u00edmet. L\u00e1that\u00f3, hogy ez a m\u00f3dos\u00edtott tartalmat jelen\u00edti meg. Teh\u00e1t <code>nginx-neptun</code> n\u00e9ven l\u00e9trehoztunk egy saj\u00e1t image-et.</p> </li> </ol> <p>BEADAND\u00d3</p> <p>K\u00e9sz\u00edts egy k\u00e9perny\u0151k\u00e9pet (f2.1.png) \u00e9s commitold azt be a h\u00e1zi feladat rep\u00f3 gy\u00f6ker\u00e9be, amin a fenti weboldal l\u00e1tszik a b\u00f6ng\u00e9sz\u0151ben \u00e9s a kont\u00e9nert futtat\u00f3 parancs a termin\u00e1lban \u00e9s annak a logjai.</p> <p>Takar\u00edt\u00e1s</p> <p>Fejleszt\u00e9s k\u00f6zben sok ideiglenes image keletkezik, \u00e9s kont\u00e9nereket hagyunk h\u00e1tra. Add ki a k\u00f6vetkez\u0151 parancsot a nem fut\u00f3 kont\u00e9nerek t\u00f6rl\u00e9s\u00e9hez \u00e9s az ideiglenes (c\u00edmke n\u00e9lk\u00fcli) image-ek t\u00f6rl\u00e9s\u00e9hez:</p> <pre><code>docker system prune\n</code></pre>"},{"location":"homework/01-docker/#22-dockerfile","title":"2.2 Dockerfile","text":"<p>Az el\u0151z\u0151 feladatban az image k\u00e9sz\u00edt\u00e9s\u00e9t manu\u00e1lisan v\u00e9gezt\u00fck el, ami nem j\u00f3l verzi\u00f3zhat\u00f3, \u00e9s reproduk\u00e1lhat\u00f3s\u00e1gi probl\u00e9m\u00e1kat okozhat.</p> <p>K\u00e9sz\u00edts\u00fcnk egy egyszer\u0171 webalkalmaz\u00e1s Pythonban a Flask nev\u0171 keretrendszerrel, ami egy REST v\u00e9gpontot defini\u00e1l \u00e9s szolg\u00e1l ki. Az adatokat (egy sz\u00e1ml\u00e1l\u00f3) Redis adatb\u00e1zisb\u00f3l olvassa \u00e9s \u00edrja, \u00e9s egy \u00fcdv\u00f6zl\u0151 \u00fczenetet ad vissza k\u00f6rnyezeti v\u00e1ltoz\u00f3 alapj\u00e1n.</p> <ol> <li> <p>Nyisd meg a h\u00e1zi repositorydat Visual Studio Code-ban.</p> </li> <li> <p>K\u00e9sz\u00edts a repository mapp\u00e1j\u00e1ba egy almapp\u00e1t <code>pythonweb</code> n\u00e9ven. A tov\u00e1bbiakban ennek a kontextus\u00e1ban dolgozz.</p> </li> <li> <p>K\u00e9sz\u00edts egy <code>app.py</code> f\u00e1jlt az al\u00e1bbi tartalommal.</p> <pre><code>from flask import Flask\nfrom redis import Redis, RedisError\nimport os\nimport socket\n\n# Connect to Redis\nredis = Redis(host=\"redis\", db=0, socket_connect_timeout=2, socket_timeout=2)\n\napp = Flask(__name__)\n\n# root endpoint\n# inrements and returns the number of visits from Redis\n# and says hello to the user from the NAME environment variable\n@app.route(\"/\")\ndef hello():\n    try:\n        visits = redis.incr(\"counter\")\n    except RedisError:\n        visits = \"&lt;i&gt;cannot connect to Redis, counter disabled&lt;/i&gt;\"\n\n    html = \"&lt;h3&gt;Hello {name}!&lt;/h3&gt;&lt;b&gt;Visits:&lt;/b&gt; {visits}\"\n    return html.format(name=os.getenv(\"NAME\", \"world\"), visits=visits)\n\nif __name__ == \"__main__\":\n    app.run(host='0.0.0.0', port=80)\n</code></pre> </li> <li> <p>K\u00e9sz\u00edts egy <code>requirements.txt</code> f\u00e1jlt az al\u00e1bbi tartalommal, ami a Python alkalmaz\u00e1sunk f\u00fcgg\u0151s\u00e9geit tartalmazza.</p> <pre><code>Flask\nRedis\n</code></pre> </li> <li> <p>K\u00e9sz\u00edts egy <code>Dockerfile</code> nev\u0171 f\u00e1jt (kiterjeszt\u00e9s n\u00e9lk\u00fcl!) az al\u00e1bbi tartalommal.    A Dockerfile egy sz\u00f6veges f\u00e1jl, ami tartalmazza az image l\u00e9trehoz\u00e1s\u00e1nak l\u00e9p\u00e9seit, mint egy recept.</p> <pre><code>FROM python:3.12-slim\n\nWORKDIR /app\nCOPY . /app\n\nRUN pip install --trusted-host pypi.python.org -r requirements.txt\nEXPOSE 80\n\n# Ide a saj\u00e1t Neptun k\u00f3dodat \u00edrd\nENV NAME=NEPTUN \n\nCMD [\"python\", \"app.py\"]\n</code></pre> </li> <li> <p>K\u00e9sz\u00edtsd el a fenti f\u00e1jlokb\u00f3l az image-et. Konzolb\u00f3l a munkak\u00f6nyvt\u00e1rban add ki a k\u00f6vetkez\u0151 parancsot:</p> <pre><code>docker build -t python-neptun:v1 .\n</code></pre> <p>Ez a parancs l\u00e9trehoz egy image-et a Dockerfile alapj\u00e1n. A v\u00e9g\u00e9n egy pont van, az is a parancs r\u00e9sze, ami a build kontextust jelenti.</p> <p>A Dockerfile l\u00e9p\u00e9sei:</p> <ul> <li><code>FROM</code>: az alap image, amire \u00e9p\u00edtj\u00fck a saj\u00e1tunkat. Mi most a Python 3.12-slim image-et haszn\u00e1ljuk.</li> <li><code>WORKDIR</code>: a kont\u00e9nerben a munkak\u00f6nyvt\u00e1r, a tov\u00e1bbi m\u0171veletek ebben a k\u00f6nyvt\u00e1rban lesznek.</li> <li><code>COPY</code>: a host g\u00e9pr\u0151l a kont\u00e9nerbe m\u00e1soljuk a f\u00e1jlokat. A <code>.</code> jelenti a build kontextus mapp\u00e1j\u00e1t, eset\u00fcnkben a <code>pythonweb</code> mapp\u00e1t.</li> <li><code>RUN</code>: a build/image k\u00e9sz\u00edt\u00e9s sor\u00e1n lefuttatand\u00f3 parancsok. Itt a <code>requirements.txt</code> f\u00e1jlban felsorolt Python csomagokat telep\u00edtj\u00fck a python csomagkezel\u0151vel (pip).</li> <li><code>EXPOSE</code>: a kont\u00e9ner \u00e1ltal kiaj\u00e1nlott portokat jelzi. Mi most webalkalmaz\u00e1st k\u00e9sz\u00edt\u00fcnk, ez\u00e9rt a 80-as portot jel\u00f6lj\u00fck ki.</li> <li><code>ENV</code>: k\u00f6rnyezeti v\u00e1ltoz\u00f3 be\u00e1ll\u00edt\u00e1sa. A <code>NAME</code> k\u00f6rnyezeti v\u00e1ltoz\u00f3 \u00e9rt\u00e9ke a saj\u00e1t Neptun k\u00f3dod legyen.</li> <li><code>CMD</code>: a kont\u00e9ner ind\u00edt\u00e1sakor lefuttatand\u00f3 parancs \u00e9s argumentumai. Ebben az esetben a Python alkalmaz\u00e1sunkat ind\u00edtjuk el.  </li> </ul> </li> <li> <p>Ellen\u0151rizd, hogy t\u00e9nyleg l\u00e9trej\u00f6tt-e az image.</p> </li> <li> <p>Ind\u00edts el egy \u00faj kont\u00e9nert ebb\u0151l az image-b\u0151l:</p> <pre><code>docker run -it --rm -p 8085:80 python-neptun:v1\n</code></pre> </li> <li> <p>Nyisd meg b\u00f6ng\u00e9sz\u0151ben a http://localhost:8085 oldalt.</p> </li> </ol> <p>A weboldal ki kell \u00edrja a neptun k\u00f3dodat, \u00e9s egy hiba\u00fczenetet a Redis-szel kapcsolatban.</p> <p>BEADAND\u00d3</p> <p>K\u00e9sz\u00edts egy k\u00e9perny\u0151k\u00e9pet (f2.2.png) \u00e9s commitold azt be a h\u00e1zi feladat rep\u00f3 gy\u00f6ker\u00e9be, amin a fenti weboldal l\u00e1tszik a b\u00f6ng\u00e9sz\u0151ben \u00e9s a kont\u00e9ner futtat\u00e1s parancsa \u00e9s logjai.</p> Kitekint\u00e9s: Dockerignore \u00e9s build kontextus <p>A <code>Dockerfile</code>-ban hivatkoztunk az aktu\u00e1lis k\u00f6nyvt\u00e1rra a <code>.</code>-tal. Vizsg\u00e1ljuk meg, hogy ez mit is jelent.</p> <ol> <li> <p>K\u00e9sz\u00edts\u00fcnk az aktu\u00e1lis k\u00f6nyvt\u00e1runkba, az <code>app.py</code> mell\u00e9 egy nagy f\u00e1jlt. Ehhez PowerShell-ben adjuk ki a k\u00f6vetkez\u0151 parancsot.</p> Windows - powershell<pre><code>$out = new-object byte[] 134217728; (new-object Random).NextBytes($out); [IO.File]::WriteAllBytes(\"$pwd\\file.bin\", $out)\n</code></pre> Linux - bash<pre><code>dd if=/dev/urandom of=./file.bin bs=1M count=1024\n</code></pre> </li> <li> <p>Buildelj\u00fck le ism\u00e9t a fenti image-et: <code>docker build -t python-neptun:v1 .</code></p> <p>Menet k\u00f6zben l\u00e1tni fogjuk a k\u00f6vetkez\u0151 sort a build logban: Sending build context to Docker daemon 111.4MB, \u00e9s azt is tapasztalni fogjuk, hogy ez el tart egy kis ideig.</p> <p>A <code>docker build</code> parancs v\u00e9g\u00e9n a <code>.</code> az aktu\u00e1lis k\u00f6nyvt\u00e1r. Ezzel tudatjuk a Docker-rel, hogy a buildel\u00e9shez ezt a kontextust haszn\u00e1lja, azon f\u00e1jlok legyenek el\u00e9rhet\u0151ek a build sor\u00e1n, amelyek ebben a kontextusban vannak. A <code>Dockerfile</code>-ban a <code>COPY</code> \u00edgy relat\u00edv \u00fatvonallal hivatkozik a kontextusban lev\u0151 f\u00e1jlokra.</p> <p>El\u00e9rhet\u0151 f\u00e1jlok</p> <p>Ennek k\u00f6vetkezm\u00e9nye az is, hogy csak a build kontextusban lev\u0151 f\u00e1jlokra tudunk hivatkozni. Teh\u00e1t nem lehet pl. <code>COPY ..\\..\\file</code> haszn\u00e1lat\u00e1val tetsz\u0151leges f\u00e1jlt felm\u00e1solni a build k\u00f6zben.</p> </li> <li> <p>Ha a build kontextusb\u00f3l szeretn\u00e9nk kihagyni f\u00e1jlokat, hogy a build ne tartson sok\u00e1ig, akkor egy <code>.dockerignore</code> f\u00e1jlra lesz sz\u00fcks\u00e9g\u00fcnk (a <code>.gitignore</code> mint\u00e1j\u00e1ra).     Ide szok\u00e1s p\u00e9ld\u00e1ul a build k\u00f6rnyezet saj\u00e1t k\u00f6nyvt\u00e1rait (<code>obj</code>, <code>bin</code>, <code>.vs</code>, <code>node_modules</code>, stb.) is felvenni.</p> <p>K\u00e9sz\u00edts\u00fcnk egy <code>.dockerignore</code>-t az al\u00e1bbi tartalommal</p> <pre><code>file.bin\n</code></pre> </li> <li> <p>Futtassuk ism\u00e9t a buildet. \u00cdgy m\u00e1r gyorsabb lesz.</p> </li> </ol>"},{"location":"homework/01-docker/#3-feladat","title":"3. Feladat","text":""},{"location":"homework/01-docker/#31-docker-compose","title":"3.1 Docker-compose","text":"<p>Linux elt\u00e9r\u00e9s</p> <p>Linuxon a compose nem egy k\u00fcl\u00f6n parancs, hanem a docker parancs kiterjeszt\u00e9se. Emiatt <code>docker-compose</code> helyett <code>docker compose</code>-k\u00e9nt kell megh\u00edvnunk.</p> <p>A fenti alkalmaz\u00e1s egy r\u00e9sze m\u00e9g nem m\u0171k\u00f6dik. A Python alkalmaz\u00e1s mellett egy Redis-re is sz\u00fcks\u00e9g\u00fcnk lenne. Futtassunk t\u00f6bb kont\u00e9nert egyszerre a docker compose seg\u00edts\u00e9g\u00e9vel.</p> <ol> <li> <p>Dolgozzunk a repository gy\u00f6ker\u00e9be (teh\u00e1t ne az el\u0151z\u0151leg haszn\u00e1lt almapp\u00e1ba) \u00e9s k\u00e9sz\u00edts\u00fcnk ide egy <code>docker-compose.yaml</code> nev\u0171 f\u00e1jlt az al\u00e1bbi tartalommal.</p> <pre><code>services:\n  redis:\n    image: redis:7.2-alpine\n    networks:\n      - homework_network\n  web:\n    build: pythonweb\n    ports:\n      - 5000:80\n    depends_on:\n      - redis\n    networks:\n      - homework_network\n\nnetworks:\n  homework_network:\n    driver: bridge\n</code></pre> <p>A f\u00e1jl tartalm\u00e1nak magyar\u00e1zata:</p> <ul> <li><code>services</code>: a szolg\u00e1ltat\u00e1sok, amiket ind\u00edtani szeretn\u00e9nk</li> <li><code>redis</code>: egy Redis kont\u00e9ner, ami az <code>alpine</code> verzi\u00f3t haszn\u00e1lja</li> <li><code>web</code>: a saj\u00e1t image-b\u0151l \u00e9p\u00edtett Python alkalmaz\u00e1s kont\u00e9nere<ul> <li><code>build</code>: a build kontextusban l\u00e9v\u0151 mapp\u00e1b\u00f3l \u00e9p\u00edti az image-t</li> <li><code>ports</code>: a kont\u00e9ner \u00e1ltal kiaj\u00e1nlott portokat jelzi. Mi most webalkalmaz\u00e1st k\u00e9sz\u00edt\u00fcnk, ez\u00e9rt a kont\u00e9ner 80-as portj\u00e1t mappelj\u00fck a host 5000-es portj\u00e1ra.</li> <li><code>depends_on</code>: a kont\u00e9ner ind\u00edt\u00e1s\u00e1nak sorrendj\u00e9t jelzi. A <code>web</code> kont\u00e9ner csak akkor indul, ha a <code>redis</code> kont\u00e9ner m\u00e1r fut.</li> </ul> </li> <li><code>networks</code>: a kont\u00e9nerek k\u00f6z\u00f6tti h\u00e1l\u00f3zatokat defini\u00e1lja. A <code>homework_network</code> nev\u0171 h\u00e1l\u00f3zatot haszn\u00e1ljuk bridge m\u00f3dban, ami a kont\u00e9nerek k\u00f6z\u00f6tt adatkapcsolati r\u00e9teg szint\u0171 \u00f6sszek\u00f6ttet\u00e9st jelent. Erre hivatkozunk a kont\u00e9nerek <code>networks</code> tulajdons\u00e1g\u00e1ban is.</li> </ul> </li> <li> <p>Nyiss egy konzolt ugyanebbe a mapp\u00e1ba. Ind\u00edtsd el az alkalmaz\u00e1sokat az al\u00e1bbi paranccsal:</p> <pre><code>docker-compose up --build\n</code></pre> <p>K\u00e9t l\u00e9p\u00e9sben a parancs: <code>docker-compose build</code> \u00e9s <code>docker-compose up</code></p> </li> <li> <p>Nyisd meg b\u00f6ng\u00e9sz\u0151ben a http://localhost:5000 oldalt.</p> </li> <li> <p>Egy \u00faj konzolban n\u00e9zd meg a fut\u00f3 kont\u00e9nereket.</p> <pre><code>docker ps\n</code></pre> </li> </ol> <p>BEADAND\u00d3</p> <p>K\u00e9sz\u00edts egy k\u00e9perny\u0151k\u00e9pet (f3.1.png) \u00e9s commitold azt be a h\u00e1zi feladat rep\u00f3 gy\u00f6ker\u00e9be, amin a fenti weboldal l\u00e1tszik a b\u00f6ng\u00e9sz\u0151ben \u00e9s a fut\u00f3 kont\u00e9nerek list\u00e1ja a konzolban.</p> <p>docker-compose \u00fczemeltet\u00e9shez</p> <p>A docker-compose alkalmas \u00fczemeltet\u00e9sre is. A <code>docker-compose.yaml</code> f\u00e1jl nem csak fejleszt\u0151i k\u00f6rnyezetet \u00edr le, hanem \u00fczemeltet\u00e9shez sz\u00fcks\u00e9ges k\u00f6rnyezetet is. Ha a compose f\u00e1jlt megfelel\u0151en \u00edrjuk meg (pl. haszn\u00e1ljuk a <code>restart</code> direkt\u00edv\u00e1t is), az elind\u00edtott szolg\u00e1ltat\u00e1sok automatikusan \u00fajraindulnak a rendszer indul\u00e1sakor.</p> <p>Ugyanakkor a docker-compose nem helyettes\u00edti a Kubernetes-t vagy m\u00e1s kont\u00e9ner orkesztr\u00e1ci\u00f3s megold\u00e1sokat, mert azok sokkal komplexebb feladatokat is meg tudnak oldani (pl. sk\u00e1l\u00e1z\u00e1s, load balancing, stb.).</p>"},{"location":"homework/01-docker/#32-tobb-compose-yaml-fajl","title":"3.2 T\u00f6bb compose yaml f\u00e1jl","text":"<p>A docker-compose parancsnak nem adtuk meg, hogy milyen yaml f\u00e1jlb\u00f3l dolgozzon. Alap\u00e9rtelmez\u00e9sk\u00e9nt a <code>docker-compose.yaml</code> kiterjeszt\u00e9s\u0171 f\u00e1jlt \u00e9s ezzel \u00f6sszef\u00e9s\u00fclve a <code>docker-compose.override.yaml</code> f\u00e1jlt haszn\u00e1lja.</p> <ol> <li> <p>K\u00e9sz\u00edts egy <code>docker-compose.override.yaml</code> f\u00e1jlt a m\u00e1sik compose yaml mell\u00e9 az al\u00e1bbi tartalommal, amiben a redis kont\u00e9ner napl\u00f3z\u00e1s\u00e1t \u00e1ll\u00edtjuk \u00e1t verbose szintre.</p> <pre><code>services:\n  redis:\n    command: redis-server --loglevel verbose\n</code></pre> </li> <li> <p>Ind\u00edtsd el a rendszert.</p> <pre><code>docker-compose up\n</code></pre> <p>A redis kont\u00e9ner r\u00e9szletesebben fog napl\u00f3zni a <code>command</code> direkt\u00edv\u00e1ban megadott utas\u00edt\u00e1s szerint. \u00c1ll\u00edtsd le a rendszert.</p> </li> <li> <p>Nevezd \u00e1t az el\u0151bbi override f\u00e1jlt <code>docker-compose.debug.yaml</code>-re. </p> </li> <li> <p>K\u00e9sz\u00edts egy \u00faj <code>docker-compose.prod.yaml</code> f\u00e1jlt a t\u00f6bbi yaml mell\u00e9 az al\u00e1bbi tartalommal</p> <pre><code>services:\n  redis:\n    command: redis-server --loglevel warning\n</code></pre> </li> <li> <p>Ind\u00edtsuk el a rendszert az al\u00e1bbi paranccsal</p> <pre><code>docker-compose -f docker-compose.yaml -f docker-compose.debug.yaml up\n</code></pre> <p>A <code>-f</code> kapcsol\u00f3val tudjuk k\u00e9rni a megadott yaml f\u00e1jlok \u00f6sszef\u00e9s\u00fcl\u00e9s\u00e9t.</p> </li> </ol> <p>\u00c1ltal\u00e1ban a <code>docker-compose.yaml</code>-be ker\u00fclnek a k\u00f6z\u00f6s konfigur\u00e1ci\u00f3k, \u00e9s a tov\u00e1bbi f\u00e1jlokba a k\u00f6rnyezet specifikus konfigur\u00e1ci\u00f3k.</p> <p>BEADAND\u00d3</p> <p>K\u00e9sz\u00edts egy k\u00e9perny\u0151k\u00e9pet (f3.2.png) \u00e9s commitold azt be a h\u00e1zi feladat rep\u00f3 gy\u00f6ker\u00e9be, amin a fenti weboldal l\u00e1tszik a b\u00f6ng\u00e9sz\u0151ben \u00e9s a r\u00e9szletesebb redis napl\u00f3bejegyz\u00e9sek.</p>"},{"location":"homework/01-docker/#opcionalis-4-feladat","title":"Opcion\u00e1lis: 4. Feladat","text":""},{"location":"homework/01-docker/#docker-init","title":"Docker init","text":"<p>A <code>docker init</code> paranccsal egy megadott technol\u00f3gi\u00e1hoz tartoz\u00f3, docker alap\u00fa fejleszt\u00e9shez sz\u00fcks\u00e9ges-hasznos f\u00e1jlokat gener\u00e1ltathatjuk. A f\u00e1jlok az adott technol\u00f3gi\u00e1hoz illeszked\u0151en k\u00e9sz\u00fclnek, p\u00e9ld\u00e1ul ASP .NET Core eset\u00e9n a megfelel\u0151 .NET alap lemezk\u00e9pekre hivatkozik a gener\u00e1lt Dockerfile.</p> <p>.NET</p> <p>Ehhez a feladathoz telep\u00edtened kell a .NET SDK-t (l\u00e1sd fentebb az El\u0151k\u00f6vetelm\u00e9nyek r\u00e9szt), mely a <code>dotnet</code> parancsot adja.</p> <ol> <li> <p>K\u00e9sz\u00edts a repository mapp\u00e1j\u00e1ba egy almapp\u00e1t <code>aspnetweb</code> n\u00e9ven. A tov\u00e1bbiakban ennek az \u00faj mapp\u00e1nak a kontextus\u00e1ban dolgozz.</p> </li> <li> <p>Gener\u00e1lj egy ASP.NET Core alap\u00fa kiindul\u00f3 projektet</p> <pre><code>dotnet new webapp\n</code></pre> </li> <li> <p>Gener\u00e1ld az ASP.NET Core-hoz tartoz\u00f3 docker f\u00e1jlokat</p> <p><pre><code>docker init\n</code></pre> Ez a l\u00e9p\u00e9s l\u00e9trehoz egy <code>Dockerfile</code>-t a projektben, ami r\u00e1ad\u00e1sul multi-stage build megold\u00e1st tartalmaz, ami a ford\u00edt\u00e1si, publik\u00e1l\u00e1si \u00e9s futtat\u00e1si f\u00e1zisokat k\u00fcl\u00f6nv\u00e1lasztja (t\u00f6bb <code>FROM</code> utas\u00edt\u00e1s amik egym\u00e1sra hivatkoznak). Ez\u00e1ltal biztos\u00edthat\u00f3, hogy a .NET alkalmaz\u00e1sunk ford\u00edt\u00e1sa is reproduk\u00e1lhat\u00f3 legyen egy szepar\u00e1lt .NET SDK-t tartalmaz\u00f3 kont\u00e9nerben. A publik\u00e1l\u00e1s pedig egy kisebb m\u00e9ret\u0171 image-be t\u00f6rt\u00e9nik, ami m\u00e1r csak a .NET futtat\u00f3k\u00f6rnyezetet tartalmazza.</p> <p>Ezen fel\u00fcl l\u00e9trej\u00f6n m\u00e9g .dockerignore f\u00e1jl is, valamint egy egy service-t hivatkoz\u00f3 Docker compose is.</p> </li> <li> <p>Futtassuk a docker compose configur\u00e1ci\u00f3t (<code>docker-compose up</code> - Windows vagy <code>docker compose up</code> - Linux). Az alap\u00e9rtelmezetten felk\u00edn\u00e1lt lehet\u0151s\u00e9gek \u00e1ltal\u00e1ban megfelel\u0151ek, csak v\u00e9gig kell Enter -ezni. B\u00f6ng\u00e9sz\u0151ben nyissuk meg a localhost c\u00edmen a docker init-nek megadott portot pl. http://localhost:8080.</p> </li> <li> <p>List\u00e1zzuk ki a fut\u00f3 kont\u00e9nereket egy k\u00fcl\u00f6n konzolablakban:</p> <pre><code>docker ps\n</code></pre> </li> </ol> <p>BEADAND\u00d3</p> <p>K\u00e9sz\u00edts egy k\u00e9perny\u0151k\u00e9pet (f4.1.png) \u00e9s commitold azt be a h\u00e1zi feladat rep\u00f3 gy\u00f6ker\u00e9be, amin a fenti weboldal l\u00e1tszik a b\u00f6ng\u00e9sz\u0151ben \u00e9s a fut\u00f3 kont\u00e9nerek list\u00e1ja.</p>"},{"location":"homework/01-docker/#kitekintes","title":"Kitekint\u00e9s","text":""},{"location":"homework/01-docker/#image-ek-hasznalata","title":"Image-ek haszn\u00e1lata","text":"<p>Kont\u00e9ner alap\u00fa fejleszt\u00e9sn\u00e9l teh\u00e1t k\u00e9t f\u00e9le image-et haszn\u00e1lunk:</p> <ul> <li>amit magunk k\u00e9sz\u00edt\u00fcnk egy adott alap image-re \u00e9p\u00fclve,</li> <li>illetve k\u00e9sz image-eket, amiket csak futtatunk (\u00e9s esetleg konfigur\u00e1lunk).</li> </ul> <p>Alap image-ek, amikre tipikusan saj\u00e1t alkalmaz\u00e1st \u00e9p\u00edt\u00fcnk:</p> <ul> <li>Linux disztrib\u00faci\u00f3k<ul> <li>Ubuntu,</li> <li>Debian,</li> <li>Alpine,</li> </ul> </li> <li>Futtat\u00f3 platformok<ul> <li>.NET Runtime ASP.NET Core-ral, pl. <code>mcr.microsoft.com/dotnet/aspnet:8.0</code></li> <li>NodeJS pl. <code>node:22.4-alpine</code></li> <li>Python pl. <code>python:3.12-slim</code></li> </ul> </li> <li>scratch: \u00fcres image, speci\u00e1lis esetek, pl. go, vagy distro k\u00e9sz\u00edt\u00e9shez</li> </ul> <p>A k\u00e9sz image-ek, amiket pedig felhaszn\u00e1lunk:</p> <ul> <li>SDK-k multi stage buildhez<ul> <li>.NET SDK pl. <code>mcr.microsoft.com/dotnet/sdk:8.0</code></li> </ul> </li> <li>Adatb\u00e1zis szerverek, webszerverek, gyakran haszn\u00e1lt szolg\u00e1ltat\u00e1sok<ul> <li>MSSQL, redis, mongodb, mysql, nginx, ...</li> </ul> </li> <li>Term\u00e9rdek el\u00e9rhet\u0151 image: https://hub.docker.com</li> </ul> <p>Verzi\u00f3z\u00e1s fontos</p> <p>Az image-ek verzi\u00f3z\u00e1s\u00e1t minden esetben meg kell \u00e9rteni! Minden image m\u00e1s-m\u00e1s megk\u00f6zel\u00edt\u00e9st alkalmaz.</p>"},{"location":"homework/01-docker/#kesz-image-testreszabasa","title":"K\u00e9sz image testreszab\u00e1sa","text":"<p>Az el\u0151bb a Redis mem\u00f3ria alap\u00fa adatb\u00e1zist minden konfigur\u00e1ci\u00f3 n\u00e9lk\u00fcl felhaszn\u00e1ltuk. Gyakran az ilyen image-ek \"majdnem\" j\u00f3k k\u00f6zvetlen felhaszn\u00e1l\u00e1sra, de az\u00e9rt sz\u00fcks\u00e9g van egy kev\u00e9s testreszab\u00e1sra. Ilyen esetben a k\u00f6vetkez\u0151 lehet\u0151s\u00e9geink vannak:</p> <ul> <li> <p>Saj\u00e1t image-et k\u00e9sz\u00edt\u00fcnk kiindulva a sz\u00e1munkra megfelel\u0151 alap image-b\u0151l.   A saj\u00e1t image-ben m\u00f3dos\u00edthatunk a konfigur\u00e1ci\u00f3s f\u00e1jlokat, avagy tov\u00e1bbi f\u00e1jlokat adhatunk az image-be.   Ezt a megold\u00e1st alkalmazhatjuk p\u00e9ld\u00e1ul tipikusan weboldal kiszolg\u00e1l\u00e1s\u00e1n\u00e1l, ahol is a kiindul\u00f3 image a webszerver, viszont a kiszolg\u00e1land\u00f3 f\u00e1jlokat m\u00e9g mell\u00e9 kell tenn\u00fcnk.</p> </li> <li> <p>K\u00f6rnyezeti v\u00e1ltoz\u00f3kon (esetleg argumentumokon) kereszt\u00fcl konfigur\u00e1ljuk a futtatand\u00f3 szolg\u00e1ltat\u00e1st.   Az alap image-ek \u00e1ltal\u00e1ban el\u00e9g j\u00f3 konfigur\u00e1ci\u00f3val rendelkeznek, csak keveset kell rajta m\u00f3dos\u00edtanunk.   Erre t\u00f6k\u00e9letesen alkalmas egy-egy k\u00f6rnyezeti v\u00e1ltoz\u00f3.   A j\u00f3l fel\u00e9p\u00edtett Docker image-ek el\u0151re meghat\u00e1rozott k\u00f6rnyezeti v\u00e1ltoz\u00f3kon kereszt\u00fcl testreszabhat\u00f3ak.</p> <p>Erre egy j\u00f3 p\u00e9lda a Microsoft SQL Server Docker v\u00e1ltozata. Az al\u00e1bbi parancsban a <code>-e</code> argumentumokban adunk \u00e1t k\u00f6rnyezeti v\u00e1ltoz\u00f3kat, de lehet\u0151s\u00e9g van compose f\u00e1jlban is megadni ezeket.</p> <pre><code>docker run\n  -e 'ACCEPT_EULA=Y'\n  -e 'SA_PASSWORD=yourStrong(!)Password'\n  -p 1433:1433\n  mcr.microsoft.com/mssql/server:2017-CU8-ubuntu\n</code></pre> </li> <li> <p>Becsatolhatjuk a saj\u00e1t konfigur\u00e1ci\u00f3s f\u00e1jljainkat a kont\u00e9nerbe.   Kor\u00e1bban l\u00e1ttuk, hogy lehet\u0151s\u00e9g\u00fcnk van egy mapp\u00e1t a host g\u00e9pr\u0151l a kont\u00e9nerbe csatolni.   Ha elk\u00e9sz\u00edtj\u00fck a testreszabott konfigur\u00e1ci\u00f3s f\u00e1jlt, akkor a <code>docker-compose.yaml</code> le\u00edr\u00e1sban a k\u00f6vetkez\u0151 m\u00f3don tudjuk ezt a f\u00e1jlt becsatolni a kont\u00e9ner indul\u00e1sakor.</p> <pre><code>services:\n  redis:\n    image: redis:7.2-alpine\n    volumes:\n      - my-redis.conf:/usr/local/etc/redis/redis.conf\n</code></pre> <p>Ezen megold\u00e1s el\u0151nye, hogy nincs sz\u00fcks\u00e9g saj\u00e1t image-et k\u00e9sz\u00edteni, t\u00e1rolni, kezelni. Amikor a k\u00f6rnyezeti v\u00e1ltoz\u00f3 m\u00e1r nem elegend\u0151 a testreszab\u00e1shoz, ez a javasolt megold\u00e1s.</p> </li> </ul>"},{"location":"homework/01-docker/#tovabbi-olvasnivalo","title":"Tov\u00e1bbi olvasnival\u00f3","text":"<ul> <li>Dockerfile szintaktika: https://docs.docker.com/reference/dockerfile/</li> <li>.dockerignore f\u00e1jl szintaktika: https://docs.docker.com/reference/dockerfile/#dockerignore-file</li> <li>Dockerfile best practice-ek: https://docs.docker.com/build/building/best-practices/</li> <li>compose f\u00e1jl szintaktika: https://docs.docker.com/compose/compose-file/</li> <li>T\u00f6bb compose f\u00e1jl haszn\u00e1lata: https://docs.docker.com/compose/multiple-compose-files/extends/#multiple-compose-files</li> <li>Multistage build-ek: https://docs.docker.com/build/building/multi-stage/</li> </ul>"},{"location":"homework/02-kubernetes/","title":"02 - Kubernetes, Helm","text":""},{"location":"homework/02-kubernetes/#cel","title":"C\u00e9l","text":"<p>A labor c\u00e9lja:</p> <ul> <li>megismerni a Kubernetes haszn\u00e1lat\u00e1nak alapjait<ul> <li>a podok, Deployment-ek \u00e9s ReplicaSet-ek l\u00e9trehoz\u00e1s\u00e1t \u00e9s kezel\u00e9s\u00e9t,</li> <li>a leggyakrabban haszn\u00e1lt <code>kubectl</code> parancsokat.</li> </ul> </li> <li>egy alkalmaz\u00e1s telep\u00edt\u00e9se Kubernetes klaszterbe \u00e9s a friss\u00edt\u00e9s m\u00f3dj\u00e1nak megismer\u00e9se.<ul> <li>A telep\u00edt\u00e9shez \u00e9s friss\u00edt\u00e9shez r\u00e9szben Helm chartot, r\u00e9szben magunk \u00e1ltal elk\u00e9sz\u00edtett YAML er\u0151forr\u00e1s le\u00edr\u00f3kat haszn\u00e1lunk.</li> </ul> </li> </ul>"},{"location":"homework/02-kubernetes/#elokovetelmenyek","title":"El\u0151k\u00f6vetelm\u00e9nyek","text":"<p>A labor Windows platformon lett kidolgozva, de Linuxon is hasonl\u00f3an m\u0171k\u00f6dik.</p> <ul> <li>Kubernetes<ul> <li>B\u00e1rmely felh\u0151 platform \u00e1ltal biztos\u00edtott klaszter</li> <li>Linux platformon: minikube</li> <li>Windows platformon: Docker Desktop</li> </ul> </li> <li>kubectl<ul> <li>A bin\u00e1risa legyen el\u00e9rhet\u0151 PATH-on.</li> </ul> </li> <li>Egy kubernetes-t menedzselni k\u00e9pes GUI, p\u00e9ld\u00e1ul:<ul> <li>VS Code Kubernetes extension</li> <li>Lens</li> <li>Kubernetes Dashboard</li> <li>Rider - hallgat\u00f3i fi\u00f3kkal ingyenes</li> <li>k9s</li> </ul> </li> <li>Helm CLI<ul> <li>Helm</li> <li>A Helm CLI legyen el\u00e9rhet\u0151 PATH-on.</li> </ul> </li> </ul>"},{"location":"homework/02-kubernetes/#elokeszulet","title":"El\u0151k\u00e9sz\u00fclet","text":"<p>A feladatok megold\u00e1sa sor\u00e1n ne felejtsd el k\u00f6vetni a feladat bead\u00e1s folyamat\u00e1t GitHub.</p>"},{"location":"homework/02-kubernetes/#git-repository-letrehozasa-es-letoltese","title":"Git repository l\u00e9trehoz\u00e1sa \u00e9s let\u00f6lt\u00e9se","text":"<ol> <li>Moodle-ben keresd meg a laborhoz tartoz\u00f3 megh\u00edv\u00f3 URL-j\u00e9t \u00e9s annak seg\u00edts\u00e9g\u00e9vel hozd l\u00e9tre a saj\u00e1t repository-dat.</li> <li>V\u00e1rd meg, m\u00edg elk\u00e9sz\u00fcl a repository, majd checkout-old ki.</li> <li>Hozz l\u00e9tre egy \u00faj \u00e1gat <code>megoldas</code> n\u00e9ven, \u00e9s ezen az \u00e1gon dolgozz.</li> <li>A <code>neptun.txt</code> f\u00e1jlba \u00edrd bele a Neptun k\u00f3dodat. A f\u00e1jlban semmi m\u00e1s ne szerepeljen, csak egyetlen sorban a Neptun k\u00f3d 6 karaktere.</li> </ol> <p>NEPTUN</p> <p> A feladatokban a <code>neptun</code> kifejez\u00e9s helyett a saj\u00e1t neptunk\u00f3dunkat helyettes\u00edts\u00fck be minden esetben </p>"},{"location":"homework/02-kubernetes/#0-feladat","title":"0. Feladat","text":""},{"location":"homework/02-kubernetes/#elokeszulet-docker-desktop-on","title":"El\u0151k\u00e9sz\u00fclet Docker Desktop-on","text":"<ol> <li> <p>Praktikus, ha le\u00e1ll\u00edtunk minden fut\u00f3 kont\u00e9nert, amire nincs sz\u00fcks\u00e9g\u00fcnk. Haszn\u00e1lhatjuk a k\u00f6vetkez\u0151 parancsot PowerShell-ben:</p> <pre><code>docker rm -f $(docker ps -aq)\n</code></pre> </li> <li> <p>Nyissuk meg a Docker Desktop be\u00e1ll\u00edt\u00e1sait.</p> </li> <li> <p>A Kubernetes f\u00fcl\u00f6n pip\u00e1ljuk be az Enable Kubernetes opci\u00f3t, \u00e9s kattintsunk az Apply-ra.</p> </li> <li> <p>V\u00e1rjuk meg, am\u00edg befejez\u0151dik a m\u0171velet. A kubernetes alrendszer elindul\u00e1sa n\u00e9h\u00e1ny percet is ig\u00e9nybe vehet.</p> <p></p> </li> </ol>"},{"location":"homework/02-kubernetes/#kubectl-csatlakozas-a-klaszterhez","title":"Kubectl csatlakoz\u00e1s a klaszterhez","text":"<ul> <li> <p>Ellen\u0151rizz\u00fck, hogy a <code>kubectl</code> bin\u00e1ris el\u00e9rhet\u0151-e, \u00e9s tud-e csatlakozni a klaszterhez:</p> <pre><code>kubectl version\n</code></pre> <p>A <code>kubectl</code> a CLI kliens a klaszter kezel\u00e9s\u00e9hez (ejtsd: cube control). A Kubernetes API szerver\u00e9hez csatlakozik, annak REST API-j\u00e1n kereszt\u00fcl v\u00e9gzi a m\u0171veleteket. L\u00e1thatjuk mind a kliens, mind a klaszter verzi\u00f3 inform\u00e1ci\u00f3it.</p> </li> <li> <p>A <code>kubectl</code> egy konkr\u00e9t klaszterhez csatlakozik. N\u00e9zz\u00fck meg, milyen klasztereket ismer:</p> <pre><code>kubectl config get-contexts\n</code></pre> <ul> <li>Ha t\u00f6bb klaszterrel dolgozn\u00e1nk, itt l\u00e1thatn\u00e1nk \u0151ket.</li> <li>Ezek val\u00f3j\u00e1ban egy konfigur\u00e1ci\u00f3s f\u00e1jlban vannak: <code>%userprofile%/.kube/config</code></li> <li>V\u00e1ltani a <code>kubectl config use-context &lt;n\u00e9v&gt;</code> parancssal lehet.</li> <li>Minden parancsn\u00e1l k\u00fcl\u00f6n megadhatjuk a kontextust a <code>--context</code> kapcsol\u00f3val, de ink\u00e1bb az implicit contextust szoktuk haszn\u00e1lni.</li> <li>Kontextus be\u00e1ll\u00edt\u00e1sr\u00f3l r\u00e9szletesebben itt.</li> </ul> </li> </ul> <p>Kubernetes GUI</p> <p>A feladatokban l\u00e9v\u0151 m\u0171veletek szinte mindegyike elv\u00e9gezhet\u0151 a GUI (pl.: VS Code kubernetes kieg\u00e9sz\u00edt\u0151) seg\u00edts\u00e9g\u00e9vel is. A labor le\u00edr\u00e1saiban a <code>kubectl</code> parancsokat fogjuk haszn\u00e1lni, de a GUI is haszn\u00e1lhat\u00f3. </p>"},{"location":"homework/02-kubernetes/#1-feladat","title":"1. Feladat","text":""},{"location":"homework/02-kubernetes/#podok-es-nevterek-listazasa","title":"Podok \u00e9s n\u00e9vterek list\u00e1z\u00e1sa","text":"<ul> <li> <p>List\u00e1zzuk ki a fut\u00f3 podokat:</p> <pre><code>kubectl get pod -A\n</code></pre> <p>A <code>-A</code> vagy <code>--all-namespaces</code> kapcsol\u00f3 az \u00f6sszes n\u00e9vt\u00e9rben lev\u0151 podot list\u00e1zza.</p> </li> <li> <p>Ism\u00e9telj\u00fck meg a <code>-A</code> kapcsol\u00f3 n\u00e9lk\u00fcl:</p> <pre><code>kubectl get pod\n</code></pre> <p>Ez az alap\u00e9rtelmezett default n\u00e9vt\u00e9r podjait list\u00e1zza. (Az alap\u00e9rtelmezett n\u00e9vt\u00e9r is a kontextus be\u00e1ll\u00edt\u00e1sa.)</p> </li> <li> <p>N\u00e9zz\u00fck meg, milyen n\u00e9vterek vannak: <code>kubectl get namespace</code></p> </li> <li> <p>List\u00e1zzuk a podokat egy konkr\u00e9t n\u00e9vt\u00e9rben: <code>kubectl get pod -n kube-system</code></p> </li> </ul>"},{"location":"homework/02-kubernetes/#pod-letrehozasa-yaml-leiroval","title":"Pod l\u00e9trehoz\u00e1sa YAML le\u00edr\u00f3val","text":"<p>Kubernetes er\u0151forr\u00e1sokat tipikusan YAML le\u00edr\u00f3kban defini\u00e1lunk. A futtat\u00e1s elemi egys\u00e9ge a pod, \u00edgy k\u00e9sz\u00edts\u00fcnk egy YAML f\u00e1jlt a podunkhoz \u00e9s ind\u00edtsuk el azt.</p> <p>A le\u00edr\u00f3 szerkeszt\u00e9s\u00e9hez haszn\u00e1lhatjuk p\u00e9ld\u00e1ul Visual Studio Code-ot. \u00c9rdemes olyan sz\u00f6vegszerkeszt\u0151vel dolgozni, amely ismeri a YAML szintaktik\u00e1t. A parancsok futtat\u00e1s\u00e1hoz haszn\u00e1lhatjuk p\u00e9ld\u00e1ul Visual Studio Code be\u00e9p\u00edtett termin\u00e1lj\u00e1t.</p> <ol> <li> <p>Hozzunk l\u00e9tre egy \u00faj YAML f\u00e1jt a repositorynk gy\u00f6ker\u00e9be <code>createpod.yml</code> n\u00e9ven, az al\u00e1bbi k\u00f6vetelm\u00e9nyek ment\u00e9n</p> </li> <li> <p>a kubernetes le\u00edr\u00f3 Pod-ot defini\u00e1l</p> </li> <li>a pod neve legyen <code>counter-neptun</code> a saj\u00e1t neptunk\u00f3ddal kieg\u00e9sz\u00edtve</li> <li>a pod egy kont\u00e9nert tartalmazzon, amely az <code>ubuntu</code> k\u00e9pb\u0151l indul</li> <li> <p>a kont\u00e9ner egy bash parancsot futtasson, ami ki\u00edrja a NEPTUN k\u00f3dodat \u00e9s 5 m\u00e1sodpercenk\u00e9nt ki\u00edrja az aktu\u00e1lis id\u0151t.</p> </li> <li> <p>A konzolunkban navig\u00e1ljunk el abba a k\u00f6nyvt\u00e1rba, ahol a YAML f\u00e1jl van, majd hozzuk l\u00e9tre a podot:</p> <pre><code>kubectl apply -f createpod.yml\n</code></pre> <p>apply vs create</p> <p>A <code>create</code> helyett <code>apply</code> parancsot haszn\u00e1ljuk. Az apply l\u00e9trehozza, ha nem l\u00e9tezik, \u00e9s m\u00f3dos\u00edtja az er\u0151forr\u00e1st, ha m\u00e1r l\u00e9tezik.</p> </li> <li> <p>A pod l\u00e9trej\u00f6tt. Ellen\u0151rizz\u00fck:</p> <pre><code>kubectl get pod\n</code></pre> </li> <li> <p>N\u00e9zz\u00fck meg a pod logjait:</p> <pre><code>kubectl logs counter-neptun\n</code></pre> <p>Ha gondoljuk, tegy\u00fck hozz\u00e1 a <code>-f</code> kapcsol\u00f3t is (<code>kubectl logs -f counter</code>) a log k\u00f6vet\u00e9s\u00e9hez. Ctrl+C-vel l\u00e9phet\u00fcnk ki a log folyamatos k\u00f6vet\u00e9s\u00e9b\u0151l. Ne feledj\u00fck, hogy ez nem a pod termin\u00e1lja, hanem a logjainak figyel\u00e9s\u00e9t.</p> </li> </ol> <p>BEADAND\u00d3</p> <p>A feladathoz tartoz\u00f3 forr\u00e1sk\u00f3dot commitold be \u00e9s k\u00e9sz\u00edts egy k\u00e9perny\u0151k\u00e9pet (<code>f1.1.png</code>), majd commitold azt be a h\u00e1zi feladat rep\u00f3 gy\u00f6ker\u00e9be, amin a fut\u00f3 pod logjai l\u00e1tszanak.</p> <ol> <li> <p>T\u00f6r\u00f6lj\u00fck a podot:</p> <pre><code>kubectl delete pod counter-neptun\n</code></pre> </li> <li> <p>Ellen\u0151rizz\u00fck, hogy a pod t\u00e9nyleg elt\u0171nik egy kis id\u0151 m\u00falva:</p> <pre><code>kubectl get pod\n</code></pre> <p>A pod t\u00f6rl\u00e9se nem azonnali. A benne fut\u00f3 kont\u00e9nerek le\u00e1ll\u00e1s jelz\u00e9st kapnak, \u00e9s \u0151k maguk termin\u00e1lhatnak. Ha ez nem t\u00f6rt\u00e9nik, meg, akkor kis id\u0151 m\u00falva megsz\u00fcnteti \u0151ket a rendszer.</p> </li> </ol> Interakt\u00edv shell <p>Ha szeretn\u00e9nk egy podban bel\u00e9pni, \u00e9s ott dolgozni, akkor ezt a <code>kubectl exec</code> paranccsal tehetj\u00fck meg. P\u00e9ld\u00e1ul:</p> <pre><code>kubectl exec -it &lt;podn\u00e9v&gt; /bin/bash\n</code></pre> <p>A <code>-it</code> kapcsol\u00f3k interakt\u00edv m\u00f3dot \u00e9s termin\u00e1lt biztos\u00edtanak. A <code>/bin/bash</code> a shell, amit futtatni szeretn\u00e9nk.</p> <p>Ahogy a docker-n\u00e9l m\u00e1r l\u00e1thattuk, egy \u00faj shell indul a pod kont\u00e9ner\u00e9ben, \u00e9s ehhez csatlakozunk. Ebben a shellben, ahogy nat\u00edv docker eset\u00e9ben is, b\u00e1rmit megtehet\u00fcnk.</p>"},{"location":"homework/02-kubernetes/#2-feladat","title":"2 Feladat","text":""},{"location":"homework/02-kubernetes/#21-deployment-letrehozasa","title":"2.1 Deployment l\u00e9trehoz\u00e1sa","text":"<p>A podokat nem szoktuk k\u00f6zvetlen\u00fcl l\u00e9trehozni, hanem Deployment-re \u00e9s ReplicaSet-re szoktunk b\u00edzni a kezel\u00e9s\u00fcket \u00e9s l\u00e9trehoz\u00e1sukat.</p> <ol> <li> <p>Hozzunk l\u00e9tre egy \u00faj YAML f\u00e1jlt <code>createdeployment.yml</code> n\u00e9ven az al\u00e1bbi k\u00f6vetelm\u00e9nyeknek megfelel\u0151en:</p> <ul> <li>a kubernetes le\u00edr\u00f3 Deployment-et defini\u00e1l</li> <li>a deployment neve legyen <code>counter-neptun</code> a saj\u00e1t neptunk\u00f3ddal kieg\u00e9sz\u00edtve</li> <li>a deployment egy olyan kont\u00e9nert defini\u00e1ljon, mint az 1. feladatban</li> <li>1 replika legyen az elv\u00e1rt \u00e1llapot</li> <li>a selectorok haszn\u00e1lata sor\u00e1n <code>counter-app-neptun</code> c\u00edmk\u00e9t haszn\u00e1ljuk a saj\u00e1t neptunk\u00f3ddal kieg\u00e9sz\u00edtve</li> </ul> </li> <li> <p>Hozzuk l\u00e9tre a Deployment-et:</p> <pre><code>kubectl apply -f createdeployment.yml\n</code></pre> </li> <li> <p>List\u00e1zzuk a Deployment-eket, ReplicaSet-eket \u00e9s a podokat:</p> <pre><code>kubectl get deployment\nkubectl get replicaset\nkubectl get pod\n</code></pre> <p>Vegy\u00fck \u00e9szre, hogy a pod neve gener\u00e1lt, a Deployment \u00e9s a ReplicaSet alapj\u00e1n kap automatikusan egyet.</p> </li> </ol> <p>BEADAND\u00d3</p> <p>K\u00e9sz\u00edts egy k\u00e9perny\u0151k\u00e9pet (<code>f2.1.png</code>) \u00e9s commitold azt be a h\u00e1zi feladat rep\u00f3 gy\u00f6ker\u00e9be, amin a fut\u00f3 deployment, replicaset \u00e9s pod neve l\u00e1tszik. Commitold be a forr\u00e1sk\u00f3dot is.</p>"},{"location":"homework/02-kubernetes/#22-deployment-frissitese","title":"2.2 Deployment friss\u00edt\u00e9se","text":"<p>A Deployment szolg\u00e1l az alkalmaz\u00e1s verzi\u00f3nak friss\u00edt\u00e9s\u00e9re, kiad\u00e1s\u00e1ra.</p> <p>V\u00e1ltoztassuk meg a program fut\u00e1s\u00e1t a deployment le\u00edr\u00f3j\u00e1n kereszt\u00fcl: ne 5, hanem 10 m\u00e1sodpercenk\u00e9nt \u00edrjuk ki az id\u0151t. Ezt a Deployment m\u00f3dos\u00edt\u00e1s\u00e1val \u00e9rhetj\u00fck el, mivel podot nem tudunk szerkeszteni hat\u00e9konyan, egy fut\u00f3 pod nem cser\u00e9lhet\u0151 le. Ehelyett val\u00f3j\u00e1ban egy \u00faj podot kell l\u00e9trehozni indirekt m\u00f3don a deployment friss\u00edt\u00e9s\u00e9vel.</p> <p>\u00c9rv\u00e9nyes\u00edtsd a m\u00f3dos\u00edt\u00e1st a deployment le\u00edr\u00f3ban, majd alkalmazd a v\u00e1ltoz\u00e1st:</p> <pre><code>kubectl apply -f createdeployment.yml\n</code></pre> <p>K\u00e9rj\u00fck le a logokat a deployment podj\u00e1b\u00f3l:</p> <pre><code>kubectl logs -f &lt;podn\u00e9v&gt;\n</code></pre> <p>BEADAND\u00d3</p> <p>K\u00e9sz\u00edts egy k\u00e9perny\u0151k\u00e9pet (<code>f2.2.png</code>) \u00e9s commitold azt be a h\u00e1zi feladat rep\u00f3 gy\u00f6ker\u00e9be, ahol a logokban m\u00e1r 10 m\u00e1sodpercenk\u00e9nt t\u00f6rt\u00e9nik a ki\u00edrat\u00e1s.</p> Kubectl parancsok <p>A <code>kubectl</code> leggyakrabban haszn\u00e1lt parancsainak szerkezete: <code>kubectl &lt;ige&gt; &lt;er\u0151forr\u00e1s&gt; &lt;attrib\u00fatumok&gt;</code>.</p> <p>Az ige p\u00e9ld\u00e1ul:</p> <ul> <li><code>get</code>: list\u00e1zza az er\u0151forr\u00e1sokat</li> <li><code>create</code>: l\u00e9trehoz egy er\u0151forr\u00e1st</li> <li><code>delete</code>: t\u00f6r\u00f6l egy er\u0151forr\u00e1st</li> <li><code>describe</code>: lek\u00e9rdezi az er\u0151forr\u00e1s r\u00e9szletes \u00e1llapot\u00e1t</li> <li><code>edit</code>: let\u00f6lti az er\u0151forr\u00e1s le\u00edr\u00f3j\u00e1t, \u00e9s megnyitja sz\u00f6vegszerkeszt\u0151ben; ment\u00e9s \u00e9s bez\u00e1r\u00e1s ut\u00e1n friss\u00edti a klaszterben az er\u0151forr\u00e1st a m\u00f3dos\u00edt\u00e1sok alapj\u00e1n</li> </ul> <p>Az er\u0151forr\u00e1sok a <code>pod</code>, <code>replicaset</code> vagy r\u00f6viden <code>rs</code>, a <code>deployment</code>, stb.</p> <p>A parancsokr\u00f3l <code>-h</code> kapcsol\u00f3val kaphatunk seg\u00edts\u00e9get, pl. <code>kubectl describe -h</code></p>"},{"location":"homework/02-kubernetes/#3-feladat","title":"3. Feladat","text":""},{"location":"homework/02-kubernetes/#celok","title":"C\u00e9lok","text":"<p>A c\u00e9lunk a kiindul\u00f3 rep\u00f3ban l\u00e9v\u0151, todo-kat kezel\u0151 kont\u00e9neralap\u00fa, k\u00fcl\u00f6n \u00e1ll\u00f3 (mikro)szolg\u00e1ltat\u00e1sokra \u00e9p\u00fcl\u0151 webalkalmaz\u00e1s telep\u00edt\u00e9se Kubernetes-be. A rendszer\u00fcnk alapvet\u0151en h\u00e1rom fajta komponensb\u0151l \u00e9p\u00fcl fel:</p> <ul> <li>az \u00e1ltalunk megval\u00f3s\u00edtott mikroszolg\u00e1ltat\u00e1sok (backendek \u00e9s frontend),</li> <li>az adatb\u00e1zis rendszerek (MongoDB, Elasticsearch \u00e9s Redis),</li> <li>valamint az api gateway.</li> </ul> <p></p> <p>C\u00e9lunk nem csak az egyszeri telep\u00edt\u00e9s, hanem az alkalmaz\u00e1s naprak\u00e9szen tart\u00e1s\u00e1hoz a folyamatos friss\u00edt\u00e9s lehet\u0151s\u00e9g\u00e9nek megteremt\u00e9se. A fenti komponensek azonban nem ugyanolyan friss\u00edt\u00e9si ciklussal rendelkeznek: a saj\u00e1t komponenseink gyakran fognak v\u00e1ltozni, m\u00edg az adatb\u00e1zisok \u00e9s az api gateway ritk\u00e1n friss\u00fcl. A telep\u00edt\u00e9st ennek megfelel\u0151en most kett\u00e9 v\u00e1gjuk:</p> <ol> <li>Az api gateway-t \u00e9s az adatb\u00e1zisokat egyszer telep\u00edtj\u00fck manu\u00e1lisan.</li> <li>Az alkalmaz\u00e1sunk saj\u00e1t komponenseihez YAML alap\u00fa le\u00edr\u00f3kat k\u00e9sz\u00edt\u00fcnk, amit <code>kubectl apply</code> seg\u00edts\u00e9g\u00e9vel fogunk telep\u00edteni, illetve ezeket a le\u00edr\u00f3kat Helm-mel fogjuk kezelni.</li> </ol>"},{"location":"homework/02-kubernetes/#30-helm","title":"3.0 Helm","text":"<p>Ellen\u0151rizz\u00fck, hogy a <code>helm</code> CLI el\u00e9rhet\u0151-e:</p> <pre><code>helm version\n</code></pre> <p>Helm 3</p> <p>A feladat sor\u00e1n a Helm 3-as verzi\u00f3j\u00e1t fogjuk haszn\u00e1lni. A kor\u00e1bbi verzi\u00f3ja koncepci\u00f3ban azonos, de m\u0171k\u00f6d\u00e9s\u00e9ben elt\u00e9r\u0151.</p>"},{"location":"homework/02-kubernetes/#31-ingress-controller-api-gateway-telepitese-helm-charttal","title":"3.1 Ingress Controller (api gateway) telep\u00edt\u00e9se Helm charttal","text":"<p>A Traefik-et Helm charttal fogjuk telep\u00edteni, mert a Traefik helyes m\u0171k\u00f6d\u00e9s\u00e9hez a Traefik kont\u00e9ner (Deployment) mellett egy\u00e9b elemekre is sz\u00fcks\u00e9g lesz (klaszteren bel\u00fcli hozz\u00e1f\u00e9r\u00e9s szab\u00e1lyz\u00e1s miatt).</p> <p>Chart-ok ellen\u0151rz\u00e9se</p> <p>A Helm chartok nagy r\u00e9sze harmadik f\u00e9lt\u0151l sz\u00e1rmazik, \u00edgy a klaszter\u00fcnbe val\u00f3 telep\u00edt\u00e9s el\u0151tt a tartalmukat \u00e9rdemes alaposan megn\u00e9zni.</p> <ol> <li> <p>A Helm is repository-kkal dolgozik, ahonnan a chart-okat let\u00f6lti. Ezeket regisztr\u00e1lni kell. Regisztr\u00e1ljuk a Traefik hivatalos chart-j\u00e1t tartalmaz\u00f3 repository-t, majd friss\u00edts\u00fck az el\u00e9rhet\u0151 char-okat:</p> <pre><code>helm repo add traefik https://traefik.github.io/charts\nhelm repo update\n</code></pre> </li> <li> <p>Telep\u00edts\u00fck:</p> <pre><code>helm install traefik traefik/traefik --set ports.web.nodePort=32080 --set service.type=NodePort --set \"additionalArguments={--api.insecure=true}\"\n</code></pre> <ul> <li>A legels\u0151 <code>traefik</code> a Helm release nev\u00e9t adja meg. Ezzel tudunk r\u00e1 hivatkozni a j\u00f6v\u0151ben.</li> <li>A <code>traefik/traefik</code> azonos\u00edtja a telep\u00edtend\u0151 chartot (repository/chartn\u00e9v).</li> <li>A <code>--set</code> kapcsol\u00f3val a chart v\u00e1ltoz\u00f3it \u00e1ll\u00edtjuk be.</li> </ul> <p>Publikus el\u00e9r\u00e9shez</p> <p>A Traefik jelen konfigur\u00e1ci\u00f3ban NodePort service t\u00edpussal van konfigur\u00e1lva, ami azt jelenti, lok\u00e1lisan, helyben a megadott porton lesz csak el\u00e9rhet\u0151. Ha publikusan el\u00e9rhet\u0151 klaszterben dolgozunk, akkor tipikusan LoadBalancer service t\u00edpust fogunk k\u00e9rni, hogy publikus IP c\u00edmet is kapjon a Traefik.</p> </li> <li> <p>Ellen\u0151rizz\u00fck, hogy fut-e:</p> <pre><code>kubectl get pod\n</code></pre> <p>L\u00e1tunk kell egy traefik kezdet\u0171 podot.</p> </li> <li> <p>A Traefik dashboard-ja nem el\u00e9rhet\u0151 \"k\u00edv\u00fclr\u0151l\".    A dashboard seg\u00edt minket l\u00e1tni a Traefik konfigur\u00e1ci\u00f3j\u00e1t \u00e9s m\u0171k\u00f6d\u00e9s\u00e9t.    Mivel ez a klaszter bels\u0151 \u00e1llapot\u00e1t publik\u00e1lja, production \u00fczemben valamilyen m\u00f3don authentik\u00e1lnunk kellene.    Ezt most megker\u00fclve <code>kubectl</code> seg\u00edts\u00e9g\u00e9vel egy helyi portra tov\u00e1bb\u00edtjuk a Traefik dashboard-ot (\u00e9s a telep\u00edt\u00e9skor insecure m\u00f3dba kapcsoltuk).    A port \u00e1tir\u00e1ny\u00edt\u00e1st pr\u00f3b\u00e1ljuk most a VSCode Kubernetes extension seg\u00edts\u00e9g\u00e9vel:</p> <p></p> <p>Fogadjuk el az elap\u00e9rtelmezett \u00e9rt\u00e9keket (<code>9100:metrics 9000:traefik 8000:web 8443:websecure</code>). \u00cdgy a Traefik dashboard a <code>localhost:9000/dashboard/</code> c\u00edmen lesz el\u00e9rhet\u0151.</p> Port forward parancs <p>Ahogy l\u00e1tjuk a GUI-s K8S eszk\u00f6z\u00f6k is csak a <code>kubectl port-forward</code> parancsot haszn\u00e1lj\u00e1k a h\u00e1tt\u00e9rben.</p> <p>Ha nem haszn\u00e1lunk GUI-t, akkor a port forward parancs a k\u00f6vetkez\u0151, amibe r\u00e1ad\u00e1sul nem \u00e9gett\u00fck bele a pod nev\u00e9t:</p> <pre><code>kubectl port-forward $(kubectl get pods --selector \"app.kubernetes.io/name=traefik\" --output=name) 9100:9100 9000:9000 8000:8000 8443:8443 -n default\n</code></pre> </li> <li> <p>N\u00e9zz\u00fck meg a Traefik dashboardot: http://localhost:9000/dashboard/ (a v\u00e9g\u00e9n kell a perjel!)</p> </li> </ol> <p>Ha friss\u00edteni szeretn\u00e9nk k\u00e9s\u0151bb a Traefik-et, akkor azt a <code>helm upgrade traefik traefik/traefik ...</code> paranccsal tudjuk megtenni.</p>"},{"location":"homework/02-kubernetes/#32-adatbazisok-telepitese","title":"3.2 Adatb\u00e1zisok telep\u00edt\u00e9se","text":"<p>Az adatb\u00e1zisainkat saj\u00e1t magunk \u00e1ltal meg\u00edrt YAML le\u00edr\u00f3val telep\u00edtj\u00fck. Ez a le\u00edr\u00f3 f\u00e1jl m\u00e1r rendelkez\u00e9s\u00fcnkre \u00e1ll a kiindul\u00f3 repository todoapp almapp\u00e1j\u00e1ban.</p> <ol> <li> <p>Vizsg\u00e1ljuk meg a repository <code>todoapp/kubernetes/db</code> k\u00f6nyvt\u00e1r\u00e1ban l\u00e9v\u0151 YAML le\u00edr\u00f3kat.</p> <ul> <li>Redis: Deployment-k\u00e9nt telep\u00edtj\u00fck \u00e9s nem csatolunk hozz\u00e1 diszket, mert \u00fagyis csak cache-nek haszn\u00e1ljuk</li> <li>MongoDB: StatefulSet-k\u00e9nt telep\u00edtj\u00fck, \u00e9s a perzisztens adatt\u00e1rol\u00e1shoz dinamikus PersistentVolumeClaim-et haszn\u00e1lunk</li> <li>Elasticsearch: StatefulSet-k\u00e9nt telep\u00edtj\u00fck, \u00e9s a perzisztens adatt\u00e1rol\u00e1shoz dinamikus PersistentVolumeClaim-et haszn\u00e1lunk</li> </ul> </li> <li> <p>Telep\u00edts\u00fck az adatb\u00e1zisokat:</p> <pre><code>kubectl apply -f todoapp/kubernetes/db\n</code></pre> <p>A <code>kubectl apply</code> parancs <code>-f</code> kapcsol\u00f3ja ha mapp\u00e1t kap, akkor a mapp\u00e1ban l\u00e9v\u0151 \u00f6sszes yaml f\u00e1jlt alkalmazza.</p> </li> <li> <p>Ellen\u0151rizz\u00fck, hogy az adatb\u00e1zis podok elindulnak-e (pl.: GUI-val). Minden a default n\u00e9vt\u00e9rbe kellett telep\u00fclj\u00f6n.</p> </li> <li>N\u00e9zz\u00fck meg a Persistent Volume \u00e9s Persistent Volumen Claim-eket.</li> </ol>"},{"location":"homework/02-kubernetes/#33-alkalmazasunk-telepitese","title":"3.3 Alkalmaz\u00e1sunk telep\u00edt\u00e9se","text":"<p>Az alkalmaz\u00e1sunk telep\u00edt\u00e9s\u00e9hez szint\u00e9n YAML le\u00edr\u00f3kat tal\u00e1lunk a kubernetes/app k\u00f6nyvt\u00e1rban.</p> <ol> <li> <p>N\u00e9zz\u00fck meg a le\u00edr\u00f3kat. Az el\u0151bb l\u00e1tott Deployment \u00e9s Service mellet Ingress-t is l\u00e1tni fogunk.</p> </li> <li> <p>Telep\u00edts\u00fck az alkalmaz\u00e1sokat:</p> <pre><code>kubectl apply -f todoapp/kubernetes/app\n</code></pre> </li> <li> <p>Ellen\u0151rizz\u00fck, hogy l\u00e9trej\u00f6ttek a Deployment-ek podok, stb. Viszont vegy\u00fck \u00e9szre, hogy piros lesz m\u00e9g p\u00e1r dolog. A hiba oka, hogy a hivatkozott image-eket nem tal\u00e1lja a rendszer.</p> </li> <li> <p>Navig\u00e1ljunk el az <code>src</code> k\u00f6nyvt\u00e1rba, \u00e9s buildelj\u00fck le az alkalmaz\u00e1st docker-compose seg\u00edts\u00e9g\u00e9vel \u00fagy, hogy a megfelel\u0151 taggel ell\u00e1tjuk az image-eket. Az app k\u00f6nyvt\u00e1rban l\u00e9v\u0151 YAML f\u00e1jlok a v1 tagre hivatkoznak (<code>image: todoapp/todos:v1</code>), \u00edgy ehhez \u00e9rdemes igazodnunk. A tag-et be\u00e1ll\u00edthatjuk k\u00f6rnyezeti v\u00e1ltoz\u00f3b\u00f3l.</p> <ul> <li> <p>Powershell-ben</p> <pre><code>$env:IMAGE_TAG=\"v1\"\ndocker compose build\n</code></pre> </li> <li> <p>Windows Command Prompt-ban</p> <pre><code>setx IMAGE_TAG \"v1\"\ndocker compose build\n</code></pre> </li> <li> <p>Linux bash-ben</p> <pre><code>IMAGE_TAG=\"v1\" docker compose build\n</code></pre> </li> </ul> </li> <li> <p>A build folyamat v\u00e9g\u00e9n el\u0151\u00e1llnak helyben az image-ek, pl. <code>todoapp/web:v1</code> taggel. Ha t\u00e1voli registry-be szeretn\u00e9nk felt\u00f6lteni \u0151ket, akkor taggelhetn\u00e9nk \u0151ket a registry-nek megfelel\u0151en. A helyi fejleszt\u00e9shez nincs sz\u00fcks\u00e9g\u00fcnk ehhez, mert a helyben elind\u00edtott Kubernetes \"l\u00e1tja\" a Docker helyi image-eit.</p> </li> <li> <p>Menj\u00fcnk vissza az er\u0151forr\u00e1sainkhoz. Egy kicsit v\u00e1rjunk, \u00e9s azt kell l\u00e1ssuk, hogy az eddig piros elemek kiz\u00f6ld\u00fclnek (GUI f\u00fcgg\u0151en friss\u00edt\u00e9sre lehet sz\u00fcks\u00e9g). A Kubernetes folyamatosan t\u00f6rekszik az elv\u00e1rt \u00e1llapot el\u00e9r\u00e9s\u00e9re, ez\u00e9rt a nem el\u00e9rhet\u0151 image-einket \u00fajra \u00e9s \u00fajra megpr\u00f3b\u00e1lta el\u00e9rni, m\u00edg nem siker\u00fclt.</p> </li> <li> <p>Pr\u00f3b\u00e1ljuk ki az alkalmaz\u00e1st a http://localhost:32080 c\u00edmen.</p> </li> </ol> <p>Egyes Linuxos g\u00e9peken el\u0151fordulhat, hogy a http://localhost:8000 c\u00edmen lesz el\u00e9rhet\u0151 az alkalmaz\u00e1s, a kor\u00e1bban javasolt port forward parancsot k\u00f6vet\u0151en.</p> <p>BEADAND\u00d3</p> <p>K\u00e9sz\u00edts egy k\u00e9perny\u0151k\u00e9pet (<code>f3.3.png</code>) \u00e9s commitold azt be a h\u00e1zi feladat rep\u00f3 gy\u00f6ker\u00e9be, ahol az alkalmaz\u00e1s fut\u00e1sa l\u00e1tszik egy saj\u00e1t neptun k\u00f3dot tartalmaz\u00f3 todoval.</p> Ha m\u00e9gsem z\u00f6ld\u00fclnek ki <pre><code>1. Egyes Linuxos g\u00e9peken nem v\u00e1llnak alapvet\u0151en l\u00e1that\u00f3v\u00e1 a minikube-on bel\u00fcl az image-ek. Az ilyen g\u00e9peken \u00e9rdemes a k\u00f6vetkez\u0151 parancs el\u0151tt az `eval $(minikube docker-env)` parancsot kiadni.\nEzt k\u00f6vet\u0151en ebben a termin\u00e1l ablakban adjuk ki az image build paracsomat, valamint a k8s apply parancsokat is.\n\n2. Ugyanez Windows-os + minikube powershellel:\nLehet, hogy nem a minikube-ban vannak a docker image-ek. Ekkor PowerShellben a `&amp; minikube -p minikube docker-env --shell powershell | Invoke-Expression` paranccsal tudod el\u00e9rni, hogy a minikube-ban l\u00e9v\u0151 docker daemont haszn\u00e1ld.\nHa ez a parancs `\u274c  Exiting due to MK_USAGE: the docker-env command only supports the docker and containerd runtimes` errort dobna: Add ki a `minikube delete` parancsot, majd ind\u00edtsd el a k\u00f6vetkez\u0151 m\u00f3don: `minikube start --driver=docker --container-runtime=docker`\n</code></pre>"},{"location":"homework/02-kubernetes/#34-alkalmazas-frissitese-helm-charttal","title":"3.4 Alkalmaz\u00e1s friss\u00edt\u00e9se Helm charttal","text":"<p>Tegy\u00fck fel, hogy az alkalmaz\u00e1sunkb\u00f3l \u00fajabb verzi\u00f3 k\u00e9sz\u00fcl, \u00e9s szeretn\u00e9nk friss\u00edteni. A fentebb haszn\u00e1lt YAML le\u00edr\u00f3kat az\u00e9rt (is) a verzi\u00f3kezel\u0151ben t\u00e1roljuk, mert \u00edgy a telep\u00edt\u00e9si \"\u00fatmutat\u00f3k\" is verzi\u00f3zottak. Teh\u00e1t nincs m\u00e1s dolgunk, mit a kont\u00e9ner image-ek elk\u00e9sz\u00edt\u00e9se ut\u00e1n a Deployment-ekben a megfelel\u0151 tag-ek lecser\u00e9l\u00e9se, \u00e9s a <code>kubectl apply</code> paranccsal a telep\u00edt\u00e9s friss\u00edt\u00e9se.</p> <p>A Tag-ek friss\u00edt\u00e9s\u00e9hez a YAML f\u00e1jlokba minden alkalommal bele kell \u00edrnunk. J\u00f3 lenne, ha az image tag-et mint egy v\u00e1ltoz\u00f3 tudn\u00e1nk a telep\u00edt\u00e9s sor\u00e1n \u00e1tadni. Erre szolg\u00e1l a Helm: k\u00e9sz\u00edts\u00fcnk egy chart-ot a szolg\u00e1ltat\u00e1sainknak. A chart a telep\u00edt\u00e9s le\u00edr\u00f3 neve, ami gyakorlatilag YAML f\u00e1jlok gy\u0171jtem\u00e9nye egy speci\u00e1lis szintaktik\u00e1val kieg\u00e9sz\u00edtve.</p> <ol> <li> <p>Hozzuk l\u00e9tre a repository-nkban a <code>todoapp/helmchart</code> mapp\u00e1t majd a konzolban navig\u00e1ljunk oda.</p> </li> <li> <p>K\u00e9sz\u00edts\u00fcnk egy \u00faj, \u00fcres chart-ot: <code>helm create todoapp</code>. Ez l\u00e9trehoz egy todoapp nev\u0171 chartot egy azonos nev\u0171 k\u00f6nyvt\u00e1rban.</p> </li> <li> <p>N\u00e9zz\u00fck meg a chart f\u00e1jljait.</p> <ul> <li><code>Chart.yaml</code> a metaadatokat \u00edrja le.</li> <li><code>values.yaml</code> \u00edrja le a v\u00e1ltoz\u00f3ink alap\u00e9rtelmezett \u00e9rt\u00e9keit.</li> <li><code>.helmignore</code> azon f\u00e1jlokat list\u00e1zza, amelyeket a chart \u00e9rtelmez\u00e9sekor nem kell figyelembe venni.</li> <li><code>templates</code> k\u00f6nyvt\u00e1rban vannak a template f\u00e1jlok, amik a gener\u00e1l\u00e1s alapj\u00e1ul szolg\u00e1lnak.</li> </ul> <p>A Helm egy olyan template nyelvet haszn\u00e1l, amelyben v\u00e1ltoz\u00f3 behelyettes\u00edt\u00e9sek, ciklusok, egyszer\u0171 sz\u00f6vegm\u0171veletek t\u00e1mogatottak. Mi most csak a v\u00e1ltoz\u00f3 behelyettes\u00edt\u00e9st fogjuk haszn\u00e1lni.</p> </li> <li> <p>T\u00f6r\u00f6lj\u00fck ki a <code>templates</code> k\u00f6nyvt\u00e1rb\u00f3l az \u00f6sszes f\u00e1jlt a <code>_helpers.tpl</code> kiv\u00e9tel\u00e9vel.</p> </li> <li> <p>M\u00e1soljuk helyette be ide a kor\u00e1bban a telep\u00edt\u00e9shez haszn\u00e1lt YAML f\u00e1jljainkat a <code>todoapp/kubernetes/app</code> mapp\u00e1b\u00f3l (3 darab).</p> </li> <li> <p>Szerkessz\u00fck meg a <code>todos.yaml</code> f\u00e1jl tartalm\u00e1t. Leegyszer\u0171s\u00edtve az al\u00e1bbiakra lesz sz\u00fcks\u00e9g:</p> <ul> <li> <p>Ha Visual Studio Code-ot haszn\u00e1lunk, akkor telep\u00edts\u00fck a <code>ms-kubernetes-tools.vscode-kubernetes-tools</code> extension-t. \u00cdgy kapunk n\u00e9mi seg\u00edts\u00e9get a szintaktik\u00e1val.</p> </li> <li> <p>Mindenhol, ahol <code>labels</code> vagy <code>matchLabels</code> szerepel, m\u00e9g egy sort fel kell venn\u00fcnk:</p> <pre><code>app.kubernetes.io/instance: {{ .Release.Name }}\n</code></pre> <p>Ez egy implicit v\u00e1ltoz\u00f3t helyettes\u00edt be: a release nev\u00e9t. Ezzel azonos\u00edtja a Helm a telep\u00edt\u00e9s \u00e9s friss\u00edt\u00e9s sor\u00e1n, hogy mely elemeket kell friss\u00edtenie, melyek tartoznak a fennhat\u00f3s\u00e1ga al\u00e1.</p> </li> <li> <p>A pod-ban az image be\u00e1ll\u00edt\u00e1s\u00e1hoz haszn\u00e1ljunk v\u00e1ltoz\u00f3t:</p> <pre><code>image: todoapp/todos:{{ .Values.todos.tag }}\n</code></pre> <p>Whitespace</p> <p>Figyelj\u00fcnk oda, hogy a v\u00e1ltoz\u00f3 behelyettes\u00edt\u00e9s sor\u00e1n hova kell whitespace-t rakni \u00e9s hova nem.</p> </li> </ul> </li> <li> <p>Defini\u00e1ljuk az el\u0151bbi v\u00e1ltoz\u00f3 alap\u00e9rtelmezett \u00e9rt\u00e9k\u00e9t. A <code>values.yaml</code> f\u00e1jlban (egy k\u00f6nyvt\u00e1rral feljebb) t\u00f6r\u00f6lj\u00fcnk ki mindent, \u00e9s vegy\u00fck fel ezt a kulcsot:</p> <pre><code>todos:\n  tag: v1\n</code></pre> </li> <li> <p>A m\u00e1sik k\u00e9t komponens YAML le\u00edr\u00f3ival is hasonl\u00f3an kell elj\u00e1rnunk: vegy\u00fcnk fel egy-egy kulcsot komponensenk\u00e9nt \u00e9s hivatkozzunk a kulcsra az adott komponens pod le\u00edr\u00f3j\u00e1nak <code>image:</code> \u00e9rt\u00e9k\u00e9ben.</p> </li> <li> <p>A tov\u00e1bbiakhoz el kell t\u00e1vol\u00edtanunk az el\u0151bb telep\u00edtett alkalmaz\u00e1sunkat, mert \u00f6sszeakadna a Helm-mel. Ezt a parancsot a telep\u00edt\u00e9shez kor\u00e1bban haszn\u00e1lt <code>app</code> alk\u00f6nyvt\u00e1r sz\u00fcl\u0151k\u00f6nyvt\u00e1r\u00e1ban adjuk ki:</p> <pre><code>kubectl delete -f app\n</code></pre> </li> <li> <p>N\u00e9zz\u00fck meg a template-eket ki\u00e9rt\u00e9kelve.</p> <ul> <li>A chartunk k\u00f6nyvt\u00e1r\u00e1b\u00f3l l\u00e9pj\u00fcnk eggyel feljebb, hogy a <code>todoapp</code> chart k\u00f6nyvt\u00e1r az aktu\u00e1lis k\u00f6nyvt\u00e1rban legyen.</li> <li> <p>Futtassuk le csak a template gener\u00e1l\u00e1st a telep\u00edt\u00e9s n\u00e9lk\u00fcl: </p> <pre><code>helm install todoapp --debug --dry-run todoapp\n</code></pre> </li> <li> <p>A release-nek todoapp nevet v\u00e1lasztottunk. Ez a Helm release azonos\u00edt\u00f3ja.</p> </li> <li> <p>Konzolra megkapjuk a ki\u00e9rt\u00e9kelt YAML-\u00f6ket. Ellen\u0151rizz\u00fck a kimenetben, hogy a <code>release</code> \u00e9s <code>tag</code> v\u00e1ltoz\u00f3k rendben behelyettes\u00edt\u0151dtek.</p> </li> </ul> </li> <li> <p>Telep\u00edts\u00fck (\u00fajra) az alkalmaz\u00e1st a chart seg\u00edts\u00e9g\u00e9vel:</p> <pre><code>helm upgrade todoapp --install todoapp\n</code></pre> <ul> <li>Az <code>upgrade</code> parancs \u00e9s az <code>--install</code> kapcsol\u00f3 telep\u00edt, ha nem l\u00e9tezik, ill. friss\u00edt, ha m\u00e1r l\u00e9tezik ilyen telep\u00edt\u00e9s.</li> </ul> </li> <li> <p>N\u00e9zz\u00fck meg, hogy a Helm szerint l\u00e9tezik-e a release: <code>helm list</code></p> </li> <li> <p>Pr\u00f3b\u00e1ljuk ki az alkalmaz\u00e1st a http://localhost:32080 c\u00edmen.</p> </li> <li> <p>Ezen chart seg\u00edts\u00e9g\u00e9vel friss\u00edts\u00fck egy \u00faj k\u00e9ppel az alkalmaz\u00e1sunkat. A kor\u00e1bban haszn\u00e1lt <code>docker compose build</code> paranccsal k\u00e9sz\u00edts\u00fck el az \u00faj docker image-eket, csak most v2 taggel. P\u00e9ld\u00e1ul Windows parancssorban:</p> <pre><code>$env:IMAGE_TAG=\"v2\"\ndocker compose build\n</code></pre> </li> <li> <p>A tag-et a values f\u00e1jlb\u00f3l fel\u00fcl tudjuk defini\u00e1lni telep\u00edt\u00e9si param\u00e9terben <code>--set</code>, pl. ha a \"v2\" az \u00faj tag, akkor egy paranccsal tudjuk friss\u00edteni:</p> <pre><code>helm upgrade todoapp --install todoapp --set todos.tag=v2 --set web.tag=v2 --set users.tag=v2\n</code></pre> </li> </ol> <p>BEADAND\u00d3</p> <p>K\u00e9sz\u00edts egy k\u00e9perny\u0151k\u00e9pet (<code>f3.4.png</code>) \u00e9s commitold azt be a h\u00e1zi feladat rep\u00f3 gy\u00f6ker\u00e9be, ahol az alkalmaz\u00e1s fut\u00e1sa l\u00e1tszik egy saj\u00e1t neptun k\u00f3dot tartalmaz\u00f3 todoval.</p> <p>K\u00e9sz\u00edts egy k\u00e9perny\u0151k\u00e9pet (<code>f3.5.png</code>) \u00e9s commitold azt be a h\u00e1zi feladat rep\u00f3 gy\u00f6ker\u00e9be, demonstr\u00e1lod, hogy l\u00e9trej\u00f6tt a helm release k8s-ben v2-es taggel.</p>"},{"location":"homework/03-communication/","title":"03 - Kommunik\u00e1ci\u00f3s megold\u00e1sok","text":""},{"location":"homework/03-communication/#cel","title":"C\u00e9l","text":"<p>A h\u00e1zi feladat c\u00e9lja az elosztott alkalmaz\u00e1sok fejleszt\u00e9se sor\u00e1n felmer\u00fcl\u0151 megold\u00e1sok alapszint\u0171 gyakorl\u00e1sa.</p>"},{"location":"homework/03-communication/#elokovetelmenyek","title":"El\u0151k\u00f6vetelm\u00e9nyek","text":"<ul> <li>REST webszolg\u00e1ltat\u00e1sok k\u00e9sz\u00edt\u00e9s\u00e9nek ismerete .NET platformon<ul> <li>A h\u00e1zi k\u00fcl\u00f6n nem t\u00e9r ki a REST szer\u0171 webszolg\u00e1ltat\u00e1sok k\u00e9sz\u00edt\u00e9s\u00e9nek m\u00f3dszereire, arra a BSc szakir\u00e1nyos k\u00e9pz\u00e9s Adatvez\u00e9relt rendszerek \u00e9s a Szoftverfejleszt\u00e9s .NET platformra c\u00edm\u0171 v\u00e1laszthat\u00f3 t\u00e1rgy anyagai az aj\u00e1nlott irodalom.</li> </ul> </li> <li>Docker Desktop</li> <li>.NET SDK (legal\u00e1bb v8.0.402)</li> <li>Visual Studio 2022<ul> <li>kidolgozva: v17.11.4</li> <li>ASP.NET and web development workload</li> <li>alternat\u00edvak\u00e9nt j\u00f3 lehet a Rider is, az Aspire pluginnel</li> </ul> </li> <li>H\u00e1zi rep\u00f3ban tal\u00e1lhat\u00f3 kiindul\u00f3 projekt</li> </ul>"},{"location":"homework/03-communication/#kiindulo-projekt","title":"Kiindul\u00f3 projekt","text":"<p>A kiindul\u00f3 projekt egy .NET 8 alap\u00fa alkalmaz\u00e1s k\u00e9t mikroszolg\u00e1ltat\u00e1st tartalmaz:</p> <ul> <li>Catalog: egy egyszer\u0171 REST webszolg\u00e1ltat\u00e1s, ami term\u00e9keket list\u00e1z egy mem\u00f3ri\u00e1ban t\u00e1rolt list\u00e1b\u00f3l, de sz\u00e1nd\u00e9kosan v\u00e9letlenszer\u0171en 503-as hibak\u00f3ddal t\u00e9r vissza.</li> <li>Order: egy egyszer\u0171 REST webszolg\u00e1ltat\u00e1s, ami haszn\u00e1lja a Catalog szolg\u00e1ltat\u00e1st<ul> <li>A REST-es v\u00e9gpont el\u00e9r\u00e9s\u00e9t a h\u00edv\u00f3 oldalon OpenAPI le\u00edr\u00f3b\u00f3l gener\u00e1lt kliens oldali oszt\u00e1lyokon kereszt\u00fcl \u00e9rj\u00fck el. (l\u00e1sd VS / Order projekt / Connected Services / Manage Connected Services / swagger Client).</li> <li>Ez a kliens oldali k\u00f3d <code>HttpClient</code> seg\u00edts\u00e9g\u00e9vel h\u00edvja meg a Catalog szolg\u00e1ltat\u00e1st.</li> </ul> </li> <li>AppHost: .NET Aspire alap\u00fa AppHost projekt, ami megk\u00f6nny\u00edti az elosztott alkalmaz\u00e1sok futtat\u00e1s\u00e1t fejleszt\u00e9s sor\u00e1n.    Koncepci\u00f3j\u00e1ban a Docker Compose-hoz hasonl\u00f3, de C# nyelven \u00edrhat\u00f3 YAML helyett, \u00e9s nem csak .NET alkalmaz\u00e1sokat t\u00e1mogat.<ul> <li>biztos\u00edtja a komponensek megfigyelhet\u0151s\u00e9g\u00e9t OpenTelemetry seg\u00edts\u00e9g\u00e9vel (Struktur\u00e1lt napl\u00f3z\u00e1s, Nyomk\u00f6vet\u00e9s, Metrik\u00e1k)</li> <li>\u00e9s a Service Discovery-t konfigur\u00e1ci\u00f3k kezel\u00e9s\u00e9n kereszt\u00fcl</li> <li>B\u0151vebben az Aspire-r\u0151l: https://learn.microsoft.com/en-us/dotnet/aspire/get-started/aspire-overview</li> </ul> </li> </ul>"},{"location":"homework/03-communication/#0-feladat-elokeszuletek","title":"0. Feladat - El\u0151k\u00e9sz\u00fcletek","text":"<ol> <li>Vedd fel a gy\u00f6k\u00e9rben l\u00e9v\u0151 neptun.txt-be a NEPTUN azonos\u00edt\u00f3dat.</li> <li>\u00cdrd \u00e1t az AppHost projekt <code>Program.cs</code> f\u00e1jlj\u00e1ban a sztringekben tal\u00e1lhat\u00f3 <code>NEPTUN</code> kifejez\u00e9st a saj\u00e1t neptun k\u00f3dodra.</li> <li>\u00cdrd \u00e1t az Order projektben a <code>Program.cs</code> f\u00e1jlj\u00e1ban a sztringekben tal\u00e1lhat\u00f3 <code>NEPTUN</code> kifejez\u00e9st a saj\u00e1t neptun k\u00f3dodra.</li> <li>Pr\u00f3b\u00e1ljuk ki az alkalmaz\u00e1sokat az AppHost projektet futtatva.<ol> <li>Megjelenik-e a .NET Aspire dashboard?</li> <li>M\u0171k\u00f6dnek-e a szolg\u00e1ltat\u00e1sok k\u00fcl\u00f6n k\u00fcl\u00f6n a swagger fel\u00fclet\u00fckr\u0151l?</li> </ol> </li> </ol>"},{"location":"homework/03-communication/#1-feladat-hibaturo-kommunikacio","title":"1. Feladat - Hibat\u0171r\u0151 kommunik\u00e1ci\u00f3","text":"<p>A hibat\u0171r\u0151 kommunik\u00e1ci\u00f3 kapcs\u00e1n t\u00e1rgyalt tervez\u00e9si mint\u00e1k nem csak a kommunik\u00e1ci\u00f3 implement\u00e1ci\u00f3ja sor\u00e1n hasznosak, hanem b\u00e1rmilyen olyan komponens h\u00edv\u00e1sa sor\u00e1n is, ami nem v\u00e1rt tranziens hibajelens\u00e9get produk\u00e1lhat. T\u00e9ny, hogy leggyakrabban egy t\u00e1voli h\u00edv\u00e1s kommunik\u00e1ci\u00f3ja sor\u00e1n t\u00f6rt\u00e9nhet ilyen, \u00edgy ott mindenk\u00e9ppen \u00e9rdemes a hibat\u0171r\u00e9st valamilyen m\u00f3don megval\u00f3s\u00edtani.</p> <p>A laborfeladat sor\u00e1n k\u00e9t ASP.NET Core mikroszolg\u00e1ltat\u00e1s k\u00f6z\u00f6tti REST-es kommunik\u00e1ci\u00f3t szeretn\u00e9nk hibat\u0171r\u0151bb\u00e9 tenni. Ehhez .NET 8-ban m\u00e1r be\u00e9p\u00edtett lehet\u0151s\u00e9gek vannak, amik a Polly oszt\u00e1lyk\u00f6nyvt\u00e1rra t\u00e1maszkodik, ami a leggyakoribb hibat\u0171r\u0151 mint\u00e1kat val\u00f3s\u00edtja meg, nek\u00fcnk csak felkonfigur\u00e1lnunk kell. Az egyszer\u0171s\u00e9g kedv\u00e9\u00e9rt most a Retry mint\u00e1t val\u00f3s\u00edtsuk meg.</p>"},{"location":"homework/03-communication/#retry","title":"Retry","text":"<p>Az Order szolg\u00e1ltat\u00e1sb\u00f3l h\u00edvjuk a Catalog szolg\u00e1ltat\u00e1st, hogy lek\u00e9rj\u00fck a term\u00e9kek list\u00e1j\u00e1t. A Catalog szolg\u00e1ltat\u00e1s azonban (sz\u00e1nd\u00e9kosan) v\u00e9letlenszer\u0171en 503 HTTP hibak\u00f3ddal t\u00e9r vissza. C\u00e9lunk, hogy a h\u00edv\u00e1sokat \u00fajrapr\u00f3b\u00e1lkoz\u00e1ssal kezelj\u00fck, \u00e9s a h\u00edv\u00f3 sz\u00e1m\u00e1ra transzparens legyen az \u00fajrapr\u00f3b\u00e1lkoz\u00e1s.</p> <p>Pr\u00f3b\u00e1ljuk ki a jelenlegi m\u0171k\u00f6d\u00e9st az Order szolg\u00e1ltat\u00e1s swagger oldal\u00e1r\u00f3l, \u00e9s figyelj\u00fck meg a hib\u00e1t, amit a Catalog szolg\u00e1ltat\u00e1s ad vissza.</p> <p>.NET-ben a HTTP k\u00e9r\u00e9seket a <code>HttpClient</code> oszt\u00e1ly seg\u00edts\u00e9g\u00e9vel v\u00e9gezz\u00fck. Az <code>IHttpClientFactory</code> seg\u00edts\u00e9g\u00e9vel tudjuk konfigur\u00e1lni a <code>HttpClient</code>-\u00fcnket, ahol m\u00e1r az alap be\u00e1ll\u00edt\u00e1sokon fel\u00fcl hibat\u0171r\u00e9st megval\u00f3s\u00edt\u00f3 handlert is konfigur\u00e1lni tudunk.</p> <p>Az Order szolg\u00e1ltat\u00e1s <code>Program</code> oszt\u00e1ly\u00e1ban konfigur\u00e1ljuk be az <code>HttpClient</code>-\u00fcnket a <code>AddResilienceHandler</code> f\u00fcggv\u00e9ny seg\u00edts\u00e9g\u00e9vel, \u00e9s adjuk hozz\u00e1 a retry konfigur\u00e1ci\u00f3t az al\u00e1bbi k\u00f6vetelm\u00e9nyek szerint:</p> <ul> <li>Az 503-as hibak\u00f3d eset\u00e9n pr\u00f3b\u00e1lkozzon \u00fajra</li> <li>Maximum 5-sz\u00f6r pr\u00f3b\u00e1lkozzon \u00fajra</li> <li>\u00dajrapr\u00f3b\u00e1lkoz\u00e1s el\u0151tt v\u00e1rjon 1 m\u00e1sodpercet</li> <li>T\u00f6bbsz\u00f6ri \u00fajrapr\u00f3b\u00e1lkoz\u00e1si id\u0151 exponenci\u00e1lisan n\u00f6vekv\u0151 id\u0151k\u00f6z legyen</li> </ul> <p>Pr\u00f3b\u00e1ljuk ki! Tapasztalatunk szerint szinte megsz\u0171ntek a hib\u00e1k.</p> <p>Ez a Policy gyakorlatilag be\u00e9p\u00fcl a <code>HttpClient</code> Handler Pipeline-j\u00e1ba, \u00edgy a h\u00edv\u00f3 sz\u00e1m\u00e1ra transzparens lesz az \u00fajrapr\u00f3b\u00e1lkoz\u00e1si logika. Viszont \u00e9rdemes odafigyelni a <code>HttpClient</code> <code>Timeout</code>j\u00e1ra is, mert az \u00fajrapr\u00f3b\u00e1lkoz\u00e1sok sor\u00e1n \u00edgy az nem indul \u00fajra.</p> Be\u00e9p\u00edtett alap\u00e9rtelmezett konfigur\u00e1ci\u00f3 <p>.NET 8 \u00f3ta kapunk egy akap\u00e9rtelmezett konfigur\u00e1ci\u00f3t is a leggyakoribb esetekre, amit az <code>AddStandardResilienceHandler</code> met\u00f3dussal tudunk hozz\u00e1adni a HttpClientFactory-hoz. S\u0151t ez m\u00e1r alap\u00e9rtelmezetten az Aspire seg\u00e9dprojektben be is volt regisztr\u00e1lva, de a mai p\u00e9ld\u00e1ban ezt sz\u00e1nd\u00e9kosan nem haszn\u00e1ltuk, hogy l\u00e1ssuk hogyan kellene ezt k\u00e9zzel konfigur\u00e1lni.</p> Skalazhato.HF3.ServiceDefaults/Extensions.cs<pre><code>builder.Services.ConfigureHttpClientDefaults(http =&gt;\n{\n    // Turn on resilience by default\n    // http.AddStandardResilienceHandler();\n\n    // Turn on service discovery by default\n    http.AddServiceDiscovery();\n});\n</code></pre> <p>B\u0151vebben: https://devblogs.microsoft.com/dotnet/building-resilient-cloud-services-with-dotnet-8/</p> <p>Polly \u00e1ltal\u00e1nosan</p> <p>A Polly-t nem csak <code>HttpClient</code>-tel lehet haszn\u00e1lni, hanem tetsz\u0151leges k\u00f3dban: \u00f6ssze lehet rakni egy Policy l\u00e1ncot, \u00e9s abba beburkolni a k\u00edv\u00e1nt f\u00fcggv\u00e9nyh\u00edv\u00e1st. A Policy-ket ak\u00e1r karbantarthatjuk a DI kont\u00e9nerben is.</p> <p>Most laboron nem n\u00e9z\u00fcnk p\u00e9ld\u00e1t t\u00f6bb Policy haszn\u00e1lat\u00e1ra, de sz\u00f3ba j\u00f6hetne m\u00e9g a Timeout, a Circuit breaker, Cache vagy ak\u00e1r a Fallback policy is. Az el\u0151ad\u00e1s anyagban tal\u00e1ltok egy \u00f6sszetettebb szekvencia diagrammot, az aj\u00e1nlott \u00f6sszet\u00e9telr\u0151l.</p> <p>BEADAND\u00d3</p> <p>A feladathoz tartoz\u00f3 forr\u00e1sk\u00f3dot commitold be \u00e9s k\u00e9sz\u00edts egy <code>f1.png</code>-t, amiben l\u00e1tszik a .NET Aspire dashboardon a Trace f\u00fcl\u00f6n a retry policy hat\u00e1sa a h\u00edv\u00e1sokra. A h\u00edv\u00e1sok k\u00f6z\u00f6tt legyenek sikeres \u00e9s sikertelen h\u00edv\u00e1sok is, \u00e9s l\u00e1tsz\u00f3djon, hogy a sikertelen h\u00edv\u00e1sok \u00fajrapr\u00f3b\u00e1lkoz\u00e1sokkal sikeresekk\u00e9 v\u00e1lnak.</p>"},{"location":"homework/03-communication/#2-feladat-aszinkron-kommunikacio-rabbitmq-val","title":"2. Feladat - Aszinkron kommunik\u00e1ci\u00f3 RabbitMQ-val","text":"<p>A feladat egy esem\u00e9ny alap\u00fa aszinkron kommunik\u00e1ci\u00f3 megval\u00f3s\u00edt\u00e1sa. Az Order szolg\u00e1ltat\u00e1s fog publik\u00e1lni egy <code>OrderCreated</code> integr\u00e1ci\u00f3s esem\u00e9nyt, amit egy \u00fczenetsorba rak. Erre tetsz\u0151leges szolg\u00e1ltat\u00e1s feliratkozhat \u00e9s reag\u00e1lhat r\u00e1. Eset\u00fcnkben a Catalog szolg\u00e1ltat\u00e1s fogja a megrendelt term\u00e9k rakt\u00e1rk\u00e9szlet\u00e9t cs\u00f6kkenteni. Most az egyszer\u0171s\u00e9g kedv\u00e9\u00e9rt ne foglalkozzunk az idempotens megval\u00f3s\u00edt\u00e1ssal.</p> <p>Az aszinkron kommunik\u00e1ci\u00f3t RabbitMQ-n kereszt\u00fcl val\u00f3s\u00edtjuk meg, \u00e9s a MassTransit oszt\u00e1lyk\u00f6nyvt\u00e1r magas szint\u0171 absztrakci\u00f3j\u00e1val fedj\u00fck el az alacsonyszint\u0171 kommunik\u00e1ci\u00f3s r\u00e9szleteket.</p>"},{"location":"homework/03-communication/#rabbitmq-beuzemelese","title":"RabbitMQ be\u00fczemel\u00e9se","text":"<p>A .NET Aspire seg\u00edts\u00e9g\u00e9vel AppHost projektbe vegy\u00fcnk fel egy RabbitMQ er\u0151forr\u00e1st.</p> <p>Ehhez az al\u00e1bbi NuGet csomagot kell felvenni.</p> <pre><code>&lt;PackageReference Include=\"Aspire.Hosting.RabbitMQ\" Version=\"8.2.1\" /&gt;\n</code></pre> <p>Vegy\u00fck fel a RabbitMQ-t az AppHost projektbe, \u00e9s a f\u00fcgg\u0151s\u00e9geket erre az \u00faj er\u0151forr\u00e1sra.</p> <pre><code>var messaging = builder.AddRabbitMQ(\"hf3-NEPTUN-messaging\")\n    .WithManagementPlugin();\n\nvar catalog = builder.AddProject&lt;Projects.Skalazhato_HF3_Services_Catalog&gt;(\"hf3-NEPTUN-catalog\")\n    .WithReference(messaging);\n\nvar order = builder.AddProject&lt;Projects.Skalazhato_HF3_Services_Order&gt;(\"hf3-NEPTUN-order\")\n    .WithReference(catalog)\n    .WithReference(messaging);\n</code></pre> <p>Ez a megold\u00e1s a RabbitMQ-t egy Docker kont\u00e9nerben fogja futtatni. A RabbitMQ-hoz kapunk \u00edgy egy menedzsment fel\u00fcletet is, amit a <code>guest</code> userrel, \u00e9s egy gener\u00e1lt jelsz\u00f3val tudunk el\u00e9rni. A jelsz\u00f3 megtal\u00e1lhat\u00f3 az Aspire Dashboardon a RabbitMQ er\u0151forr\u00e1s r\u00e9szletes n\u00e9zet\u00e9n\u00e9l.</p>"},{"location":"homework/03-communication/#integracios-esemeny","title":"Integr\u00e1ci\u00f3s esem\u00e9ny","text":"<p>L\u00e9tre kell hozzuk az esem\u00e9nyt reprezent\u00e1l\u00f3 \u00fczenetet, ami l\u00e9nyeg\u00e9ben a kommunik\u00e1ci\u00f3 szerz\u0151d\u00e9se lesz.</p> <ol> <li> <p>Hozzunk l\u00e9tre egy \u00faj .NET 8 Class Library projektet <code>Skalazhato.HF3.Events</code> n\u00e9ven.</p> </li> <li> <p>Ebbe vegy\u00fcnk fel egy interf\u00e9szt <code>IOrderCreatedEvent</code> n\u00e9ven az al\u00e1bbi tartalommal, ami azt \u00fczenetsorban l\u00e9v\u0151 adatot reprezent\u00e1lja.</p> <ul> <li>Megrendelt term\u00e9k azonos\u00edt\u00f3ja</li> <li>Megrendel\u00e9s ideje</li> <li>Megrendelt mennyis\u00e9g</li> </ul> </li> <li> <p>Az Order \u00e9s Catalog szolg\u00e1ltat\u00e1sokban vegy\u00fck fel a <code>Skalazhato.HF3.Events</code> projekt referenci\u00e1j\u00e1t, \u00e9s implement\u00e1ljuk az interf\u00e9szt az Order szolg\u00e1ltat\u00e1sban, egy \u00faj <code>IntegrationEvents</code> mapp\u00e1ban.</p> </li> </ol> <p>Semmi bonyolultra nem kell eddig gondolni, ezek csak egyszer\u0171 DTO oszt\u00e1lyok.</p>"},{"location":"homework/03-communication/#masstransit-hasznalata","title":"MassTransit haszn\u00e1lata","text":"<p>Az \u00fczeneteket a MassTransit k\u00f6nyvt\u00e1r seg\u00edts\u00e9g\u00e9vel fogjuk elk\u00fcldeni \u00e9s fogadni.</p>"},{"location":"homework/03-communication/#kuldo-oldal","title":"K\u00fcld\u0151 oldal","text":"<p>Kezdj\u00fck a a k\u00fcld\u0151 oldallal.</p> <ol> <li> <p>Vegy\u00fck fel az Order szolg\u00e1ltat\u00e1sba a k\u00f6vetkez\u0151 NuGet csomagot.</p> <pre><code>&lt;PackageReference Include=\"MassTransit.RabbitMQ\" Version=\"8.2.5\" /&gt;\n</code></pre> </li> <li> <p>Konfigur\u00e1ljuk be a <code>Program</code> oszt\u00e1lyban a MassTransit-ot, hogy RabbitMQ-t haszn\u00e1ljon.</p> <pre><code>builder.Services.AddMassTransit(x =&gt;\n{\n    x.UsingRabbitMq((ctx, config) =&gt;\n    {\n        config.Host(ctx.GetRequiredService&lt;IConfiguration&gt;()\n            .GetConnectionString(\"hf3-NEPTUN-messaging\"));\n    });\n});\n</code></pre> </li> <li> <p>S\u00fcss\u00fck el az esem\u00e9nyt a <code>TestController</code>-ben, egy \u00fajonnan l\u00e9trehozott, HTTP POST-tal h\u00edvhat\u00f3 <code>CreateOrder</code> actionben.</p> <ul> <li>Az action-t nem fontos parametriz\u00e1lni, dolgozhat be\u00e9getett \u00e9rt\u00e9kekkel is.</li> <li>A k\u00fcld\u00e9st a <code>IPublishEndpoint</code> objektum seg\u00edts\u00e9g\u00e9vel v\u00e9gezz\u00fck el.    MassTransit eset\u00e9ben a <code>Publish</code> s\u00fcti el a broadcast szer\u0171 esem\u00e9nyeket, m\u00edg a <code>Send</code> ink\u00e1bb a command t\u00edpus\u00fa \u00fczenetekre van kihegyezve. A <code>Publish</code>-nak explicit adjuk meg t\u00edpusparam\u00e9terk\u00e9nt az <code>IOrderCreatedEvent</code> interf\u00e9szt.</li> <li>Napl\u00f3zzuk struktur\u00e1ltan az <code>ILogger</code> seg\u00edts\u00e9g\u00e9vel inf\u00f3 szinten, hogy melyik term\u00e9ket rendelt\u00fck meg mekkora mennyis\u00e9gben.</li> <li>Az action v\u00e9g\u00e9n adjunk vissza egy <code>Ok</code> st\u00e1tuszk\u00f3dot, \u00e9s egy \u00fczenetet a v\u00e1laszban, hogy sikeres volt a megrendel\u00e9s.</li> </ul> </li> </ol>"},{"location":"homework/03-communication/#fogado-oldal","title":"Fogad\u00f3 oldal","text":"<p>T\u00e9rj\u00fcnk \u00e1t a fogad\u00f3 oldalra.</p> <ol> <li> <p>A Catalog szolg\u00e1ltat\u00e1s projektbe vegy\u00fck fel szint\u00e9n az al\u00e1bbi NuGet csomagot.</p> <pre><code>&lt;PackageReference Include=\"MassTransit.RabbitMQ\" Version=\"8.2.5\" /&gt;\n</code></pre> </li> <li> <p>Sz\u00fcks\u00e9g\u00fcnk lesz egy az esem\u00e9nyt lekezel\u0151 oszt\u00e1lyra is, aminek a MassTransit-os <code>IConsumer&lt;IOrderCreatedEvent&gt;</code> interf\u00e9szt kell megval\u00f3s\u00edtania.</p> <ul> <li>Vegy\u00fcnk fel a Catalog projektbe egy <code>IntegrationEventHandlers</code> mapp\u00e1t, majd abba hozzunk l\u00e9tre egy \u00faj oszt\u00e1lyt <code>OrderCreatedEventHandler</code> n\u00e9ven.</li> <li>Itt a kapott adatok alapj\u00e1n friss\u00edts\u00fck az adatainkat: a mi M\u00f3ricka p\u00e9ld\u00e1nkban a <code>ProductController</code>-ben l\u00e9v\u0151 statikus list\u00e1n dolgozunk.   Nem kell most t\u00f6r\u0151dni az idempotens megval\u00f3s\u00edt\u00e1ssal, azaz azzal, hogy t\u00f6bbsz\u00f6ri \u00fczenetk\u00fcld\u00e9s eset\u00e9n ne legyen dupla m\u00f3dos\u00edt\u00e1s.</li> <li>Napl\u00f3zzunk struktur\u00e1ltan az <code>ILogger</code> seg\u00edts\u00e9g\u00e9vel inf\u00f3 szinten, hogy melyik term\u00e9k rakt\u00e1rk\u00e9szlet\u00e9t cs\u00f6kkentett\u00fck, \u00e9s mennyi lett az \u00faj.</li> </ul> </li> <li> <p>Konfigur\u00e1ljuk be a <code>Program.cs</code>-ben a MassTransit-ot, hogy RabbitMQ-t haszn\u00e1ljon, \u00e9s az <code>IOrderCreatedEvent</code> esem\u00e9ny\u00fcnket melyik <code>IConsumer</code> megval\u00f3s\u00edt\u00e1s kezelje le, illetve a figyelend\u0151 v\u00e9gpontokat is konfigur\u00e1ljuk be alap\u00e9rtelmezett m\u00f3don.</p> <pre><code>builder.Services.AddMassTransit(x =&gt;\n{\n    x.AddConsumer&lt;OrderCreatedEventHandler&gt;();\n    x.UsingRabbitMq((ctx, cfg) =&gt;\n    {\n        cfg.Host(ctx.GetRequiredService&lt;IConfiguration&gt;()\n            .GetConnectionString(\"hf3-NEPTUN-messaging\"));\n        cfg.ConfigureEndpoints(ctx);\n    });\n});\n</code></pre> </li> <li> <p>Pr\u00f3b\u00e1ljuk ki!</p> <ul> <li>K\u00e9rj\u00fck le a term\u00e9keket</li> <li>S\u00fcss\u00fcnk el swaggerb\u0151l a <code>POST /api/Test/CreateOrder</code> k\u00e9r\u00e9st</li> <li>N\u00e9zz\u00fck meg, hogy friss\u00fclt-e a term\u00e9k rakt\u00e1rk\u00e9szlete.</li> </ul> <p>Hibakeres\u00e9s</p> <p>Ha nem friss\u00fclt, akkor a logokb\u00f3l vagy a rabbitmq menedzsment fel\u00fclet\u00e9r\u0151l lehet nyomozni.</p> <ul> <li>Ha azt tapasztaljuk hogy nem tud csatlakozni valamelyik szolg\u00e1ltat\u00e1s, akkor ellen\u0151rizz\u00fck az Aspire AppHost projektet \u00e9s a Connection Stringeket.</li> <li>Ha azt tapasztaljuk, hogy <code>skipped</code> \u00fczenetsorba ker\u00fclnek az \u00fczenetek, akkor a k\u00fcld\u0151 oldal rendben m\u0171k\u00f6d\u00f6tt, de valami\u00e9rt a fogad\u00f3 oldal nem tudott a megadott \u00fczenett\u00edpusra egyszer sem feliratkozni helyesen.</li> </ul> </li> </ol> <p>BEADAND\u00d3</p> <p>A feladathoz tartoz\u00f3 forr\u00e1sk\u00f3dot commitold be \u00e9s k\u00e9sz\u00edts egy <code>f2.png</code>-t, amiben l\u00e1tszik a .NET Aspire dashboardon a Structured f\u00fcl\u00f6n a k\u00fcld\u0151 \u00e9s fogad\u00f3 oldali logbejegyz\u00e9sek.</p> Kitekint\u00e9s <ol> <li> <p>A fenti p\u00e9ld\u00e1ban nem t\u00f6r\u0151dt\u00fcnk az idempotens megval\u00f3s\u00edt\u00e1ssal, ez mindig k\u00fcl\u00f6n tervez\u00e9st ig\u00e9nyel, az \u00fczleti logik\u00e1nk f\u00fcggv\u00e9ny\u00e9ben, de mindenk\u00e9ppen \u00e9rdemes a tervez\u00e9s sor\u00e1n figyelni erre.</p> </li> <li> <p>Mi most broadcast jelleg\u0171 integr\u00e1ci\u00f3s esem\u00e9nyt s\u00fct\u00f6tt\u00fcnk el.    Ne feledj\u00fcnk van ennek egy m\u00e1sik vari\u00e1nsa is, amikor command szer\u0171 \u00fczenetet k\u00fcld\u00fcnk egy m\u00e1sik szolg\u00e1ltat\u00e1snak, \u00e9s ott elv\u00e1rjuk az esem\u00e9ny lefut\u00e1s\u00e1t.    Integr\u00e1ci\u00f3s esem\u00e9ny sor\u00e1n a fogad\u00f3 f\u00e9lre van b\u00edzva, hogy mit kezd a kapott inform\u00e1ci\u00f3val.</p> </li> <li> <p>A MassTransit egy nagyon sokoldal\u00fa eszk\u00f6z, ami nem csak RabbitMQ-val haszn\u00e1lhat\u00f3, hanem m\u00e1s \u00fczenetsorokkal is, mint p\u00e9ld\u00e1ul Azure Service Bus, vagy ak\u00e1r In-Memory \u00fczenetsorral is tesztelhet\u0151.</p> </li> </ol>"},{"location":"homework/04-aks/","title":"04 - Azure Kubernetes Services","text":""},{"location":"homework/04-aks/#cel","title":"C\u00e9l","text":"<p>A labor c\u00e9lja megismerni:</p> <ul> <li>az AKS szolg\u00e1ltat\u00e1st \u00e9s a legfontosabb kapcsol\u00f3d\u00f3 szolg\u00e1ltat\u00e1sokat (ACR) </li> <li>az AKS alkalmaz\u00e1sok telep\u00edt\u00e9s\u00e9nek k\u00fcl\u00f6nb\u00f6z\u0151 m\u00f3dszereit</li> <li>az AKS legalapvet\u0151bb megfigyel\u00e9si funkci\u00f3it </li> </ul>"},{"location":"homework/04-aks/#elokovetelmenyek","title":"El\u0151k\u00f6vetelm\u00e9nyek","text":"<p>A laborle\u00edr\u00e1s cross-platform eszk\u00f6z\u00f6ket haszn\u00e1l. A labor linuxon (kubuntu) lett kidolgozva.</p> <ul> <li>Kor\u00e1bbi laborok infrastrukt\u00far\u00e1j\u00e1b\u00f3l: <code>docker</code>, <code>docker compose</code><ul> <li>Windows-on is linux kont\u00e9ner m\u00f3dban </li> </ul> </li> <li>Azure hallgat\u00f3i el\u0151fizet\u00e9s</li> <li>Azure kubelogin \u00e9s kubectl<ul> <li>fel\u00fcl\u00edrhatja a kor\u00e1bban telep\u00edtett <code>kubectl</code> bin\u00e1rist </li> </ul> </li> <li>Azure CLI v2.61 vagy \u00fajabb</li> <li>Helm CLI - legyen el\u00e9rhet\u0151 PATH-on</li> </ul>"},{"location":"homework/04-aks/#elokeszulet","title":"El\u0151k\u00e9sz\u00fclet","text":"<p>A feladatok megold\u00e1sa sor\u00e1n ne felejtsd el k\u00f6vetni a feladat bead\u00e1s folyamat\u00e1t GitHub.</p> <p>PR n\u00e9v</p> <p> Bead\u00e1sn\u00e1l a pull request neve legyen: hf4 </p>"},{"location":"homework/04-aks/#git-repository-letrehozasa-es-letoltese","title":"Git repository l\u00e9trehoz\u00e1sa \u00e9s let\u00f6lt\u00e9se","text":"<ol> <li>Moodle-ben keresd meg a laborhoz tartoz\u00f3 megh\u00edv\u00f3 URL-j\u00e9t \u00e9s annak seg\u00edts\u00e9g\u00e9vel hozd l\u00e9tre a saj\u00e1t repository-dat.</li> <li>V\u00e1rd meg, m\u00edg elk\u00e9sz\u00fcl a repository, majd checkout-old ki.</li> <li>Hozz l\u00e9tre egy \u00faj \u00e1gat <code>megoldas</code> n\u00e9ven, \u00e9s ezen az \u00e1gon dolgozz.</li> <li>A <code>neptun.txt</code> f\u00e1jlba \u00edrd bele a Neptun k\u00f3dodat. A f\u00e1jlban semmi m\u00e1s ne szerepeljen, csak egyetlen sorban a Neptun k\u00f3d 6 karaktere.</li> </ol> <p>NEPTUN</p> <p> A feladatokban a <code>neptun</code> kifejez\u00e9s helyett a saj\u00e1t neptunk\u00f3dunkat helyettes\u00edts\u00fck be minden esetben </p>"},{"location":"homework/04-aks/#0-feladat","title":"0. Feladat","text":""},{"location":"homework/04-aks/#azure-portal-ajanlott-beallitasok","title":"Azure port\u00e1l aj\u00e1nlott be\u00e1ll\u00edt\u00e1sok","text":"<ol> <li> <p>L\u00e9pj\u00fcnk be az Azure port\u00e1lra</p> </li> <li> <p>Jobb fel\u00fcl nyissuk meg a be\u00e1ll\u00edt\u00e1sokat (fogasker\u00e9k ikon).</p> </li> <li> <p>\u00c1ll\u00edtsuk a nyelvi be\u00e1ll\u00edt\u00e1sokat (fel\u00fclr\u0151l a harmadik men\u00fcpont). A nyelv legyen angol, a r\u00e9gi\u00f3s form\u00e1tum legyen magyar. Az Apply gombbal alkalmazzuk a be\u00e1ll\u00edt\u00e1sokat.</p> </li> <li> <p>Visszat\u00e9rve a port\u00e1l be\u00e1ll\u00edt\u00e1sokhoz, nyissuk meg a tenantjaink list\u00e1j\u00e1t (fel\u00fclr\u0151l az els\u0151 men\u00fcpont, Dictionaries + subscriptions). Ellen\u0151rizz\u00fck a t\u00e1bl\u00e1zatban, hogy a BME tenant-e az akt\u00edv (Current) tenantunk. Ha nem, a Switch gombbal v\u00e1ltsunk \u00e1t r\u00e1.</p> </li> </ol>"},{"location":"homework/04-aks/#azure-elofizetes-ellenorzese","title":"Azure el\u0151fizet\u00e9s ellen\u0151rz\u00e9se","text":"<ol> <li> <p>Nyissuk meg az el\u0151fizet\u00e9sek list\u00e1j\u00e1t: a keres\u0151ben vagy a bal oldali men\u00fcben keress\u00fck ki a Subscriptions oldalt \u00e9s nyissuk meg.</p> </li> <li> <p>T\u00f6bb el\u0151fizet\u00e9st is l\u00e1thatunk egy t\u00e1bl\u00e1zatban, a hallgat\u00f3 el\u0151fizet\u00e9s\u00fcnk Azure for Students n\u00e9ven j\u00f6n l\u00e9tre \u00e9s a szerepk\u00f6r\u00fcnk (My role) Account admin vagy Owner. Nyissuk meg a hallgat\u00f3i el\u0151fizet\u00e9s\u00fcnket.</p> </li> <li> <p>Az \u00e1ttekint\u0151 oldalr\u00f3l (Overview) az el\u0151fizet\u00e9s azonos\u00edt\u00f3j\u00e1t (Subscription ID) \u00e9rdemes elmenteni, mert gyakran lesz r\u00e1 sz\u00fcks\u00e9g.</p> </li> <li> <p>Ugyanezen az oldalon van egy link a hallgat\u00f3i kreditjeinket kezel\u0151 oldalra. Ezen a k\u00fcls\u0151 oldalon ellen\u0151rizz\u00fck, hogy megvan-e a 100$-nyi kredit\u00fcnk (Check your balance).</p> </li> </ol> <p>Azure k\u00f6lts\u00e9gek</p> <p>Ha k\u00f6lts\u00e9ges er\u0151forr\u00e1sokat hoztunk l\u00e9tre, akkor k\u00fcl\u00f6n\u00f6sen fontos rendszeresen ellen\u0151rizni ezen az oldalon a marad\u00e9k keret\u00fcnket.</p>"},{"location":"homework/04-aks/#azure-cli-ellenorzese","title":"Azure CLI ellen\u0151rz\u00e9se","text":"<ol> <li> <p>Ellen\u0151rizz\u00fck a verzi\u00f3sz\u00e1m(ok) ki\u00edr\u00e1s\u00e1val, hogy az Azure CLI el\u00e9rhet\u0151-e.     <pre><code>az version\n</code></pre></p> </li> <li> <p>Parancssorb\u00f3l csatlakozzunk az Azure el\u0151fizet\u00e9s\u00fcnkh\u00f6z. Csatlakoz\u00e1skor list\u00e1z\u00f3dnak az el\u0151fizet\u00e9sek, v\u00e1lasszuk a hallgat\u00f3i el\u0151fizet\u00e9st.     <pre><code>az login\n</code></pre></p> <p>Aktu\u00e1lis el\u0151fizet\u00e9s az Azure CLI-ben</p> <p>Az Azure CLI parancsok \u00e1ltal\u00e1ban nem k\u00e9rik be az el\u0151fizet\u00e9s azonos\u00edt\u00f3j\u00e1t, hanem egy glob\u00e1lis be\u00e1ll\u00edt\u00e1sb\u00f3l veszik, amit bel\u00e9p\u00e9skor (<code>az login</code>) is be\u00e1ll\u00edt. Fontos, hogy mindig a megfelel\u0151 el\u0151fizet\u00e9s legyen be\u00e1ll\u00edtva. Az <code>az account set -s &lt;el\u0151fizet\u00e9s azonos\u00edt\u00f3&gt;</code> paranccsal tudunk el\u0151fizet\u00e9st v\u00e1ltani.</p> </li> </ol> <p>K\u00f6z\u00f6s Azure r\u00e9gi\u00f3</p> <p>Fontos, hogy minden Azure er\u0151forr\u00e1s lehet\u0151leg azonos r\u00e9gi\u00f3ban legyen. Ez a k\u00f6z\u00f6s r\u00e9gi\u00f3 North Europe legyen. Ha b\u00e1rmilyen okb\u00f3l ezt nem tudod tartani, akkor is az er\u0151forr\u00e1said ugyanabban az eur\u00f3pai r\u00e9gi\u00f3ban legyenek (pl. Germany West Central). </p>"},{"location":"homework/04-aks/#eroforrascsoport-letrehozasa","title":"Er\u0151forr\u00e1scsoport l\u00e9trehoz\u00e1sa","text":"<p>Hozz l\u00e9tre \u00faj er\u0151forr\u00e1scsoportot ezen \u00fatmutat\u00f3t k\u00f6vetve a hallgat\u00f3 el\u0151fizet\u00e9s al\u00e1 viaumb11 n\u00e9ven a k\u00f6z\u00f6s Azure r\u00e9gi\u00f3ban (l\u00e1sd fentebb).</p> <p>Alap\u00e9rtelmezett Azure er\u0151forr\u00e1scsoport</p> <p>A tov\u00e1bbiakban ezt az er\u0151forr\u00e1scsoportot add meg minden Azure er\u0151forr\u00e1s l\u00e9trehoz\u00e1sakor.</p>"},{"location":"homework/04-aks/#1-feladat","title":"1. Feladat","text":""},{"location":"homework/04-aks/#aks-bevezeto-mintaalkalmazas-helyi-kiprobalasa","title":"AKS bevezet\u0151 - mintaalkalmaz\u00e1s helyi kipr\u00f3b\u00e1l\u00e1sa","text":"<p>A labor sor\u00e1n a hivatalos AKS bevezet\u0151 gyakorlatot k\u00f6vetj\u00fck n\u00e9mi m\u00f3dos\u00edt\u00e1ssal. Az els\u0151 r\u00e9sz egy p\u00e9ldaalkalmaz\u00e1st mutat be.</p> <p>K\u00f6vesd az \u00fatmutat\u00f3t, mely a kor\u00e1bbi gyakorlatokon megismert <code>docker</code> \u00e9s <code>docker compose</code> parancsokat haszn\u00e1l.</p>"},{"location":"homework/04-aks/#azure-container-registry-letrehozasa","title":"Azure Container Registry l\u00e9trehoz\u00e1sa","text":"<p>A hivatalos \u00fatmutat\u00f3 m\u00e1sodik r\u00e9sze egy Azure Container Registry kont\u00e9ner t\u00e1rol\u00f3 Azure CLI-b\u0151l t\u00f6rt\u00e9n\u0151 l\u00e9trehoz\u00e1s\u00e1r\u00f3l \u00e9s felt\u00f6lt\u00e9s\u00e9r\u0151l sz\u00f3l. Kezd\u0151 Azure haszn\u00e1l\u00f3knak ink\u00e1bb az Azure port\u00e1l aj\u00e1nlott, mert ott szeml\u00e9letesebben l\u00e1tsz\u00f3dik minden be\u00e1ll\u00edt\u00e1s. Emiatt ink\u00e1bb az Azure port\u00e1los \u00fatmutat\u00f3t k\u00f6vesd, az al\u00e1bbi be\u00e1ll\u00edt\u00e1sokkal:</p> <ul> <li>Name: acr el\u0151tag + neptun k\u00f3d (pl.npt123 neptun k\u00f3d eset\u00e9n acrnpt123)</li> <li>Resource group: az alap\u00e9rtelmezett Azure er\u0151forr\u00e1scsoport (l\u00e1sd fentebb)</li> <li>Location: k\u00f6z\u00f6s Azure r\u00e9gi\u00f3 (l\u00e1sd fentebb)</li> <li>Pricing plan / SKU: Basic</li> </ul> <p>Azure CLI-vel (<code>az acr login</code>) regisztr\u00e1ljuk is az ACR-t a docker k\u00f6rnyezet\u00fcnkbe t\u00e1rol\u00f3k\u00e9nt.</p>"},{"location":"homework/04-aks/#kontenerek-feltoltese-acr-be","title":"Kont\u00e9nerek felt\u00f6lt\u00e9se ACR-be","text":"<p>A hivatalos \u00fatmutat\u00f3 m\u00e1sodik r\u00e9sze az ACR build szolg\u00e1ltat\u00e1s\u00e1t haszn\u00e1lja, amivel k\u00f6nnyen lehetne a fejleszt\u0151i g\u00e9p er\u0151forr\u00e1sait k\u00edm\u00e9lve a lemezk\u00e9peket meg\u00e9p\u00edteni. Az \u00e9p\u00edt\u00e9shez sz\u00fcks\u00e9ges kontextust (forr\u00e1sk\u00f3d, YAML) t\u00f6lti csak fel, a kiindul\u00f3 lemezk\u00e9p \u00e9s az \u00e9p\u00edt\u00e9si folyamat is az ACR-en bel\u00fcl t\u00f6rt\u00e9nik. Sajnos ez a szolg\u00e1ltat\u00e1s jelenleg csak fizet\u0151s Azure el\u0151fizet\u00e9sekben \u00e9rhet\u0151 el, hallgat\u00f3iban nem. Szerencs\u00e9re az els\u0151 feladatr\u00e9sz sor\u00e1n a lemezk\u00e9pek elk\u00e9sz\u00fcltek, \u00edgy azokat felt\u00f6lthetj\u00fck.</p> <p>Lemezk\u00e9p architekt\u00far\u00e1k</p> <p>A lemezk\u00e9p CPU architekt\u00far\u00e1j\u00e1nak kompatibilisnak kell lennie a docker k\u00f6rnyezet CPU architekt\u00far\u00e1j\u00e1val (AKS eset\u00e9n ez alapesetben: <code>linux/amd64</code>). Linuxos \u00e9s Windows-os fejleszt\u0151i k\u00f6rnyezetben is \u00e1ltal\u00e1ban linuxos docker k\u00f6rnyezetet haszn\u00e1lunk, \u00edgy \u00e1ltal\u00e1ban nem lesz ebb\u0151l gondunk (<code>docker image incpect &lt;lemezk\u00e9p n\u00e9v vagy id&gt;</code> paranccsal ellen\u0151rizhetj\u00fck: az Architecture tulajdons\u00e1got figyelj\u00fck). Viszont p\u00e9ld\u00e1ul ARM64 CPU-s Mac eset\u00e9ben gond lehet, a fejleszt\u0151i g\u00e9pen k\u00e9sz\u00edtett lemezk\u00e9p AKS-en nem fog j\u00f3l m\u0171k\u00f6dni. Ilyenkor a legegyszer\u0171bb linuxos lemezk\u00e9pet k\u00e9sz\u00edttetni az AKS sz\u00e1m\u00e1ra, amit p\u00e9ld\u00e1ul a <code>DOCKER_DEFAULT_PLATFORM</code> k\u00f6rnyezeti v\u00e1ltoz\u00f3 be\u00e1ll\u00edt\u00e1s\u00e1val tehet\u00fcnk meg. Az \u00edgy k\u00e9sz\u00fclt lemezk\u00e9p csak egy platformot t\u00e1mogat. T\u00f6bbplatformos lemezk\u00e9pet is k\u00e9sz\u00edthet\u00fcnk a buildx docker CLI plugin-nal, \u00edgy ugyanaz a lemezk\u00e9p t\u00f6bb architekt\u00far\u00e1n is haszn\u00e1lhat\u00f3.</p> <ol> <li> <p>Tag-elj\u00fck meg az al\u00e1bbi h\u00e1rom aks-store-demo lemezk\u00e9pet. Az $ACRNAME hely\u00e9re helyettes\u00edts\u00fck be az ACR-\u00fcnk nev\u00e9t (acr+neptun k\u00f3d).</p> <pre><code>docker tag aks-store-demo-product-service $ACRNAME.azurecr.io/azure-samples/aks-store-demo/product-service\ndocker tag aks-store-demo-store-front $ACRNAME.azurecr.io/azure-samples/aks-store-demo/store-front\ndocker tag aks-store-demo-order-service $ACRNAME.azurecr.io/azure-samples/aks-store-demo/order-service\n</code></pre> </li> <li> <p>T\u00f6lts\u00fck fel a k\u00e9peket.</p> <pre><code>docker push $ACRNAME.azurecr.io/azure-samples/aks-store-demo/store-front\ndocker push $ACRNAME.azurecr.io/azure-samples/aks-store-demo/order-service\ndocker push $ACRNAME.azurecr.io/azure-samples/aks-store-demo/product-service\n</code></pre> </li> </ol> <p>ACR \u00e1ltal haszn\u00e1lt t\u00e1rhely</p> <p>Az ACR Azure port\u00e1los oldal\u00e1n bel\u00fcl a Metrics men\u00fcpontban a Storage used nev\u0171 metrik\u00e1t kiv\u00e1lasztva ellen\u0151rizhetj\u00fck az ACR \u00e1ltal haszn\u00e1lt t\u00e1rhelyet, illetve annak id\u0151beli v\u00e1ltoz\u00e1s\u00e1t. M\u00e1sik lehet\u0151s\u00e9g az Overview men\u00fcponton bel\u00fcl a Monitoring alf\u00fcl.</p>"},{"location":"homework/04-aks/#aks-letrehozasa-meretezese","title":"AKS l\u00e9trehoz\u00e1sa, m\u00e9retez\u00e9se","text":"<p>Azure-ban minden er\u0151forr\u00e1s l\u00e9trehoz\u00e1s, kezel\u00e9s, stb. REST API-k seg\u00edts\u00e9g\u00e9vel t\u00f6rt\u00e9nik, ezeket az API-kat \u00fan. resource provider-ek aj\u00e1nlj\u00e1k ki. Egy adott szolg\u00e1ltat\u00e1snak \u00e1ltal\u00e1ban saj\u00e1t resource providere van, de nem mindegyik van alapb\u00f3l bekapcsolva egy adott el\u0151fizet\u00e9sen. El\u0151fizet\u00e9s tulajdonosk\u00e9nt ezzel \u00e1ltal\u00e1ban nem kell foglalkoznunk, egy szolg\u00e1ltat\u00e1s l\u00e9trehoz\u00e1sakor a kapcsol\u00f3d\u00f3 resource provider automatikusan bekapcsol\u00f3dik. N\u00e9h\u00e1ny esetben m\u00e9gis sz\u00fcks\u00e9g lehet arra, hogy k\u00e9zzel kapcsoljunk be (regisztr\u00e1ljunk) provider-eket. Ilyen eset lehet, ha AKS l\u00e9trehoz\u00e1s el\u0151tt a port\u00e1l vCPU kv\u00f3t\u00e1kat ellen\u0151riz - mint mindenhez, ehhez is API-t kell h\u00edvni. Ez\u00e9rt az AKS l\u00e9trehoz\u00e1sa el\u0151tt ezen \u00fatmutat\u00f3 alapj\u00e1n ellen\u0151rizz\u00fck, hogy a Microsoft.Compute provider regisztr\u00e1lva van-e. Ha nincs, regisztr\u00e1ljuk.</p> <p>A hivatalos \u00fatmutat\u00f3 harmadik r\u00e9sze az AKS-t Azure CLI-vel hozza l\u00e9tre. Helyette k\u00f6vesd az Azure port\u00e1los utat a k\u00f6vetkez\u0151 \u00e1ltal\u00e1nos be\u00e1ll\u00edt\u00e1sokkal:</p> <ul> <li>Name: aks el\u0151tag + neptun k\u00f3d (pl.npt123 neptun k\u00f3d eset\u00e9n aksnpt123)</li> <li>Resource group: az alap\u00e9rtelmezett Azure er\u0151forr\u00e1scsoport (l\u00e1sd fentebb)</li> <li>Cluster preset configuration: Dev/Test</li> <li>Region: k\u00f6z\u00f6s Azure r\u00e9gi\u00f3 (l\u00e1sd fentebb)</li> <li>Authentication and Authorization: Microsoft Entra ID authentication with Azure RBAC</li> </ul> <p>A Node Pool f\u00fcl\u00f6n kell m\u00e9retezn\u00fcnk a klasztert. Ez hallgat\u00f3i el\u0151fizet\u00e9s eset\u00e9n nem egyszer\u0171, mert csak bizonyos virtu\u00e1lis g\u00e9p t\u00edpusok \u00e9rhet\u0151ek el, azok is csak kis sz\u00e1mban. R\u00e1ad\u00e1sul a k\u00edn\u00e1lat id\u0151ben \u00e9s r\u00e9gi\u00f3k ment\u00e9n folyamatosan v\u00e1ltozik. Az aktu\u00e1lis k\u00edn\u00e1lat az Azure port\u00e1lon k\u00f6vethet\u0151.</p> <p>Kv\u00f3ta n\u00f6vel\u00e9se - elm\u00e9letben</p> <p>Sz\u00e1mos kv\u00f3ta elvileg a port\u00e1lon kereszt\u00fcl is n\u00f6velhet\u0151, de ez hallgat\u00f3i el\u0151fizet\u00e9s eset\u00e9ben \u00e1ltal\u00e1ban nem m\u0171k\u00f6dik.</p> <p>User node pool</p> <p>Semmik\u00e9pp ne adjunk a klaszterhez user node poolt, mert akkor a sk\u00e1l\u00e1z\u00e1sra v\u00e9gk\u00e9pp nem marad kv\u00f3t\u00e1nk. Csak a system node poolba vegy\u00fcnk olcs\u00f3bb, max. 2 magos virtu\u00e1lis g\u00e9peket.</p> <p>A system node pool m\u00e9retez\u00e9sekor \u00e9rdemes a Choose a size opci\u00f3 \u00e1ltal feldobott fel\u00fcleten a pontosan 2 magos (lehet r\u00e1 sz\u0171rni), D bet\u0171vel kezd\u0151d\u0151 k\u00f3d\u00fa kim\u00e9retek k\u00f6z\u00fcl pr\u00f3b\u00e1lkozni (D2s_v3, D2as_v4, DS2_v2). A fel\u00fclet mutatja a havi k\u00f6lts\u00e9get is (Cost/month), a 60-90 EUR/VM k\u00f6lts\u00e9g m\u00e1r j\u00f3nak sz\u00e1m\u00edt.</p> <p>System node pool szab\u00e1lyok</p> <p>A kiv\u00e1lasztott kim\u00e9retnek m\u00e9g az AKS system node pool-ra vonatkoz\u00f3 minimum felt\u00e9teleknek is meg kell felelni. B sorozat\u00fa kim\u00e9retek p\u00e9ld\u00e1ul nem haszn\u00e1lhat\u00f3k.</p> <p>A VM kim\u00e9ret v\u00e1laszt\u00e1s ut\u00e1n a Node Pool f\u00fclre visszat\u00e9rve az Azure ellen\u0151rzi a legt\u00f6bb szab\u00e1lyt. Ha nem l\u00e1tunk hiba\u00fczenetet, akkor j\u00f3 es\u00e9lyeink vannak.</p> Nincs meg ehhez a j\u00f3\u00e1ras\u00edtott VM kim\u00e9rethez a sz\u00fcks\u00e9ges kv\u00f3t\u00e1nk <p>Free AKS korl\u00e1toz\u00e1s</p> <p>A legnagyobb terhel\u00e9snek kitett Azure r\u00e9gi\u00f3kban (pl. West Europe) el\u0151fordulhat, hogy korl\u00e1tozz\u00e1k az ingyenes (csak a neve ingyenes!) csomag\u00fa AKS-ek l\u00e9trehoz\u00e1s\u00e1t.</p> <p>Az Integrations f\u00fcl\u00f6n v\u00e1lasszuk ki az ACR-\u00fcnket.</p> <p>A t\u00f6bbi f\u00fcl\u00f6n hagyjuk meg az alap\u00e9rtelmezett \u00e9rt\u00e9keket. </p> <ol> <li> <p>Ind\u00edtsuk el a l\u00e9trehoz\u00e1si folyamatot.  </p> </li> <li> <p>A l\u00e9trehoz\u00e1s v\u00e9gezt\u00e9vel (10-15 perc is lehet!) fedezz\u00fck fel a klaszter logikai szerkezet\u00e9t az Azure port\u00e1lon kereszt\u00fcl. </p> </li> <li> <p>Ellen\u0151rizz\u00fck, hogy tudunk-e csatlakozni a kubectl eszk\u00f6z\u00fcnkkel. Erre a legk\u00e9nyelmesebb m\u00f3d, ha az AKS-\u00fcnk Azure Portal oldal\u00e1nak Overview men\u00fcpontj\u00e1t megnyitva, a v\u00edzszintes men\u00fcben a Connect gombot megnyomva, az el\u0151re elk\u00e9sz\u00edtett parancsokat haszn\u00e1ljuk. Futtassunk le egy-k\u00e9t lek\u00e9rdez\u0151 <code>kubectl</code> parancsot.</p> </li> <li> <p>Kukkantsuk meg a klasztert alkot\u00f3 Azure infrastrukt\u00faraszolg\u00e1ltat\u00e1sokat: a Properties men\u00fcpontban az Infrastructure resource group linkre kattintva \u00e1tugorhatunk az ezen szolg\u00e1ltat\u00e1sokat \u00f6sszefog\u00f3 er\u0151forr\u00e1scsoportba.</p> </li> </ol>"},{"location":"homework/04-aks/#mintaalkalmazas-telepitese","title":"Mintaalkalmaz\u00e1s telep\u00edt\u00e9se","text":"<p>A hivatalos \u00fatmutat\u00f3 negyedik r\u00e9sze alapj\u00e1n telep\u00edts\u00fck a mintaalkalmaz\u00e1st. Az ACR login szerver \u00e9s a K8S service k\u00fcls\u0151 IP c\u00edme is megszerezhet\u0151 az Azure port\u00e1lr\u00f3l. Az \u00fatmutat\u00f3 r\u00e9sz v\u00e9g\u00e9re \u00e9rve ne t\u00f6r\u00f6lj\u00fck a telep\u00edt\u00e9st.</p> <p>K8S er\u0151forr\u00e1skorl\u00e1tok</p> <p>A mintaalkalmaz\u00e1s kor\u00e1bbi verzi\u00f3j\u00e1ban n\u00e9mely kont\u00e9ner er\u0151forr\u00e1slimitje nagyon alacsony volt (pl. 10 MB mem\u00f3ria), amit igen k\u00f6nny\u0171 volt \u00e1tl\u00e9pni \u00e9s ilyenkor az \u00fctemez\u0151 folyamatosan ki-kil\u0151tte a podot (hiba\u00fczenet valami hasonl\u00f3 volt: container init was OOM-killed (memory limit too low?)), a r\u00e1\u00e9p\u00fcl\u0151 szolg\u00e1ltat\u00e1s nem tudott rendben m\u0171k\u00f6dni. Az aktu\u00e1lis verzi\u00f3ban ezt m\u00e1r jav\u00edtott\u00e1k a product-service kont\u00e9ner eset\u00e9ben. Ha hasonl\u00f3 hibajelens\u00e9get \u00e9szleltek, ak\u00e1r a helyi K8S-ben, ak\u00e1r AKS-ben, nyugodtan \u00e1ll\u00edts\u00e1tok a hib\u00e1t jelz\u0151 kont\u00e9ner limitj\u00e9t a YAML-ben.</p> <p>BEADAND\u00d3</p> <p>K\u00e9sz\u00edts egy k\u00e9perny\u0151k\u00e9pet (<code>f1.png</code>) \u00e9s commitold azt be a h\u00e1zi feladat rep\u00f3 gy\u00f6ker\u00e9be, amin l\u00e1tszik:</p> <ul> <li>a fut\u00f3 alkalmaz\u00e1s b\u00f6ng\u00e9sz\u0151ben, b\u00f6ng\u00e9sz\u0151 c\u00edmsorban az alkalmaz\u00e1s (IP) c\u00edm\u00e9vel</li> <li>parancssorban a kapcsol\u00f3d\u00f3 k8s service adatai (<code>kubectl get service store-front</code>)</li> <li>parancssorban az alkalmaz\u00e1s k8s deployment er\u0151forr\u00e1sai a lemezk\u00e9pek azonos\u00edt\u00f3ival egy\u00fctt (<code>kubectl get deployment -o wide</code>). </li> </ul>"},{"location":"homework/04-aks/#2-feladat","title":"2. Feladat","text":"<p>A k8s h\u00e1zi todoapp-j\u00e1t is telep\u00edts\u00fck ugyanebbe az AKS-be, egy k\u00fcl\u00f6n kubernetes n\u00e9vt\u00e9rbe.</p>"},{"location":"homework/04-aks/#21-nevter-letrehozasa","title":"2.1 N\u00e9vt\u00e9r l\u00e9trehoz\u00e1sa","text":"<p>Ez egyszer\u0171:</p> <pre><code>kubectl create namespace todoapp\n</code></pre>"},{"location":"homework/04-aks/#22-traefik-telepites-kulso-helm-chart-forrasbol","title":"2.2 Traefik - telep\u00edt\u00e9s k\u00fcls\u0151 helm chart forr\u00e1sb\u00f3l","text":"<p>Itt most kiengedj\u00fck a traefik-et a publikus internetre, LoadBalancer objektumot hozunk l\u00e9tre NodePort helyett, de mivel ez az alapbe\u00e1ll\u00edt\u00e1s, \u00edgy nem kell szinte semmi ilyesmit \u00e1ll\u00edtgatni. Csak az IngressRoute-ot kell l\u00e9trehozatni.</p> <pre><code> helm install traefik traefik/traefik --namespace todoapp --set ingressRoute.dashboard.enabled=true\n</code></pre> <p>Ezut\u00e1n m\u00e1r lehet port-\u00e1tir\u00e1ny\u00edtani.</p> <pre><code>kubectl port-forward $(kubectl get pods -n todoapp -l \"app.kubernetes.io/name=traefik\" -o jsonpath=\"{.items[0].metadata.name}\") 9000:9000 -n todoapp\n</code></pre> <p>Ezut\u00e1n a http://localhost:9000/dashboard/ c\u00edmen \u00e9rhet\u0151 el a traefik dashboard (am\u00edg a <code>port-forward</code> parancs fut).</p>"},{"location":"homework/04-aks/#23-adatbazisok-telepites-k8s-yaml-fajlokkal","title":"2.3 Adatb\u00e1zisok - telep\u00edt\u00e9s k8s YAML f\u00e1jlokkal","text":"<p>Pr\u00f3b\u00e1ljuk ki egy-az-egyben a k8s h\u00e1zi m\u00f3dszer\u00e9t. T\u00f6lts\u00fck le valahov\u00e1 az adatb\u00e1zisok k8s YAML f\u00e1jljait tartalmaz\u00f3 mapp\u00e1t (vagy navig\u00e1ljunk a k8s h\u00e1zink k\u00f6nyvt\u00e1r\u00e1ba). A <code>db</code> mappa sz\u00fcl\u0151k\u00f6nyvt\u00e1rban \u00e1llva:</p> <pre><code>kubectl apply -f db -n todoapp\n</code></pre> <p>Meglep\u0151 lehet, de ez szinte teljesen j\u00f3l m\u0171k\u00f6dik: nincs megadva storage class, \u00edgy az AKS alap\u00e9rtelmezett storage class-a \u00e9rv\u00e9nyes\u00fcl, ami standard SSD lemezeket hoz l\u00e9tre, \u00e9s ezek csatol\u00f3dnak fel. Ezen lemezek \u00e9lettartama az AKS \u00e9lettartam\u00e1hoz k\u00f6t\u00f6tt (de nem a K8S objektumok \u00e9lettartam\u00e1hoz!), \u00edgy az AKS t\u00f6rl\u00e9s\u00e9vel ezek is t\u00f6rl\u0151dnek. </p> <p>AKS/K8S storage class-ok</p> <p>\u00cdgy k\u00e9rdezhetj\u00fck le \u0151ket: <code>kubectl get sc</code>. Az alap\u00e9rtelmezett storage class tulajdons\u00e1gai: <code>kubectl describe sc default</code>. L\u00e1that\u00f3, hogy a l\u00e9trehoz\u00f3 (provisioner) <code>disk.csi.azure.com</code>, aminek param\u00e9terk\u00e9nt a <code>skuname=StandardSSD_LRS</code> be\u00e1ll\u00edt\u00e1st kapja meg, teh\u00e1t nem meglep\u0151, hogy Azure Disk Standard SSD j\u00f6n l\u00e9tre.</p> <p>Diszkek, mint Azure er\u0151forr\u00e1sok</p> <p>A lemezeket, mint Azure er\u0151forr\u00e1s is megfigyelhetj\u00fck, ha \u00fajra r\u00e1kukkantunk az infrastrukt\u00faraszolg\u00e1ltat\u00e1sos er\u0151forr\u00e1scsoportra: k\u00e9t \u00faj 2 GiB m\u00e9ret\u0171 Standard SSD diszk is l\u00e9trej\u00f6tt. Mivel a provisioner (az AKS platform) kezeli ezeket a lemezeket, ez\u00e9rt logikus, hogy ide ker\u00fclnek.</p> <p>P\u00e1r perc eltelt\u00e9vel, ha r\u00e1n\u00e9z\u00fcnk pod list\u00e1ra (megfelel\u0151 <code>kubectl</code> paranccsal vagy Azure portal Workloads men\u00fcpontban) l\u00e1thatjuk, hogy gond van az elasticsearch poddal, folyamatosan \u00fajraindul.</p> <p>K\u00e9rdezz\u00fck le a pod logj\u00e1t: ezt is megtehetj\u00fck <code>kubectl</code> paranccsal vagy Azure port\u00e1lon. Az elasticsearch folyamat nem tud dolgozni a csatolt k\u00f6teten (volume) jogosults\u00e1gi gondok miatt. Az elasticsearch folyamat saj\u00e1t elasticsearch linux felhaszn\u00e1l\u00f3 nev\u00e9ben fut, az AKS viszont nem tud err\u0151l a felhaszn\u00e1l\u00f3r\u00f3l, \u00edgy a k\u00f6tethez alap\u00e9rtelmezetten nem lesz joga. Oldjuk meg a probl\u00e9m\u00e1t egy \u00faj init kont\u00e9nerrel, vegy\u00fcnk fel egy \u00fajat a megl\u00e9v\u0151k mell\u00e9 a elasticsearch-statefulset.yaml-be, ami root felhaszn\u00e1l\u00f3 nev\u00e9ben futva a k\u00f6tet tulajdonos\u00e1v\u00e1 teszi az elasticsearch felhaszn\u00e1l\u00f3t (uid:1000, gid:1000).</p> <pre><code>- name: init-permissions\n  image: alpine\n  command: [ \"sh\", \"-c\", \"chown -R 1000:1000 /usr/share/elasticsearch/data\" ]\n  volumeMounts:\n  - name: elasticsearch-data\n    mountPath: /usr/share/elasticsearch/data      \n</code></pre> <p>Mehet egy \u00fajabb pr\u00f3ba a kor\u00e1bbi <code>kubectl apply</code> paranccsal. Egy\u00e9rtelm\u0171bb a v\u00e1ltoztat\u00e1s alkalmaz\u00e1sa, ha ki is t\u00f6r\u00f6lj\u00fck az elasticsearch pod-ot. Ezt is megtehetj\u00fck Azure port\u00e1lr\u00f3l \u00e9s <code>kubectl</code> paranccsal is. Ezut\u00e1n m\u00e1r nem szabad folyamatos \u00fajraindul\u00e1st tapasztalunk a podok k\u00f6z\u00f6tt.</p> <p>ECK</p> <p>Elasticsearch telep\u00edt\u00e9s\u00e9re egy modernebb m\u00f3dszer az Elastic Cloud on Kubernetes disztrib\u00faci\u00f3, p\u00e9ld\u00e1ul helm chartk\u00e9nt.</p>"},{"location":"homework/04-aks/#24-sajat-mikroszolgaltatasok-telepites-nem-annyira-kulso-helm-chart-forrasbol","title":"2.4 Saj\u00e1t mikroszolg\u00e1ltat\u00e1sok - telep\u00edt\u00e9s nem annyira k\u00fcls\u0151 helm chart forr\u00e1sb\u00f3l","text":"<p>A t\u00e1rgy k\u00f6z\u00f6s ACR-j\u00e1ba felker\u00fcltek a k8s h\u00e1zi mikroszolg\u00e1ltat\u00e1sai helm chartk\u00e9nt, illetve a hivatkozott kont\u00e9nerek is. Elvileg minden Teams csapattag kapott ehhez hozz\u00e1f\u00e9r\u00e9st, let\u00f6lt\u00e9shez <code>AcrPull</code> jogot.</p> <p>Saj\u00e1t jog ellen\u0151rz\u00e9se</p> <p>Ellen\u0151rizheted a hozz\u00e1f\u00e9r\u00e9sed ehhez vagy b\u00e1rmilyen m\u00e1s Azure er\u0151forr\u00e1shoz az Azure port\u00e1lon.</p> <p>Megfelel\u0151 jogok birtok\u00e1ban k\u00f6zvetlen\u00fcl, saj\u00e1t g\u00e9p \u00e9rint\u00e9se n\u00e9lk\u00fcl m\u00e1solhatunk lemezk\u00e9peket, helm chartokat ACR-ek k\u00f6z\u00f6tt. Az al\u00e1bbi p\u00e9lda alapj\u00e1n m\u00e1sold \u00e1t a 3 sz\u00fcks\u00e9ges lemezk\u00e9pet (todos, users, web; mindegyikb\u0151l a v2 tag). A helm chartot nem sz\u00fcks\u00e9ges m\u00e1solni: azt a fejleszt\u0151i g\u00e9p\u00fcnknek kell el\u00e9rni, a lemezk\u00e9peket viszont az AKS-nek, ami csak a saj\u00e1t ACR-\u00fcnket l\u00e1tja csak, a k\u00f6z\u00f6s t\u00e1rgy ACR-t nem.</p> <pre><code>az acr import --name $ACRNAME --source todos:v2 --registry /subscriptions/b83ae5ef-4ef6-4ccb-bb4b-e9f187873feb/resourceGroups/infra/providers/Microsoft.ContainerRegistry/registries/viaumb11acr\n</code></pre> <p>ACR repo felfedez\u00e9se</p> <p>Az el\u00e9rhet\u0151 lemezk\u00e9peket, helm chartokat is felfedezheted a port\u00e1lon.</p> <p>Alternat\u00edva - helm publik\u00e1l\u00e1s ACR-be</p> <p>A saj\u00e1t k8s h\u00e1zid megold\u00e1s\u00e1nak mikroszolg\u00e1ltat\u00e1sait is publik\u00e1lhatod a saj\u00e1t ACR-edbe. Ehhez a <code>IMAGE_TAG=\"v2\" REGISTRY_URL=\"$ACRNAME.azurecr.io\"  docker compose build --push</code> parancsot haszn\u00e1lhatod.</p> <p>Csatlakoztassuk a k\u00f6zponti ACR-t helm repo-k\u00e9nt. Az al\u00e1bbi egy bash-specifikus p\u00e9lda:</p> bash<pre><code>az acr login --name viaumb11acr --expose-token --output tsv --query accessToken | \\\n  helm registry login viaumb11acr.azurecr.io --username \"00000000-0000-0000-0000-000000000000\" --password-stdin\n</code></pre> <p>K\u00e9rdezz\u00fck le a helm chart be\u00e1ll\u00edt\u00e1sait.</p> <pre><code>helm show values oci://viaumb11acr.azurecr.io/helm/todoapp\n</code></pre> <p>A k8s h\u00e1zihoz k\u00e9pest \u00faj be\u00e1ll\u00edt\u00e1s ker\u00fclt be, az image.registry, amivel a lemezk\u00e9pek registry azonos\u00edt\u00f3it \u00e1ll\u00edthatjuk. Ezt kell a saj\u00e1t ACR-\u00fcnkre \u00e1ll\u00edtani, amit az AKS-\u00fcnk el\u00e9r. A tag be\u00e1ll\u00edt\u00e1sok m\u00e1r kor\u00e1bban megvoltak, azoknak egyezni\u00fck kell az \u00e1tm\u00e1solt k\u00e9pek tagjeivel.</p> <pre><code>helm install todoapp oci://viaumb11acr.azurecr.io/helm/todoapp --version 0.1.0 --namespace todoapp --set image.registry=$ACRNAME.azurecr.io --set todos.tag=v2 --set web.tag=v2 --set users.tag=v2\n</code></pre> <p>Lemezk\u00e9p let\u00f6lt\u00e9s ellenpr\u00f3ba</p> <p>Opcion\u00e1lisan pr\u00f3b\u00e1ld ki, mi t\u00f6rt\u00e9nik, ha a registry-t nem \u00e1ll\u00edtod be. Telep\u00edtett verzi\u00f3 leszed\u00e9se: <code>helm uninstall todoapp --namespace todoapp</code>.</p> <p>J\u00f6het a f\u0151 pr\u00f3ba: az Azure port\u00e1lr\u00f3l vagy parancssorb\u00f3l (<code>kubectl</code>) szerezz\u00fck meg a traefik service k\u00fcls\u0151 IP-j\u00e9t \u00e9s nyissuk meg b\u00f6ng\u00e9sz\u0151b\u0151l (https helyett sima http-n). Vegy\u00fcnk fel p\u00e1r feladatot.</p> <p>Kitekint\u00e9s - k\u00fcls\u0151 forr\u00e1sok</p> <p>Nagyv\u00e1llalati k\u00f6rnyezetben a k\u00fcls\u0151 forr\u00e1sok el\u00e9r\u00e9se gyakran tiltott (pl. t\u0171zfalszab\u00e1lyokkal), ezen forr\u00e1sok biztons\u00e1gi \u00e9s egy\u00e9b szempontok miatt  alap\u00e9rtelmezetten megb\u00edzhatatlannak sz\u00e1m\u00edtanak. A docker alap\u00e9rtelmezett forr\u00e1sa, a Docker Hub p\u00e9ld\u00e1ul  korl\u00e1toz\u00e1sokat (rate limiting) vezetett be az AKS-es let\u00f6lt\u00e9sekre is. Mindezek miatt a nagyv\u00e1llalti klaszterek csak bels\u0151 c\u00e9ges repository-kat haszn\u00e1lhatnak, amiket egy dedik\u00e1lt csapat kezel: megfelel\u0151 ellen\u0151rz\u00e9s ut\u00e1n emelnek be k\u00fcls\u0151 vagy bels\u0151 fejleszt\u00e9s\u0171 elemeket (artifaktokat). Emiatt fontos, hogy minden telep\u00edt\u00e9si egys\u00e9g (pl. helm chart) param\u00e9terezhet\u0151 legyen a f\u00fcgg\u0151s\u00e9geinek el\u00e9rhet\u0151s\u00e9ge kapcs\u00e1n.</p> <p>BEADAND\u00d3</p> <p>K\u00e9sz\u00edts egy k\u00e9perny\u0151k\u00e9pet (<code>f2.1.png</code>) \u00e9s commitold azt be a h\u00e1zi feladat rep\u00f3 gy\u00f6ker\u00e9be, ahol az alkalmaz\u00e1s fut\u00e1sa l\u00e1tszik egy saj\u00e1t neptun k\u00f3dot tartalmaz\u00f3 todoval. L\u00e1tsz\u00f3djon a weboldal c\u00edme is.</p> <p>K\u00e9sz\u00edts egy m\u00e1sik k\u00e9perny\u0151k\u00e9pet (<code>f2.2.png</code>) \u00e9s commitold azt be ezt is a h\u00e1zi feladat rep\u00f3 gy\u00f6ker\u00e9be, ahol az Azure port\u00e1lon l\u00e1tszik az AKS infrastrukt\u00fara er\u0151forr\u00e1scsoportj\u00e1nak (MC_ kezdet\u0171) \u00e1ttekint\u0151 n\u00e9zete (Overview). L\u00e1tsz\u00f3djon a port\u00e1lra bel\u00e9pett felhaszn\u00e1l\u00f3 azonos\u00edt\u00f3ja a jobb fels\u0151 sarokban.</p> <p>K\u00e9sz\u00edts egy m\u00e1sik k\u00e9perny\u0151k\u00e9pet (<code>f2.3.png</code>) \u00e9s commitold azt be ezt is a h\u00e1zi feladat rep\u00f3 gy\u00f6ker\u00e9be, ahol a v\u00e9g\u00e1llapotban l\u00e1tszik parancssorban mindk\u00e9t alkalmaz\u00e1s k8s deployment er\u0151forr\u00e1sai a lemezk\u00e9pek azonos\u00edt\u00f3ival egy\u00fctt (<code>kubectl get deployment -o wide</code> \u00e9s <code>kubectl get deployment -n todoapp -o wide</code>)</p>"},{"location":"homework/04-aks/#3-feladat-talan-a-legfontosabb","title":"3. Feladat - tal\u00e1n a legfontosabb","text":"<p>AKS t\u00f6rl\u00e9se</p> <p>Bead\u00e1s ut\u00e1n, ha egyb\u0151l folytatod a k\u00f6vetkez\u0151 h\u00e1zival, akkor hagyd meg, egy\u00e9bk\u00e9nt t\u00f6r\u00f6ld az AKS-t. Aj\u00e1nlott egyb\u0151l folytatni, k\u00fcl\u00f6nben \u00fajra l\u00e9tre kell majd hoznod, \u00e9s fel kell t\u00f6ltened az AKS-t.</p>"},{"location":"homework/05-azurescale/","title":"05 - Sk\u00e1l\u00e1z\u00e1s Azure-ban","text":""},{"location":"homework/05-azurescale/#cel","title":"C\u00e9l","text":"<p>A labor c\u00e9lja megismerni az AKS sk\u00e1l\u00e1z\u00e1si m\u00f3djait, illetve Azure Load Testing szolg\u00e1ltat\u00e1ssal tesztelni is az automatikus sk\u00e1l\u00e1z\u00e1s m\u0171k\u00f6d\u00e9s\u00e9t.</p>"},{"location":"homework/05-azurescale/#elokovetelmenyek","title":"El\u0151k\u00f6vetelm\u00e9nyek","text":"<p>A laborle\u00edr\u00e1s cross-platform eszk\u00f6z\u00f6ket haszn\u00e1l. A labor linuxon (kubuntu v24.04) lett kidolgozva.</p> <ul> <li>Azure hallgat\u00f3i el\u0151fizet\u00e9s</li> <li>Azure kubelogin \u00e9s kubectl<ul> <li>fel\u00fcl\u00edrhatja a kor\u00e1bban telep\u00edtett <code>kubectl</code> bin\u00e1rist </li> </ul> </li> <li>Azure CLI v2.61 vagy \u00fajabb</li> <li>.NET 8 SDK<ul> <li>opcion\u00e1lisan .NET 8 alap fejleszt\u0151 k\u00f6rnyezet (Visual Studio, Visual Studio Code, Rider), ha kell k\u00f3dkieg\u00e9sz\u00edt\u00e9s, pl. IntelliSense</li> </ul> </li> <li>JRE v8 vagy k\u00e9s\u0151bbi  (pl. Adoptium), <code>java</code> parancs legyen a PATH-ban</li> </ul>"},{"location":"homework/05-azurescale/#elokeszulet","title":"El\u0151k\u00e9sz\u00fclet","text":"<p>A feladatok megold\u00e1sa sor\u00e1n ne felejtsd el k\u00f6vetni a feladat bead\u00e1s folyamat\u00e1t GitHub.</p> <p>PR n\u00e9v</p> <p> Bead\u00e1sn\u00e1l a pull request neve legyen: hf5 </p>"},{"location":"homework/05-azurescale/#git-repository-letrehozasa-es-letoltese","title":"Git repository l\u00e9trehoz\u00e1sa \u00e9s let\u00f6lt\u00e9se","text":"<ol> <li>Moodle-ben keresd meg a laborhoz tartoz\u00f3 megh\u00edv\u00f3 URL-j\u00e9t \u00e9s annak seg\u00edts\u00e9g\u00e9vel hozd l\u00e9tre a saj\u00e1t repository-dat.</li> <li>V\u00e1rd meg, m\u00edg elk\u00e9sz\u00fcl a repository, majd checkout-old ki.</li> <li>Hozz l\u00e9tre egy \u00faj \u00e1gat <code>megoldas</code> n\u00e9ven, \u00e9s ezen az \u00e1gon dolgozz.</li> <li>A <code>neptun.txt</code> f\u00e1jlba \u00edrd bele a Neptun k\u00f3dodat. A f\u00e1jlban semmi m\u00e1s ne szerepeljen, csak egyetlen sorban a Neptun k\u00f3d 6 karaktere.</li> </ol> <p>NEPTUN</p> <p> A feladatokban a <code>neptun</code> kifejez\u00e9s helyett a saj\u00e1t neptunk\u00f3dunkat helyettes\u00edts\u00fck be minden esetben </p>"},{"location":"homework/05-azurescale/#0-feladat","title":"0. Feladat","text":""},{"location":"homework/05-azurescale/#aks-workload-telepitese","title":"AKS workload telep\u00edt\u00e9se","text":"<p>Ha megvan az alkalmaz\u00e1sokkal felt\u00f6lt\u00f6tt AKS, az AKS h\u00e1zib\u00f3l, akkor nincs teend\u0151. Egy\u00e9bk\u00e9nt az AKS h\u00e1zi 1. feladata alapj\u00e1n hozz l\u00e9tre \u00e9s telep\u00edtsd a  mintaalkalmaz\u00e1st egy saj\u00e1t AKS-be.</p>"},{"location":"homework/05-azurescale/#1-feladat","title":"1. Feladat","text":""},{"location":"homework/05-azurescale/#11-container-insights-bekapcsolasa-replikaszam-monitorozasa","title":"1.1 Container Insights bekapcsol\u00e1sa, replikasz\u00e1m monitoroz\u00e1sa","text":"<p>Kapcsoljuk be a Container Insights szolg\u00e1ltat\u00e1st az AKS-\u00fcnk\u00f6n az \u00fatmutat\u00f3 szerint. Prometheus \u00e9s Grafana nem sz\u00fcks\u00e9ges. A t\u00f6bbi be\u00e1ll\u00edt\u00e1s maradhat alap\u00e9rtelmezett. A bekapcsol\u00e1s l\u00e9trehoz egy Log Analytics Workspace-t (LAWS) \u00e9s instrument\u00e1lja az AKS-t, hogy a monitoroz\u00e1si adatokat a LAWS-ba k\u00fcldje.</p> <p>Monitoroz\u00e1si k\u00f6lts\u00e9gek</p> <p>Nagyobb klaszterek monitoroz\u00e1si k\u00f6lts\u00e9ge a keletkez\u0151 monitor adatok mennyis\u00e9ge miatt ijeszt\u0151 lehet, ak\u00e1r mag\u00e1nak a klaszternek az alap m\u0171k\u00f6d\u00e9si k\u00f6lts\u00e9g\u00e9vel \u00f6sszem\u00e9rhet\u0151. Hallgat\u00f3 el\u0151fizet\u00e9sen az id\u0151 dimenzi\u00f3 is fontos, teh\u00e1t, hogy csak r\u00f6vid ideig keletkezzenek monitor adatok. Ez\u00e9rt is, amint lehet, a h\u00e1zi v\u00e9g\u00e9n t\u00f6r\u00f6ld az AKS-t! Kev\u00e9sb\u00e9 fontos, de a LAWS-t is \u00e9rdemes, hogy t\u00e1rol\u00e1si k\u00f6lts\u00e9get is cs\u00f6kkents\u00fck. AKS t\u00f6rl\u00e9sekor a LAWS nem t\u00f6rl\u0151dik automatikusan. </p> <p>Miut\u00e1n minden sz\u00fcks\u00e9ges dolog telep\u00fclt, p\u00e1r percben \u00e9rdemes felfedezni a port\u00e1l AKS monitoroz\u00e1ssal kapcsolatos f\u0151bb men\u00fcpontjait:</p> <ul> <li>Insights - el\u0151re elk\u00e9sz\u00edtett \u00f6sszes\u00edt\u0151 n\u00e9zetek</li> <li>Metrics - metrik\u00e1kat figyelhet\u00fcnk meg grafikonos n\u00e9zetben</li> <li>Logs - saj\u00e1t lek\u00e9rdez\u00e9seket k\u00e9sz\u00edthet\u00fcnk \u00e9s az eredm\u00e9nyeket grafikonon is megjelen\u00edthetj\u00fck. L\u00e9nyeg\u00e9ben minden monitorozott adathoz hozz\u00e1f\u00e9r\u00fcnk \u00e9s lek\u00e9rdez\u00e9seket \u00edrhatunk r\u00e1juk. A lek\u00e9rdez\u00e9sek elmenthet\u0151k, megoszthat\u00f3k m\u00e1sokkal, akik hozz\u00e1f\u00e9rnek ehhez a fel\u00fclethez.</li> <li>Workbooks - ha nem el\u00e9g j\u00f3k a be\u00e9p\u00edtett n\u00e9zetek, kimutat\u00e1sok (pl. a Logs men\u00fcben \u00f6sszeraktunk egy j\u00f3 saj\u00e1t lek\u00e9rdez\u00e9st), akkor saj\u00e1t dashboardokat, kimutat\u00e1sokat k\u00e9sz\u00edthet\u00fcnk</li> </ul> <p>K\u00e9sz\u00edts saj\u00e1t KQL nyelv\u0171 lek\u00e9rdez\u00e9st \u00e9s abb\u00f3l grafikont (a Results alf\u00fcl mellett a Charts alf\u00fcl\u00f6n) a Logs men\u00fcpontban, ami a store-front deployment (mintaalkalmaz\u00e1s r\u00e9sze) replikasz\u00e1m\u00e1t mutatja az id\u0151 f\u00fcggv\u00e9ny\u00e9ben. Az id\u0151 dimenzi\u00f3 felbont\u00e1sa 2-5 perc k\u00f6z\u00f6tti \u00e9rt\u00e9k legyen. A KubePodInventory t\u00e1bl\u00e1b\u00f3l \u00e9rdemes kiindulni. Mentsd el a lek\u00e9rdez\u00e9st vagy ne navig\u00e1lj el a men\u00fcpontb\u00f3l.</p> <p>N\u00e9vegyez\u00e9s</p> <p>Ha olyan K8S er\u0151forr\u00e1s nev\u00e9re sz\u0171rsz, aminek a neve dinamikusan v\u00e1ltozik, akkor ne pontos egyez\u00e9ssel sz\u0171rj, hanem r\u00e9szlegessel, pl. <code>startsWith</code>.</p>"},{"location":"homework/05-azurescale/#12-manualis-skalazas-es-hpa-kiprobalasa","title":"1.2 Manu\u00e1lis sk\u00e1l\u00e1z\u00e1s \u00e9s HPA kipr\u00f3b\u00e1l\u00e1sa","text":"<p>Sk\u00e1l\u00e1zd a store-front deploymentet HPA-val a hivatalos \u00fatmutat\u00f3t k\u00f6vetve. V\u00e1rd meg am\u00edg a hat\u00e1s l\u00e1tszik a lek\u00e9rdez\u00e9s eredm\u00e9ny\u00e9ben.</p> <p>Az \u00fatmutat\u00f3 szerint a replikasz\u00e1mnak vissza kellene \u00e1llnia h\u00e1romra, de ez az AKS-be v\u00e1lasztott VM CPU er\u0151ss\u00e9g\u00e9t\u0151l f\u00fcgg\u0151en nem biztos, hogy bek\u00f6vetkezik. A podok terhel\u00e9s\u00e9t a HPA az ig\u00e9nyelt CPU-hoz viszony\u00edtja (0,5 CPU az ig\u00e9nyelt \u00e9s 0,5 CPU-t haszn\u00e1l = 100% terhel\u00e9s). Ha rossz az ig\u00e9nyelt CPU \u00e9rt\u00e9k be\u00e1ll\u00edt\u00e1s, akkor nem a v\u00e1rt viselked\u00e9st kaphatjuk. Ellen\u0151rizd a store-front \u00e1ltal ig\u00e9nyelt CPU-t \u00e9s ha sz\u00fcks\u00e9ges, m\u00f3dos\u00edtsd, hogy bej\u00f6v\u0151 k\u00e9r\u00e9s hi\u00e1ny\u00e1ban a minimum \u00e9rt\u00e9kre \u00e1lljon vissza.</p> <p>HPA monitoroz\u00e1sa</p> <p>Egyszer\u0171en monitorozhatjuk a HPA tev\u00e9kenys\u00e9g\u00e9t a <code>kubectl describe hpa $hpa_name</code> paranccsal.</p> <p>BEADAND\u00d3</p> <p>K\u00e9sz\u00edts egy k\u00e9perny\u0151k\u00e9pet az Azure port\u00e1lr\u00f3l (<code>f1.1.png</code>) \u00e9s commitold azt be a h\u00e1zi feladat rep\u00f3 gy\u00f6ker\u00e9be, amin l\u00e1tszik a replikasz\u00e1mos vonalgrafikon (Chart Type: Line) \u00e9s a k\u00fcl\u00f6nb\u00f6z\u0151 sk\u00e1l\u00e1z\u00e1sok, illetve a HPA hat\u00e1sa, ahogy vissza\u00e1ll a minimum \u00e9rt\u00e9kre. A k\u00e9p jobb fels\u0151 sark\u00e1ban l\u00e1tsz\u00f3djon a bel\u00e9pett felhaszn\u00e1l\u00f3, a bal fels\u0151 sarka k\u00f6rny\u00e9k\u00e9n az AKS neve.</p> <p>K\u00e9sz\u00edts egy k\u00e9perny\u0151k\u00e9pet (<code>f1.2.png</code>) \u00e9s commitold azt be a h\u00e1zi feladat rep\u00f3 gy\u00f6ker\u00e9be, amin <code>kubectl describe hpa</code> paranccsal igazolod, hogy a HPA (\u00e9s nem p\u00e9ld\u00e1ul manu\u00e1lis sk\u00e1l\u00e1z\u00e1s) cs\u00f6kkentette minimumra a replikasz\u00e1mot.</p>"},{"location":"homework/05-azurescale/#2-feladat","title":"2. Feladat","text":"<p>Terhel\u00e9ses tesztet \u00edrunk .NET-es tesztprojektk\u00e9nt, mely felh\u0151s terhel\u00e9sesteszt-motorokat (load test engine) haszn\u00e1l a sz\u00fcks\u00e9ges terhel\u00e9s el\u0151\u00e1ll\u00edt\u00e1s\u00e1ra. </p>"},{"location":"homework/05-azurescale/#21-hpa-erzekenyitese","title":"2.1 HPA \u00e9rz\u00e9keny\u00edt\u00e9se","text":"<p>A k8s YAML f\u00e1jlok \u00e1t\u00edr\u00e1s\u00e1val \u00e9s \u00e9rv\u00e9nyes\u00edt\u00e9s\u00e9vel (<code>kubectl apply</code>) \u00e1ll\u00edtsd \u00e1t a HPA minimum replikasz\u00e1m \u00e9rt\u00e9k\u00e9t 1-re, a store-front CPU ig\u00e9ny\u00e9t pedig egy kis \u00e9rt\u00e9kre (pl. 10m), de annyira ne legyen kicsi, hogy terhel\u00e9s n\u00e9lk\u00fcl egyn\u00e9l t\u00f6bb replika kelljen. A replikasz\u00e1m grafikonon valid\u00e1ld, hogy a replikasz\u00e1m terhel\u00e9s n\u00e9lk\u00fcl be\u00e1ll-e egyre.</p>"},{"location":"homework/05-azurescale/#22-azure-load-testing","title":"2.2 Azure Load Testing","text":"<p>Hozz l\u00e9tre egy Azure Load Testing er\u0151forr\u00e1st (p\u00e9ld\u00e1ul az \u00fatmutat\u00f3t k\u00f6vetve) az al\u00e1bbi be\u00e1ll\u00edt\u00e1sokkal:</p> <ul> <li>Name: lt el\u0151tag + neptun k\u00f3d (pl.npt123 neptun k\u00f3d eset\u00e9n ltnpt123)</li> <li>Resource group: az alap\u00e9rtelmezett Azure er\u0151forr\u00e1scsoport (l\u00e1sd AKS h\u00e1zi)</li> <li>Location: k\u00f6z\u00f6s Azure r\u00e9gi\u00f3 (l\u00e1sd AKS h\u00e1zi)</li> </ul> <p>Tesztet nem kell l\u00e9trehozni, csak az er\u0151forr\u00e1s legyen meg.</p>"},{"location":"homework/05-azurescale/#23-service-principal","title":"2.3 Service Principal","text":"<p>A tesztet programb\u00f3l fogjuk l\u00e9trehozni \u00e9s ind\u00edtani, ehhez kell egy Entra technikai felhaszn\u00e1l\u00f3, akit a programunk megszem\u00e9lyes\u00edt \u00e9s ennek a felhaszn\u00e1l\u00f3nak a nev\u00e9ben j\u00f6n l\u00e9tre \u00e9s fut le a teszt. Technikai felhaszn\u00e1l\u00f3 l\u00e9trehoz\u00e1sa t\u00f6bb l\u00e9p\u00e9ses folyamat \u00e1ltal\u00e1ban, de az alapesetre van egy egysoros k\u00e9nyelmi Azure CLI parancs. Helyettes\u00edtsd be a neptun k\u00f3dodat:</p> <pre><code>az ad sp create-for-rbac -n loadtest_automation_neptun\n</code></pre> <p>Service prinicipal neve</p> <p>B\u00e1r lehets\u00e9ges t\u00f6bb technikai felhaszn\u00e1l\u00f3 ugyanazon n\u00e9vvel, a k\u00f6nnyebb kereshet\u0151s\u00e9g miatt jobb, ha a nevek egyedibbek.</p> <p>A v\u00e1lasz JSON-t mindenk\u00e9pp mentsd el, sz\u00fcks\u00e9g lesz az adatokra bel\u0151le. A benne l\u00e9v\u0151 titok ut\u00f3lag m\u00e1r nem k\u00e9rdezhet\u0151 le.</p> <p>Service prinicipal parancsok</p> <p>Az <code>az ad sp</code> parancsokkal a technikai felhaszn\u00e1l\u00f3khoz kapcsol\u00f3d\u00f3 legt\u00f6bb gyakori tev\u00e9kenys\u00e9g elv\u00e9gezhet\u0151. P\u00e9ld\u00e1ul az \u00e1ltalunk l\u00e9trehozott technikai felhaszn\u00e1l\u00f3k list\u00e1z\u00e1sa: <code>az ad sp list --show-mine</code>.</p> <p>Entra fel\u00fcletek BME tenantban</p> <p>A BME tenantban az Azure port\u00e1los Entra kezel\u0151fel\u00fcletek le vannak tiltva, kiz\u00e1r\u00f3lag API-t h\u00edvva, p\u00e9ld\u00e1ul Azure CLI-b\u0151l, kezelhetj\u00fck a technikai felhaszn\u00e1l\u00f3inkat. </p> <p>Az Azure RBAC fel\u00fcletek viszont nincsenek tiltva, az \u00fatmutat\u00f3 alapj\u00e1n osszunk jogokat a technikai felhaszn\u00e1l\u00f3nak (k\u00e9t hozz\u00e1rendel\u00e9s): </p> <ol> <li>legyen Reader szerepk\u00f6re (role) az alap\u00e9rtelmezett Azure er\u0151forr\u00e1scsoporton (scope), amiben a Load Testing szolg\u00e1ltat\u00e1st is l\u00e9trehoztuk \u00e9s </li> <li>legyen Load Test Contributor (role) a Load Testing er\u0151forr\u00e1son (scope)</li> </ol> <p>Tip</p> <p>A technikai felhaszn\u00e1l\u00f3 az alanykeres\u0151ben a sima ember felhaszn\u00e1l\u00f3kkal egy kateg\u00f3ri\u00e1ban van, nem a managed identity-k k\u00f6z\u00f6tt.</p>"},{"location":"homework/05-azurescale/#24-terhelesteszt-nunit-unit-teszt-projektkent","title":"2.4 Terhel\u00e9steszt NUnit unit teszt projektk\u00e9nt","text":"<p>L\u00e9pj\u00fcnk be a kl\u00f3nozott kiindul\u00f3 rep\u00f3 azloadtest k\u00f6nyvt\u00e1r\u00e1ba, majd hozzunk l\u00e9tre egy NUnit projektet a .NET CLI seg\u00edts\u00e9g\u00e9vel. Adjuk hozz\u00e1 az Azure Load Test automatiz\u00e1l\u00e1s\u00e1t megval\u00f3s\u00edt\u00f3 .NET k\u00f6nyvt\u00e1rat is.</p> <pre><code>dotnet new nunit\ndotnet add package Abstracta.JmeterDsl.Azure --version 0.6\n</code></pre> <p>Abstracta.JmeterDsl</p> <p>Az Abstracta.JmeterDsl k\u00f6nyvt\u00e1rak lehet\u0151v\u00e9 teszik, hogy az Azure Load Testing tesztjeinket JMeter XML szerkeszt\u0151 eszk\u00f6z\u00f6k helyett imperat\u00edv nyelven (Java vagy C#), fluent jelleg\u0171 API-val \u00edrjuk meg egy tesztprojektben. A csomag ebb\u0151l a k\u00f3d alapj\u00e1n egyr\u00e9szt gener\u00e1lja a sz\u00fcks\u00e9ges JMeter artifaktokat, majd ezekkel inicializ\u00e1lja a teszt v\u00e9grehajt\u00f3 motort (eset\u00fcnkben Azure Load Test), elind\u00edtja a tesztet, v\u00e9g\u00fcl begy\u0171jti a lefut\u00e1si statisztik\u00e1kat, amikre assert felt\u00e9teleket fogalmazhatunk meg.</p> <p>Java</p> <p>Az Abstracta k\u00f6nyvt\u00e1r m\u0171k\u00f6d\u00e9s\u00e9hez sz\u00fcks\u00e9ges Java futtat\u00f3k\u00f6rnyezet, l\u00e1sd fent az El\u0151k\u00f6vetelm\u00e9nyek r\u00e9szt.</p> <p>Az al\u00e1bbi minta alapj\u00e1n \u00edrd meg a saj\u00e1t teszteseted a gener\u00e1lt .cs f\u00e1jlba. A kommentek alapj\u00e1n cser\u00e9ld le a k\u00fcl\u00f6nb\u00f6z\u0151 param\u00e9tereket. Ezeket kell megadni:</p> <ul> <li>mintaalkalmaz\u00e1s URL-je</li> <li>l\u00e9trehozand\u00f3 teszt neve, <code>store-front-neptun-test</code> a neptun k\u00f3dot behelyettes\u00edtve</li> <li>el\u0151fizet\u00e9s azonos\u00edt\u00f3ja (GUID)</li> <li>a kor\u00e1bban l\u00e9trehozott Azure Load Testing szolg\u00e1ltat\u00e1s neve (ltneptun)</li> </ul> Load Test f\u00fcggv\u00e9ny minta<pre><code>//using-ok a .cs f\u00e1jl tetej\u00e9re\nusing Abstracta.JmeterDsl.Azure;\nusing static Abstracta.JmeterDsl.JmeterDsl;\n\n[Test]\npublic void LoadTest()\n{\n    var stats = TestPlan(\n        ThreadGroup(threads: 100, iterations: 100,\n            HttpSampler(url: \"http://48.48.48.48\") // cser\u00e9ld le: mintaalkalmaz\u00e1s f\u0151oldal\u00e1nak URL-je\n        )\n    ).RunIn(new AzureEngine(Environment.GetEnvironmentVariable(\"AZURE_CREDS\"))\n        .TestName(\"store-front-neptun-test\") // cser\u00e9ld le\n        .SubscriptionId(\"b593cc31-e0b8-e0b8-e0b8-b593cc31\") // cser\u00e9ld le\n        .ResourceGroupName(\"viaumb11\") \n        .TestResourceName(\"ltneptun\") //cser\u00e9ld le: Azure Load Testing er\u0151forr\u00e1s neve\n        .Engines(2) \n        .TestTimeout(TimeSpan.FromMinutes(30)));\n    Assert.That(stats.Overall.SampleTimePercentile99, Is.LessThan(TimeSpan.FromSeconds(5)));\n}\n</code></pre> <p>Load Testing er\u0151forr\u00e1s azonos\u00edt\u00f3k</p> <p>Fontos, hogy a k\u00f3dban pontosan szerepeljenek a Load Testing er\u0151forr\u00e1s azonos\u00edt\u00f3 adatai (el\u0151fizet\u00e9s, er\u0151forr\u00e1scsoport neve, er\u0151forr\u00e1s neve), mert ha nem tal\u00e1lja meg ezek alapj\u00e1n az er\u0151forr\u00e1st, akkor megpr\u00f3b\u00e1lja l\u00e9trehozni, de arra nem adtunk neki jogot.</p> <p>\u00c1ll\u00edtsd \u00f6ssze az <code>AZURE_CREDS</code> k\u00f6rnyezeti v\u00e1ltoz\u00f3 \u00e9rt\u00e9k\u00e9t a technikai felhaszn\u00e1l\u00f3 kapcs\u00e1n elmentett JSON alapj\u00e1n: kett\u0151sponttal elv\u00e1lasztva a BME tenant azonos\u00edt\u00f3ja (tenant), a technikai felhaszn\u00e1l\u00f3 azonos\u00edt\u00f3ja (appId) \u00e9s a titok (password). Ind\u00edtsd a tesztet:</p> <pre><code>dotnet test -e AZURE_CREDS=\"00000000-0000-0000-0000-000000000000:00000000-0000-0000-0000-000000000000:xyxyyxy.xyyxyxyx\"\n</code></pre> <p>Titok vs. git</p> <p>Az AZURE_CREDS \u00e9rt\u00e9k\u00e9t ne \u00e9gesd be a k\u00f3dba, ne ker\u00fclj\u00f6n be git-be!</p> <p>A tesztnek automatikusan l\u00e9tre kell j\u00f6nnie az Azure Load Testing szolg\u00e1ltat\u00e1son bel\u00fcl \u00e9s el kell indulnia. A lefut\u00e1st k\u00f6vesd az Azure port\u00e1lon: Load Testing er\u0151forr\u00e1s Tests men\u00fcpontja, ott a teszt, majd azon bel\u00fcl tesztlefut\u00e1s (Test runs r\u00e9sz).</p> <p>BEADAND\u00d3</p> <p>K\u00e9sz\u00edts egy k\u00e9perny\u0151k\u00e9pet az Azure port\u00e1lr\u00f3l (<code>f2.1.png</code>) \u00e9s commitold azt be a h\u00e1zi feladat rep\u00f3 gy\u00f6ker\u00e9be, amin l\u00e1tszik a replikasz\u00e1mos vonalgrafikon (Chart Type: Line) \u00e9s a HPA hat\u00e1sa, ahogy a terhel\u00e9steszt miatt megn\u00f6veli, majd visszacs\u00f6kkenti a replikasz\u00e1mot a minimum \u00e9rt\u00e9kre. A k\u00e9p jobb fels\u0151 sark\u00e1ban l\u00e1tsz\u00f3djon a bel\u00e9pett felhaszn\u00e1l\u00f3, a bal fels\u0151 sarka k\u00f6rny\u00e9k\u00e9n az AKS neve. Ha a hat\u00e1s nem el\u00e9g l\u00e1tv\u00e1nyos, n\u00f6veld a terhel\u00e9st a <code>ThreadGroup</code> <code>threads</code> \u00e9s <code>iterations</code> param\u00e9tereivel.</p> <p>K\u00e9sz\u00edts egy k\u00e9perny\u0151k\u00e9pet (<code>f2.2.png</code>) \u00e9s commitold azt be a h\u00e1zi feladat rep\u00f3 gy\u00f6ker\u00e9be, amin <code>kubectl describe hpa</code> paranccsal szeml\u00e9lteted a HPA sk\u00e1l\u00e1z\u00e1si esem\u00e9nyeit.</p> <p>K\u00e9sz\u00edts egy k\u00e9perny\u0151k\u00e9pet (<code>f2.3.png</code>) \u00e9s commitold azt be a h\u00e1zi feladat rep\u00f3 gy\u00f6ker\u00e9be, amin az Azure port\u00e1lon l\u00e1tszik a tesztlefut\u00e1sok (Test Runs) list\u00e1ja. A k\u00e9p jobb fels\u0151 sark\u00e1ban l\u00e1tsz\u00f3djon a bel\u00e9pett felhaszn\u00e1l\u00f3, a bal fels\u0151 sark\u00e1ban a terhel\u00e9s teszt neve.</p> <p>Kitekint\u00e9s - egy\u00e9b sk\u00e1l\u00e1z\u00e1si lehet\u0151s\u00e9gek</p> <p>\u00c9rdemes lett volna kipr\u00f3b\u00e1lni a  klaszter sk\u00e1l\u00e1z\u00e1st, de a hallgat\u00f3i el\u0151fizet\u00e9s szigor\u00fa vCPU korl\u00e1tai miatt ez nagyon neh\u00e9zkes lett volna. Alternat\u00edvak\u00e9nt a virtual nodes opci\u00f3t m\u00e9g \u00edgy is haszn\u00e1lhatn\u00e1nk, amivel a Azure Container Instances szolg\u00e1ltat\u00e1s virtu\u00e1lis K8S node-k\u00e9nt jelenn\u00e9nek meg. Azonban ez a m\u00f3d sz\u00e1mos dokument\u00e1lt \u00e9s nem annyira j\u00f3l dokument\u00e1lt korl\u00e1toz\u00e1ssal rendelkezik, \u00edgy a h\u00e1zi keret\u00e9ben szint\u00e9n neh\u00e9zkes lenne a haszn\u00e1lata, de egy kis p\u00e9ld\u00e1n kipr\u00f3b\u00e1lhat\u00f3.</p>"},{"location":"homework/05-azurescale/#3-feladat-talan-a-legfontosabb","title":"3. Feladat - tal\u00e1n a legfontosabb","text":"<p>Er\u0151forr\u00e1sok t\u00f6rl\u00e9se</p> <p>Bead\u00e1s ut\u00e1n t\u00f6r\u00f6lj minden er\u0151forr\u00e1scsoportot az el\u0151fizet\u00e9seden bel\u00fcl. (Kiv\u00e9ve esetleg ami nem a kish\u00e1zikhoz kellett.) A technikai felhaszn\u00e1l\u00f3t is \u00e9rdemes t\u00f6r\u00f6lni Entra-b\u00f3l, ne hagyjunk \"szemetet\" magunk ut\u00e1n.</p>"},{"location":"information/GitHub-Actions/","title":"GitHub Actions ismertet\u0151","text":"<p>A laborfeladatok ki\u00e9rt\u00e9kel\u00e9s\u00e9ben a GitHub Actions-re t\u00e1maszkodunk. Seg\u00edts\u00e9g\u00e9vel a git repository-kon m\u0171veleteket \u00e9s programokat tudunk futtatni. Ilyen m\u0171velet p\u00e9ld\u00e1ul a C# k\u00f3d leford\u00edt\u00e1sa, vagy a beadott k\u00f3d tesztel\u00e9se.</p> <p>A lefutott ki\u00e9rt\u00e9kel\u00e9sr\u0151l a pull request-ben fogsz \u00e9rtes\u00edt\u00e9st kapni. Ha meg szeretn\u00e9d n\u00e9zni r\u00e9szletesebben a h\u00e1tt\u00e9rben t\u00f6rt\u00e9nteket, vagy p\u00e9ld\u00e1ul az alkalmaz\u00e1s napl\u00f3kat, a GitHub fel\u00fclet\u00e9n az Actions alatt indulhatsz el.</p> <p></p> <p>Az Actions fel\u00fclet\u00e9n un. Workflow-kat l\u00e1tsz; minden egyes ki\u00e9rt\u00e9kel\u00e9s futtat\u00e1s egy-egy elem lesz itt (teh\u00e1t historikusan is visszakereshet\u0151ek).</p> <p></p> <p>Ezek k\u00f6z\u00fcl egyet kiv\u00e1lasztva (pl. a legfels\u0151 mindig a legutols\u00f3) l\u00e1thatod a workflow fut\u00e1s\u00e1nak r\u00e9szleteit. A fut\u00e1s napl\u00f3j\u00e1hoz a bal oldali list\u00e1ban m\u00e9g kattintani kell egyet. Jobb oldalon l\u00e1that\u00f3 a folyamat teljes napl\u00f3ja.</p> <p></p> <p>Minden z\u00f6ld pipa egy-egy sikeres l\u00e9p\u00e9st jelent. Ezen l\u00e9p\u00e9sek nem azonosak a feladatokokkal, hanem a ki\u00e9rt\u00e9kel\u00e9s folyamat\u00e1nak l\u00e9p\u00e9sei lesznek. Ilyen l\u00e9p\u00e9s p\u00e9ld\u00e1ul a k\u00f6rnyezet el\u0151k\u00e9sz\u00edt\u00e9se, pl. a .NET SDK telep\u00edt\u00e9se (minden ki\u00e9rt\u00e9kel\u00e9s egy vadi\u00faj k\u00f6rnyezetben indul, \u00edgy mindent el\u0151 kell k\u00e9sz\u00edteni).</p> <p>Alapvet\u0151en a l\u00e9p\u00e9sek mindig sikeresek, akkor is, ha a megold\u00e1sodban hiba van, mert a ki\u00e9rt\u00e9kel\u00e9s erre fel van k\u00e9sz\u00edtve. Kiv\u00e9telt ez al\u00f3l csak a <code>neptun.txt</code> hi\u00e1nya ill. a C# k\u00f3d leford\u00edt\u00e1sa jelent. El\u0151bbi felt\u00e9tlen\u00fcl sz\u00fcks\u00e9ges, ez\u00e9rt semmilyen folyamatot nem hajtunk v\u00e9gre n\u00e9lk\u00fcle. Ut\u00f3bbi eset\u00e9ben a C# k\u00f3d ford\u00edt\u00e1sa szint\u00e9n sz\u00fcks\u00e9ges a tov\u00e1bbl\u00e9p\u00e9shez, ez\u00e9rt sikertelens\u00e9g eset\u00e9n le\u00e1ll a folyamat.</p> <p>N\u00e9ha el\u0151fordulhat azonban tranziens, id\u0151szakos hiba is. P\u00e9ld\u00e1ul a .NET k\u00f6rnyezet let\u00f6lt\u00e9se nem siker\u00fcl h\u00e1l\u00f3zati hiba miatt. Ilyen esetben a futtat\u00e1st k\u00e9zzel meg lehet ism\u00e9telni. Ez persze csak akkor seg\u00edt, ha t\u00e9nyleg \u00e1tmeneti hib\u00e1r\u00f3l van sz\u00f3, teh\u00e1t pl. egy C# ford\u00edt\u00e1si hib\u00e1n nem fog seg\u00edteni. (Ezt a hiba\u00fczenetb\u0151l illetve a l\u00e9p\u00e9s nev\u00e9b\u0151l tudod kider\u00edteni, vagy legal\u00e1bb is megtippelni kell\u0151 bizonyoss\u00e1ggal.)</p> <p></p> <p>A feladat f\u00fcggv\u00e9ny\u00e9ben ak\u00e1r az alkalmaz\u00e1s napl\u00f3kat is meg tudod n\u00e9zni itt. Pl. amikor .NET alkalmaz\u00e1st k\u00e9sz\u00edtesz, az alkalmaz\u00e1st elind\u00edtjuk, \u00e9s minden, amit napl\u00f3z, itt megtekinthet\u0151.</p> <p>Az al\u00e1bbi p\u00e9ld\u00e1ul egy Entity Framework-\u00f6t haszn\u00e1l\u00f3 alkalmaz\u00e1s inicializ\u00e1s\u00e1t mutatja, k\u00f6zt\u00fck p\u00e9ld\u00e1ul a kiadott SQL parancsokat is. Debuggol\u00e1s k\u00f6zben a Visual Studio Output ablak\u00e1ban is hasonl\u00f3kat l\u00e1thatsz. Ez term\u00e9szetesen nagyban f\u00fcgg a konkr\u00e9t feladatt\u00f3l.</p> <p></p>"},{"location":"information/GitHub/","title":"Feladatok bead\u00e1sa (GitHub)","text":"<p>A feladatok bead\u00e1s\u00e1hoz a GitHub platformot haszn\u00e1ljuk. Minden labor bead\u00e1sa egy-egy GitHub repository-ban t\u00f6rt\u00e9nik, melyet a feladatle\u00edr\u00e1sban tal\u00e1lhat\u00f3 linken kereszt\u00fcl kapsz meg. A labor feladatainak megold\u00e1s\u00e1t ezen repository-ban kell elk\u00e9sz\u00edtened, \u00e9s ide kell felt\u00f6ltened. A k\u00e9sz megold\u00e1s bead\u00e1sa a repository-ba val\u00f3 felt\u00f6lt\u00e9s ut\u00e1n egy un. pull request form\u00e1j\u00e1ban t\u00f6rt\u00e9nik, amelyet a laborvezet\u0151dh\u00f6z rendelsz.</p> <p>FONTOS</p> <p>Az itt le\u00edrt formai el\u0151\u00edr\u00e1sok betart\u00e1sa elv\u00e1r\u00e1s. A nem ilyen form\u00e1ban beadott megold\u00e1sokat nem \u00e9rt\u00e9kelj\u00fck.</p>"},{"location":"information/GitHub/#roviditett-verzio","title":"R\u00f6vid\u00edtett verzi\u00f3","text":"<p>Al\u00e1bb r\u00e9szletesen bemutatjuk a bead\u00e1s menet\u00e9t. Itt egy r\u00f6vid \u00f6sszefoglal\u00f3 az \u00e1ttekint\u00e9shez, illetve a helyes bead\u00e1s ellen\u0151rz\u00e9s\u00e9hez.</p> <ol> <li> <p>A munk\u00e1dat Moodle-ben tal\u00e1lhat\u00f3 GitHub Classroom megh\u00edv\u00f3 linken kereszt\u00fcl l\u00e9trehozott GitHub repository-ban kell elk\u00e9sz\u00edtsd.</p> </li> <li> <p>A megold\u00e1shoz k\u00e9sz\u00edts egy k\u00fcl\u00f6n \u00e1gat, ne a master-en dolgozz. Erre az \u00e1gra ak\u00e1rh\u00e1ny kommitot tehetsz. Mindenk\u00e9ppen pushold a megold\u00e1st.</p> </li> <li> <p>A bead\u00e1st egy pull request jelzi, amely pull request-et a laborvezet\u0151dh\u00f6z kell rendelned.</p> </li> <li> <p>Ha az eredm\u00e9nnyel vagy \u00e9rt\u00e9kel\u00e9ssel kapcsolatban k\u00e9rd\u00e9sed van, pull request kommentben k\u00e9rdezhetsz. A laborvezet\u0151 \u00e9rtes\u00edt\u00e9s\u00e9hez haszn\u00e1ld a <code>@n\u00e9v</code> c\u00edmz\u00e9st a komment sz\u00f6veg\u00e9ben.</p> </li> </ol>"},{"location":"information/GitHub/#a-munka-elkezdese-git-checkout","title":"A munka elkezd\u00e9se: git checkout","text":"<ol> <li> <p>Regisztr\u00e1lj egy GitHub accountot, ha m\u00e9g nincs.</p> </li> <li> <p>Moodle-ben a kurzus oldal\u00e1n keresd meg a laborhoz tartoz\u00f3 megh\u00edv\u00f3 URL-t. Ez minden laborhoz m\u00e1s lesz, \u00fcgyelj r\u00e1, hogy a megfelel\u0151 linket haszn\u00e1ld.</p> </li> <li> <p>Ha k\u00e9ri, adj enged\u00e9lyt a GitHub Classroom alkalmaz\u00e1snak, hogy haszn\u00e1lja az account adataidat.</p> <p></p> </li> <li> <p>L\u00e1tni fogsz egy oldalt, ahol elfogadhatod a feladatot (\"Accept the ... assignment\"). Kattints a gombra.</p> <p></p> </li> <li> <p>V\u00e1rd meg, am\u00edg elk\u00e9sz\u00fcl a repository. A repository linkj\u00e9t itt kapod meg.</p> <p>Megjegyz\u00e9s</p> <p>A repository priv\u00e1t lesz, azaz az senki nem l\u00e1tja, csak te, \u00e9s az oktat\u00f3k.</p> <p></p> </li> <li> <p>Nyisd meg a repository-t a webes fel\u00fcleten a linkre kattintva. Ezt az URL-t \u00edrd fel, vagy mentsd el.</p> <p></p> </li> <li> <p>Kl\u00f3nozd le a repository-t. Ehhez sz\u00fcks\u00e9ges lesz a repository c\u00edm\u00e9re, amit a repository webes fel\u00fclet\u00e9n a Clone or download alatt tal\u00e1lsz.</p> <p>A git repository kezel\u00e9s\u00e9hez tetsz\u0151leges klienst haszn\u00e1lhatsz. Ha nincs kedvenced m\u00e9g, akkor legegyszer\u0171bb a GitHub Desktop. Ebben az alkalmaz\u00e1sban k\u00f6zvetlen\u00fcl tudod list\u00e1zni a repository-kat GitHub-r\u00f3l, vagy haszn\u00e1lhatod az URL-t is a kl\u00f3noz\u00e1shoz.</p> <p></p> <p>Ha konzolt haszn\u00e1ln\u00e1l, az al\u00e1bbi parancs kl\u00f3nozza a repository-t (ha a <code>git</code> parancs el\u00e9rhet\u0151): <code>git clone &lt;repository link&gt;</code></p> <p>Sikertelen kl\u00f3noz\u00e1s</p> <p>Amennyiben a bejelentkez\u00e9s sikertelen felhaszn\u00e1l\u00f3n\u00e9v/jelsz\u00f3 p\u00e1rossal a \"Clone with HTTPS\" eset\u00e9n, (r\u00e9gebb \u00f3ta haszn\u00e1lt felhaszn\u00e1l\u00f3n\u00e1l) \u00e9rdemes ellen\u0151rizni a git-en tal\u00e1lhat\u00f3 Personal Access token lej\u00e1rati d\u00e1tum\u00e1t. </p> <p><code>Jobb fels\u0151 sarokban a profilk\u00e9p melletti lefel\u00e9 mutat\u00f3 nyil &gt; Settings &gt; bal oldalon (legals\u00f3) Developer settings &gt; ugyanitt Personal access tokens.</code></p> <p>Alternat\u00edv m\u00f3dszerk\u00e9nt: HTTP kl\u00f3noz\u00e1s helyett, SSH kulcs haszn\u00e1lat\u00e1hoz, angol nyelv\u0171 instrukci\u00f3k itt tal\u00e1lhat\u00f3ak.</p> </li> <li> <p>Ha siker\u00fclt a kl\u00f3noz\u00e1s, M\u00c9G NE KEZDJ EL DOLGOZNI! A megold\u00e1st ne a repository <code>master</code>/<code>main</code> \u00e1g\u00e1n k\u00e9sz\u00edtsd el. Hozz l\u00e9tre egy \u00faj \u00e1gat (branch) <code>megoldas</code> n\u00e9ven.</p> <p>GitHub Desktop-ban a Branch men\u00fcben teheted ezt meg.</p> <p></p> <p>Ha konzolt haszn\u00e1lsz, az \u00faj \u00e1g elk\u00e9sz\u00edthet\u0151 ezzel a paranccsal: <code>git checkout -b megoldas</code></p> </li> <li> <p>Ezen a megold\u00e1s \u00e1gon dolgozva k\u00e9sz\u00edtsd el a beadand\u00f3kat. Ak\u00e1rh\u00e1nyszor kommitolhatsz \u00e9s pusholhatsz. A megold\u00e1s r\u00e9sze a forr\u00e1sk\u00f3d \u00e9s a feladatokban elv\u00e1rt k\u00e9perny\u0151k\u00e9pek. Ha a feladat k\u00e9perny\u0151k\u00e9pet v\u00e1r el, akkor azt a repository gy\u00f6ker\u00e9be commitold az elv\u00e1rt n\u00e9ven.</p> <p>Egyetemi laborban</p> <p>Laborg\u00e9peken mindig ellen\u0151r\u00edzd, hogy a megfelel\u0151 n\u00e9vvel \u00e9s email c\u00edmmel kommitolsz-e. Ezt a k\u00f6vetkez\u0151 command line paranccsal tudod megtenni.</p> <pre><code>git config user.name\ngit config user.email\n</code></pre> <p>Ha ez nem megfelel\u0151 lenne, akkor add ki az al\u00e1bbi parancsokat a git repository mapp\u00e1j\u00e1ban. Ezzel az adott repository-ra fogod be\u00e1ll\u00edtani a k\u00edv\u00e1nt nevet \u00e9s email c\u00edmet. (\u00c9rdemes olyan email c\u00edmet, megadni ami a github useretekhez van rendelve)</p> <pre><code>git config user.name \"John Doe\"\ngit config user.email \"john@doe.org\"\n</code></pre> <p>Otthon</p> <p>Otthon a fentieket \u00e9rdemes lehet a glob\u00e1lisan vizsg\u00e1lni \u00e9s fel\u00fcl\u00edrni a <code>--global</code> kapcsol\u00f3val.</p> <p>GitHub Desktop-ban \u00edgy tudsz kommitolni. Mindig ellen\u0151rizd, hogy j\u00f3 \u00e1gon vagy-e. Els\u0151 alkalommal a megoldas \u00e1g csak helyben l\u00e9tezik, ez\u00e9rt publik\u00e1lni kell: Publish this branch.</p> <p></p> <p>A tov\u00e1bbi kommitokn\u00e1l is mindig ellen\u0151rizd a megfelel\u0151 \u00e1gat. Ha egy kommit m\u00e9g nincs fel\u00f6ltve, azt a Push origin gombbal teheted meg. A kis sz\u00e1m a gombon jelzi, hogy h\u00e1ny, m\u00e9g nem pusholt kommit van.</p> <p></p> <p>Ha konzolt haszn\u00e1lsz, akkor az al\u00e1bbi parancsokat haszn\u00e1ld (felt\u00e9ve, hogy a j\u00f3 \u00e1gon vagy):</p> <pre><code># Ellen\u0151rizd az \u00e1gat, \u00e9s hogy milyen f\u00e1jlok m\u00f3dosultak\ngit status\n\n# Minden v\u00e1ltoztat\u00e1st el\u0151k\u00e9sz\u00edt kommitol\u00e1sra\ngit add .\n\n# Kommit\ngit commit -m \"f1\"\n\n# Push els\u0151 alkalommal az \u00faj \u00e1g publik\u00e1l\u00e1s\u00e1hoz\ngit push --set-upstream origin megoldas\n\n# Push a tov\u00e1bbiakban, amikor az \u00e1g m\u00e1r nem \u00faj\ngit push\n</code></pre> </li> </ol>"},{"location":"information/GitHub/#a-megoldas-beadasa","title":"A megold\u00e1s bead\u00e1sa","text":"<ol> <li> <p>Ha v\u00e9gezt\u00e9l a megold\u00e1ssal, ellen\u0151rizd a GitHub webes fel\u00fclet\u00e9n, hogy mindent felt\u00f6lt\u00f6tt\u00e9l-e. Ehhez a webes fel\u00fcleten v\u00e1ltanod kell az \u00e1gak k\u00f6z\u00f6tt.</p> <p></p> <p>Felt\u00f6lt\u00e9s a webes fel\u00fcleten</p> <p>Azt javasoljuk, hogy ne haszn\u00e1ld a GitHub f\u00e1jl felt\u00f6lt\u00e9s funkci\u00f3j\u00e1t. Ha valami hi\u00e1nyzik, a helyi git repository-ban p\u00f3told, \u00e9s kommitold majd pushold.</p> </li> <li> <p>Ha t\u00e9nyleg k\u00e9sz vagy, akkor nyiss egy pull request-et.</p> <p>Minek a pull request?</p> <p>Ez a pull request fogja \u00f6ssze a megold\u00e1sodat, \u00e9s annak \"v\u00e9geredm\u00e9ny\u00e9t\" mutatja. \u00cdgy a laborvezet\u0151nek nem az egyes kommitjaidat vagy f\u00e1jljaidat kell n\u00e9znie, hanem csak a relev\u00e1ns, v\u00e1ltozott r\u00e9szeket l\u00e1tja egyben. A pull request jelenti a feladatod bead\u00e1s\u00e1t is, \u00edgy ez a l\u00e9p\u00e9s nem hagyhat\u00f3 ki.</p> <p>A pull request nyit\u00e1s\u00e1hoz a GitHub webes fel\u00fclet\u00e9re kell menj. Itt, ha nem r\u00e9g pusholt\u00e1l, a GitHub fel is aj\u00e1nlja a pull request l\u00e9trehoz\u00e1s\u00e1t.</p> <p></p> <p>A pull request-et a fenti men\u00fcben is l\u00e9trehozhatod. Fontos, hogy a megfelel\u0151 brancheket v\u00e1laszd ki: <code>main</code>-be megy a <code>megoldas</code> \u00e1g. NE a kiindul\u00f3 repository main \u00e1g\u00e1ra mutasson a PR, hanem a saj\u00e1t fork-od <code>main</code> \u00e1g\u00e1ra!</p> <p></p> <p>Ha minden rendben siker\u00fclt, a men\u00fcben fent l\u00e1tod a kis \"1\" sz\u00e1mot a Pull request elem mellett, jelezve, hogy van egy nyitott pull request. DE M\u00c9G NEM V\u00c9GEZT\u00c9L!</p> <p></p> </li> <li> <p>A pull request hat\u00e1s\u00e1ra le fog futni egy \u00e9rt\u00e9kel\u00e9s. Ennek eredm\u00e9ny\u00e9t a pull request alatt kommentben fogod l\u00e1tni.</p> <p>Ez az \u00e9rt\u00e9kel\u00e9s minden labor eset\u00e9ben m\u00e1s lesz. Egyes laborokn\u00e1l a programodat lefuttatjuk, \u00e9s el\u0151zetes pontsz\u00e1mot is kapsz. M\u00e1s laborokn\u00e1l csak \"szintaktikai ellen\u0151rz\u00e9st\" v\u00e9gz\u00fcnk.</p> <p></p> <p>Ha a ki\u00e9rt\u00e9kel\u00e9s eredm\u00e9ny\u00e9vel kapcsolatban t\u00f6bb inform\u00e1ci\u00f3ra van sz\u00fcks\u00e9ged, mint amit itt l\u00e1tsz, a GitHub Actions webes fel\u00fclete seg\u00edts\u00e9g\u00fcl szolg\u00e1lhat. Err\u0151l itt tal\u00e1lsz egy r\u00f6vid ismertet\u0151t.</p> </li> <li> <p>Ha nem vagy megel\u00e9gedve a munk\u00e1ddal, akkor m\u00e9g jav\u00edthatsz rajta. Ehhez kommitolj \u00e9s pusholj \u00fajra. Ha tov\u00e1bbra is a megfelel\u0151 \u00e1gon dolgozol, akkor a pull request \u00fajb\u00f3l le fogja futtatni a ki\u00e9rt\u00e9kel\u00e9st. Arra k\u00e9r\u00fcnk, hogy MAXIMUM 5 alkalommal futtasd le a ki\u00e9rt\u00e9kel\u00e9st!</p> <p>Megold\u00e1s jav\u00edt\u00e1sa ki\u00e9rt\u00e9kel\u00e9s n\u00e9lk\u00fcl</p> <p>Ha \u00fagy l\u00e1tod, hogy a megold\u00e1sodat m\u00e9g jav\u00edtani akarod, \u00e9s nem szeretn\u00e9d, hogy mindig lefusson az \u00e9rt\u00e9kel\u00e9s, akkor \u00e1ll\u00edtsd \u00e1t a pull request-et a webes fel\u00fcleten draft \u00e1llapotra.</p> <p></p> <p>Ezzel az \u00e1llapottal jelzed, hogy m\u00e9g dolgozol. Kommitolj \u00e9s pusholj. Ilyenkor nem fog futni ki\u00e9rt\u00e9kel\u00e9s. Ha v\u00e9gezt\u00e9l, akkor vissza kell \u00e1ll\u00edtanod a pull request-et: menj a PR alj\u00e1ra \u00e9s kattints a \"Ready for review\" gombra. Ennek hat\u00e1s\u00e1ra vissza\u00e1ll a PR \u00e9s le fog futni az automata \u00e9rt\u00e9kel\u00e9s.</p> <p></p> <p>Maximum 5</p> <p>A maximum 5 alkalomba nem sz\u00e1moljuk bele az esetlegesen megszakadt, vagy tranziens hiba miatt sikertelen futtat\u00e1sokat. Ha viszont figyelmetlens\u00e9gb\u0151l, vagy sz\u00e1nd\u00e9kosan t\u00fall\u00e9ped az \u00f6t\u00f6t, akkor pontlevon\u00e1ssal szankcion\u00e1lunk. Arra k\u00e9r\u00fcnk, hogy bead\u00e1s el\u0151tt teszteld a megold\u00e1sod, ne a GitHub platformot \"dolgoztasd\" magad helyett!</p> </li> <li> <p>V\u00c9GEZET\u00dcL, ha k\u00e9sz vagy, a pull request-et rendeld a laborvezet\u0151dh\u00f6z. Ez a l\u00e9p\u00e9s felt\u00e9tlen\u00fcl fontos, ez jelzi a bead\u00e1st.</p> <p></p> <p>Pull request n\u00e9lk\u00fcl</p> <p>Ha nincs pull request-ed, vagy nincs a laborvezet\u0151h\u00f6z rendelve, akkor \u00fagy tekintj\u00fck, hogy m\u00e9g nem vagy k\u00e9szen, \u00e9s nem adtad be a megold\u00e1st.</p> <p>V\u00e9gezt\u00e9l</p> <p>Miut\u00e1n a laborvezet\u0151h\u00f6z rendelted a pull request-et, m\u00e1r ne m\u00f3dos\u00edts semmin. A laborvezet\u0151 \u00e9rt\u00e9kelni fogja a munk\u00e1dat, \u00e9s a pull request lez\u00e1r\u00e1s\u00e1val kommentben jelzi a v\u00e9geredm\u00e9nyt.</p> </li> </ol>"},{"location":"information/GitHub/#kapott-eredmennyel-kapcsolatban-kerdes-vagy-reklamacio","title":"Kapott eredm\u00e9nnyel kapcsolatban k\u00e9rd\u00e9s vagy reklam\u00e1ci\u00f3","text":"<p>Ha a feladatok \u00e9rt\u00e9kel\u00e9s\u00e9vel vagy az eredm\u00e9nnyel kapcsolatban k\u00e9rd\u00e9st tenn\u00e9l fel, vagy reklam\u00e1ln\u00e1l, haszn\u00e1ld a Pull Request kommentel\u00e9si lehet\u0151s\u00e9g\u00e9t erre. Annak \u00e9rdek\u00e9ben, hogy a laborvezet\u0151 biztosan \u00e9rtes\u00fclj\u00f6n a k\u00e9rd\u00e9sr\u0151l haszn\u00e1ld a <code>@n\u00e9v</code> mention funkci\u00f3t a laborvezet\u0151d megnevez\u00e9s\u00e9hez. Err\u0151l automatikusan kapni fog egy email \u00e9rtes\u00edt\u00e9st.</p> <p></p> <p>Reklam\u00e1ci\u00f3 csak indokl\u00e1ssal</p> <p>Ha nem \u00e9rtesz egyet az \u00e9rt\u00e9kel\u00e9ssel, a bizony\u00edt\u00e1s t\u00e9ged terhel, azaz al\u00e1 kell t\u00e1masztanod a reklam\u00e1ci\u00f3d (pl. annak le\u00edr\u00e1s\u00e1val, hogyan tesztelted a megold\u00e1sod, \u00e9s mi bizony\u00edtja a helyess\u00e9g\u00e9t).</p>"},{"location":"information/certification/","title":"Megaj\u00e1nlott jegyk\u00e9nt elfogadott Microsoft min\u0151s\u00edt\u00e9sek","text":"<p>V\u00e9gleges\u00edtve 2024. \u0151szi f\u00e9l\u00e9vre 2024.09.19-\u00e9n</p> <p>A Microsoft Certified: DevOps Engineer Expert min\u0151s\u00edt\u00e9s jelest \u00e9r a t\u00e1rgyb\u00f3l. Ez a min\u0151s\u00edt\u00e9s k\u00e9t (g\u00e9p el\u0151tti) vizsga let\u00e9tel\u00e9vel szerezhet\u0151 meg. A vizsg\u00e1k otthonr\u00f3l (online), illetve b\u00e1rmely akkredit\u00e1lt vizsgak\u00f6zpontban is letehet\u0151k.</p>"},{"location":"information/certification/#koltsegek-tippek-trukkok","title":"K\u00f6lts\u00e9gek, tippek, tr\u00fckk\u00f6k","text":"<p>A min\u0151s\u00edt\u00e9shez sz\u00fcks\u00e9ges vizsg\u00e1k fizet\u0151sek, cser\u00e9be nemzetk\u00f6zileg elismertek. A k\u00f6lts\u00e9gek cs\u00f6kkenthet\u0151k vagy megker\u00fclhet\u0151k k\u00fcl\u00f6nf\u00e9le m\u00f3dszerekkel:</p> <ul> <li>fels\u0151oktat\u00e1sban tanul\u00f3k kedvezm\u00e9nyes \u00e1ron tehetnek le MS vizsg\u00e1kat, elvileg a fentieket is. B\u0151vebb inf\u00f3 itt</li> <li>sz\u00e1mos munkahely valamilyen form\u00e1ban megfinansz\u00edrozza a munkav\u00e1llal\u00f3inak</li> </ul> <p>Warning</p> <p>A vizsg\u00e1k Microsoft profilhoz kapcsol\u00f3dnak. NE haszn\u00e1lj egyetemi profilt erre a c\u00e9lra, mert az egyetem elv\u00e9gz\u00e9se ut\u00e1n a profilod t\u00f6rl\u0151dhet. Sima mag\u00e1n MS fi\u00f3k aj\u00e1nlott.</p>"},{"location":"information/certification/#jegy-megszerzese","title":"Jegy megszerz\u00e9se","text":"<p>Amint meg van az eredm\u00e9ny, vedd fel a kapcsolatot az oktat\u00f3kkal. A min\u0151s\u00edt\u00e9seket list\u00e1z\u00f3 oldalra bel\u00e9pve kell igazolnod a min\u0151s\u00edt\u00e9s megszerz\u00e9s\u00e9t.</p> <p>Hat\u00e1rid\u0151 a min\u0151s\u00edt\u00e9s megszerz\u00e9s\u00e9re: az utols\u00f3 vizsga napja.</p>"},{"location":"information/certification/#a-szabalyrendszer-valtozasa","title":"A szab\u00e1lyrendszer v\u00e1ltoz\u00e1sa","text":"<p>V\u00e9gleges\u00edt\u00e9s ut\u00e1n is fenntartjuk a jogot</p> <ul> <li>az elv\u00e9gezhet\u0151 vizsg\u00e1k halmaz\u00e1nak b\u0151v\u00edt\u00e9s\u00e9re</li> <li>pontos\u00edt\u00e1sra, helyes\u00edr\u00e1si hib\u00e1k jav\u00edt\u00e1s\u00e1ra</li> <li>egy\u00e9b v\u00e1ltoztat\u00e1sra a Micropsoft vizsgarendszer v\u00e1ltoz\u00e1sa miatt</li> <li>egy\u00e9b v\u00e1ltoztat\u00e1sra egyetemi szab\u00e1lyok v\u00e1ltoz\u00e1sa miatt (pl. j\u00e1rv\u00e1nyhelyzet miatt)</li> </ul> <p>A v\u00e1ltoz\u00e1sokat a github history-ban k\u00f6vethetitek.</p>"},{"location":"information/contributing/","title":"Hozz\u00e1j\u00e1rul\u00e1s az anyaghoz","text":"<p>Az anyag terjedelm\u00e9b\u0151l adand\u00f3an apr\u00f3bb hib\u00e1k esetenk\u00e9nt hi\u00e1nyoss\u00e1gok jelentkezhetnek a laborokban. Ha egy ilyennel tal\u00e1lkozol \u00e9s \u00fagy d\u00f6ntesz szeretn\u00e9l seg\u00edteni hallgat\u00f3t\u00e1rsaidnak, azt a k\u00f6vetkez\u0151kben le\u00edrtak alapj\u00e1n tudod megtenni.</p> <p>Plusz pont jegyzet jav\u00edt\u00e1s\u00e9rt</p> <p>M\u00e1s tant\u00e1rgyak mint\u00e1j\u00e1ra itt is szeretn\u00e9nk plusz pontot adni a jegyzet open-source hozz\u00e1j\u00e1rul\u00e1sai\u00e9rt. Akik a t\u00e1rgyat jelenleg hallgatj\u00e1k, pontokat kaphatnak hozz\u00e1j\u00e1rul\u00e1saik\u00e9rrt.</p> <p>A f\u00e9l\u00e9v sor\u00e1n plusz pontot lehet szerezni olyan jav\u00edt\u00e1sok\u00e9rt, amik a trivi\u00e1lis 1-2 bet\u0171 elg\u00e9pel\u00e9sen t\u00fal \u00e9rdemben jav\u00edtanak a githubon tal\u00e1lhat\u00f3 labor jegyzetek min\u0151s\u00e9g\u00e9n. Pl.: jelent\u0151s mennyis\u00e9g\u0171 elg\u00e9pel\u00e9s jav\u00edt\u00e1sa, egy\u00e9rtelm\u0171s\u00edt\u00e9sek, illusztr\u00e1ci\u00f3k kieg\u00e9sz\u00edt\u00e9sek k\u00e9sz\u00edt\u00e9se vagy ak\u00e1r egy teljes kieg\u00e9sz\u00edt\u0151 jegyzet \u00edr\u00e1sa  (term\u00e9szetesen nem azonos pont\u00e9rt\u00e9kkel).</p> <p>Persze a pont n\u00e9lk\u00fcl az 1-1 bet\u0171s elg\u00e9pel\u00e9seket is sz\u00edvesen fogadjuk, ami bemeleg\u00edt\u00e9snek is t\u00f6k\u00e9letes.</p> <p>A pontos pont\u00e9rt\u00e9k\u00e9rt l\u00e1sd a pontrendszert.</p>"},{"location":"information/contributing/#hibak-jelzese","title":"Hib\u00e1k jelz\u00e9se","text":"<p>Amennyiben hib\u00e1t tal\u00e1lsz az anyagban, vagy szeretn\u00e9d b\u0151v\u00edteni, de nem \u00e1ll m\u00f3dodban jav\u00edtani, nyithatsz egy issue-t amiben le\u00edrod a hib\u00e1t.</p> <ol> <li>N\u00e9zd meg, hogy valaki nem jelezte-e, amit szeretn\u00e9l.     Gyakran m\u00e1r l\u00e9tez\u0151 probl\u00e9m\u00e1kat tal\u00e1lnak, amire m\u00e1r van pull request,     \u00edgy miel\u0151tt b\u00e1rmit tenn\u00e9l n\u00e9zd meg valaki nem el\u0151z\u00f6tt-e meg</li> <li>Az issues tabon a new issue gombbal hozz l\u00e9tre egy \u00faj issue-t.     </li> <li>L\u00e1sd el a megfelel\u0151 c\u00edmk\u00e9kkel<ol> <li>A labor t\u00edpusa (<code>android</code> az androidos laborokn\u00e1l \u00e9s <code>web</code> a webes laborokn\u00e1l)</li> <li>A hiba t\u00edpusa (<code>clarification</code>, <code>typo</code>, <code>illustration</code> vagy <code>notes</code>)</li> </ol> </li> <li>\u00cdrd le, hogy mit k\u00e9ne tartalmaznia a jav\u00edt\u00e1snak</li> </ol> <p>Tip</p> <p>Az c\u00edme legyen r\u00f6vid \u00e9s l\u00e9nyegret\u00f6r\u0151, pl.: <code>Megfogalmaz\u00e1s pontos\u00edt\u00e1sa a 4. laborban</code> vagy <code>A 6. laborban a le\u00edrt k\u00f3d hib\u00e1san m\u0171k\u00f6dik Android 12-n</code></p> <p>A issue descriptionj\u00e9ben pedig fejtsd ki, hol tal\u00e1lhat\u00f3 a hi\u00e1nyoss\u00e1g, illetve ha van r\u00e1 \u00f6tleted, hogy lehetne orvosolni ezt. Ha ezeken t\u00fal m\u00e9g screenshotot is tudsz mell\u00e9kelni, az nagyban megseg\u00edti a probl\u00e9ma mihamarabbi jav\u00edt\u00e1s\u00e1t.</p> <p>Warning</p> <p>A github issues nem a laborfeladatok megold\u00e1s\u00e1val kapcsolatos probl\u00e9m\u00e1k helye, \u00edgy a \"Nem tudom megoldani hogy az \u00e9rtes\u00edt\u00e9s meg\u00e9rkezzen\" jelleg\u0171 probl\u00e9m\u00e1kat ne itt jelezz\u00e9tek, erre van a t\u00e1rgy hivatalos Teams csoportja.</p>"},{"location":"information/contributing/#valtoztatasok-javaslasa","title":"V\u00e1ltoztat\u00e1sok javasl\u00e1sa","text":"<p>Amennyiben a hozz\u00e1j\u00e1rul\u00e1sod meg tudod val\u00f3s\u00edtani ind\u00edts pull requestet</p> <ol> <li> <p>Forkold a repository-t a Githubon jobb fels\u0151 sarokban tal\u00e1lhat\u00f3 gombbal     </p> </li> <li> <p>V\u00e9gezd el a v\u00e1ltoztat\u00e1sokat.</p> <ol> <li> <p>Hozz l\u00e9tre egy branchet a saj\u00e1t forkodon, amin a v\u00e1ltoztat\u00e1sokat el fogod v\u00e9gezni.</p> </li> <li> <p>Ezen a branchen k\u00e9sz\u00edtsd el a jav\u00edt\u00e1sokat</p> </li> <li> <p>Ellen\u0151rizd, hogy ne ker\u00fclj\u00f6n bele a commitba olyan file, amit az editor gener\u00e1lt (pl.: <code>.idea</code> mappa) illetve olyan file aminek nem k\u00e9ne kiker\u00fclnie, pl.: Github Private Access Token</p> </li> <li> <p>Ha k\u00e9sz vagy ind\u00edts egy pull requestet a jegyzeteket tartalmaz\u00f3 rep\u00f3 f\u0151 \u00e1g\u00e1ra.</p> </li> <li> <p>A le\u00edr\u00e1sban r\u00e9szletezd v\u00e1ltoztat\u00e1sok ok\u00e1t.     Ne felejtsd el bele\u00edrni a NEPTUN k\u00f3dod a le\u00edr\u00e1sba, mert \u00edgy fogjuk tudni megadni a pontokat.</p> </li> </ol> </li> <li> <p>Valaki, akinek hozz\u00e1f\u00e9r\u00e9se van a repositoryhoz, ellen\u0151rzi a v\u00e1ltoztat\u00e1sok sz\u00fcks\u00e9gess\u00e9g\u00e9t, \u00e9s elb\u00edr\u00e1lja, hogy val\u00f3ban beker\u00fclhet az anyagba.</p> </li> <li>A v\u00e1ltoztat\u00e1sokra review-t ind\u00edtunk \u00e9s ha kell m\u00f3dos\u00edt\u00e1sokat fogunk k\u00e9rni.</li> <li>Ha minden k\u00e9rt v\u00e1ltoztat\u00e1s megt\u00f6rt\u00e9nt, a hozz\u00e1j\u00e1rul\u00e1sod beleker\u00fcl az anyagba.</li> </ol>"},{"location":"information/contributing/#code-style","title":"Code style","text":"<ul> <li>Markdown: Mivel az alap spec nem mindig a legtiszt\u00e1bban \u00e9rthet\u0151, a markdownlint szab\u00e1lyai alapj\u00e1n, az n\u00e9h\u00e1ny kiv\u00e9tel\u00e9vel. Ezeket a <code>.markdownlint.yaml</code>-ben tal\u00e1lod, ha VSCode-ot haszn\u00e1lsz automatikusan alkalmazza \u0151ket az editor \u00e9s jelzi ha nem megfelel\u0151 amit \u00edrsz.</li> </ul> <p>Ezek a st\u00edlusok a t\u00e1rgyban aj\u00e1nlott editorokban k\u00f6nnyen be\u00e1ll\u00edthat\u00f3ak.</p>"},{"location":"information/contributing/#vscode","title":"VSCode","text":"<p>Aj\u00e1nlott extension\u00f6k:</p> <ul> <li><code>yzhang.markdown-all-in-one</code>: MD szinkroniz\u00e1lt live preview</li> <li><code>DavidAnson.vscode-markdownlint</code>: MD form\u00e1z\u00e1s, szab\u00e1lyok stb.</li> <li>Prettier: HTML+CSS form\u00e1z\u00f3</li> <li>Error Lens: Kiemeli a hib\u00e1kat hogy gyorsabben megtal\u00e1ljuk \u0151ket</li> <li>Paste Image: egyszer\u0171s\u00edti a k\u00e9pek beilleszt\u00e9s\u00e9t markdownba</li> </ul> <p>Az editor be\u00e1ll\u00edt\u00e1s\u00e1hoz nyisd meg a repo-t a gy\u00f6ker\u00e9ben VSCode-al. A VSCode fel fogja aj\u00e1nlani a k\u00e9t markdown extension-t.</p> <p></p> <p>Ha ez megt\u00f6rt\u00e9nt, nyiss meg egy markdown dokumentumot, \u00e9s haszn\u00e1ld a Ctrl+Shift+P shortcutot, a command palette megnyit\u00e1s\u00e1hoz.</p> <p>Tip</p> <p>A command palette a VSCode parancsaihoz ny\u00fajt hozz\u00e1f\u00e9r\u00e9st, autocompleteeli a parancsokat \u00e9s egy minim\u00e1lis GUI-t is biztos\u00edt.</p> <p>A command palette-be keress\u00fck meg a <code>Format Document With...</code> men\u00fcpontot \u00e9s v\u00e1lasszuk ki. Ekkor egy almen\u00fcbe dob az editor \u00e9s kiv\u00e1laszthatjuk hogy melyik form\u00e1z\u00f3val form\u00e1zzuk a MD dokumentumokat. Legalul lesz egy <code>Configure Default Formatter</code>, v\u00e1lasszuk ezt. Ezut\u00e1n v\u00e1lasszuk a <code>markdownlint</code> extensiont, \u00e9s k\u00e9szen vagyunk.</p> <p>Megfelel\u0151 formatter kiv\u00e1laszt\u00e1sa</p> <p>Ne v\u00e1laszd ki a prettiert formatterk\u00e9nt, mert elt\u00f6ri a sz\u00f6vegbubor\u00e9kokat.</p> <p>Ezen fel\u00fcl \u00e9rdemes lehet bekapcsolni a ment\u00e9s el\u0151tti form\u00e1z\u00e1st.</p> <p>A Ctrl+, shortcuttal megnyitjuk a be\u00e1ll\u00edt\u00e1sokat, \u00e9s r\u00e1keres\u00fcnk arra, hogy format on save. Itt kipip\u00e1ljuk a checkboxot \u00e9s k\u00e9szen vagyunk.</p> <p>Ha ehhez nem lenne t\u00fcrelmed, itt a json amit a <code>settings.json</code>-ba illesztve be\u00e1ll\u00edt\u00f3dik minden.</p> <pre><code>{\n  \"[markdown]\": {\n    \"editor.defaultFormatter\": \"DavidAnson.vscode-markdownlint\",\n    \"editor.formatOnSave\": true\n  }\n}\n</code></pre>"}]}